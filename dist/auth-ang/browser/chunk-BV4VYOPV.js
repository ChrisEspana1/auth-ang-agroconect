import{A as ms,Aa as pn,C as ps,Ca as Ur,Cb as Wr,D as Om,Da as ll,E as gs,Ea as ke,F as Nm,Fa as he,Fb as Gm,G as sl,Ga as pe,H as _s,I as Ai,Ia as gn,Ib as Ss,Ja as Ts,Jb as Hr,K as $t,Kb as Km,L as Si,Lb as Gr,M as Mm,Ma as Br,Mb as Ym,N as Fm,Nb as hl,Oa as _n,Ob as fl,Pa as Je,Pb as ct,Q as $,Qa as Ze,Qb as Qm,R as de,Rb as Xm,S as Q,Sb as Cs,T as Lr,U as S,Ua as ki,Ub as Jm,V as Ci,Va as et,Wa as tt,X as mn,Xa as zr,Xb as Zm,Y as vs,Ya as jr,Z as Lm,Za as qr,_ as Vm,_a as Rt,_b as ep,a as xt,b as Me,ba as se,bb as zm,c as Z,ca as ae,cb as jm,cc as tp,d as Tm,db as qm,e as Am,ea as Vr,ec as np,f as Sm,fa as al,fb as vn,ga as Wt,gb as kt,h as fs,ha as ys,hb as Ee,i as il,ia as Xe,ib as Pi,j as rl,jb as yt,ka as bs,kb as ze,l as _t,la as ce,lb as je,m as Cm,ma as cl,mb as $m,na as Um,nb as $r,o as Re,oa as ws,ob as ul,p as xm,pa as Es,pb as dl,q as Rm,qa as Bm,ra as xi,rb as qe,s as km,sb as As,tb as Wm,ua as Fe,ub as Hm,v as Pm,va as Ht,w as rt,wa as W,x as ol,xa as Ri,y as Dm,ya as Is,z as Ti,za as vt}from"./chunk-T52MBMFP.js";import{a as me,b as Fr,f as fn,g as _}from"./chunk-RA2WU32H.js";var ip=()=>{};var sp=function(n){let e=[],t=0;for(let i=0;i<n.length;i++){let r=n.charCodeAt(i);r<128?e[t++]=r:r<2048?(e[t++]=r>>6|192,e[t++]=r&63|128):(r&64512)===55296&&i+1<n.length&&(n.charCodeAt(i+1)&64512)===56320?(r=65536+((r&1023)<<10)+(n.charCodeAt(++i)&1023),e[t++]=r>>18|240,e[t++]=r>>12&63|128,e[t++]=r>>6&63|128,e[t++]=r&63|128):(e[t++]=r>>12|224,e[t++]=r>>6&63|128,e[t++]=r&63|128)}return e},Lw=function(n){let e=[],t=0,i=0;for(;t<n.length;){let r=n[t++];if(r<128)e[i++]=String.fromCharCode(r);else if(r>191&&r<224){let o=n[t++];e[i++]=String.fromCharCode((r&31)<<6|o&63)}else if(r>239&&r<365){let o=n[t++],a=n[t++],c=n[t++],u=((r&7)<<18|(o&63)<<12|(a&63)<<6|c&63)-65536;e[i++]=String.fromCharCode(55296+(u>>10)),e[i++]=String.fromCharCode(56320+(u&1023))}else{let o=n[t++],a=n[t++];e[i++]=String.fromCharCode((r&15)<<12|(o&63)<<6|a&63)}}return e.join("")},xs={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(n,e){if(!Array.isArray(n))throw Error("encodeByteArray takes an array as a parameter");this.init_();let t=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,i=[];for(let r=0;r<n.length;r+=3){let o=n[r],a=r+1<n.length,c=a?n[r+1]:0,u=r+2<n.length,h=u?n[r+2]:0,f=o>>2,p=(o&3)<<4|c>>4,v=(c&15)<<2|h>>6,C=h&63;u||(C=64,a||(v=64)),i.push(t[f],t[p],t[v],t[C])}return i.join("")},encodeString(n,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(n):this.encodeByteArray(sp(n),e)},decodeString(n,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(n):Lw(this.decodeStringToByteArray(n,e))},decodeStringToByteArray(n,e){this.init_();let t=e?this.charToByteMapWebSafe_:this.charToByteMap_,i=[];for(let r=0;r<n.length;){let o=t[n.charAt(r++)],c=r<n.length?t[n.charAt(r)]:0;++r;let h=r<n.length?t[n.charAt(r)]:64;++r;let p=r<n.length?t[n.charAt(r)]:64;if(++r,o==null||c==null||h==null||p==null)throw new pl;let v=o<<2|c>>4;if(i.push(v),h!==64){let C=c<<4&240|h>>2;if(i.push(C),p!==64){let k=h<<6&192|p;i.push(k)}}}return i},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let n=0;n<this.ENCODED_VALS.length;n++)this.byteToCharMap_[n]=this.ENCODED_VALS.charAt(n),this.charToByteMap_[this.byteToCharMap_[n]]=n,this.byteToCharMapWebSafe_[n]=this.ENCODED_VALS_WEBSAFE.charAt(n),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[n]]=n,n>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(n)]=n,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(n)]=n)}}},pl=class extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}},Vw=function(n){let e=sp(n);return xs.encodeByteArray(e,!0)},Yr=function(n){return Vw(n).replace(/\./g,"")},Rs=function(n){try{return xs.decodeString(n,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};function _l(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}var Uw=()=>_l().__FIREBASE_DEFAULTS__,Bw=()=>{if(typeof process>"u"||typeof process.env>"u")return;let n=process.env.__FIREBASE_DEFAULTS__;if(n)return JSON.parse(n)},zw=()=>{if(typeof document>"u")return;let n;try{n=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}let e=n&&Rs(n[1]);return e&&JSON.parse(e)},ks=()=>{try{return ip()||Uw()||Bw()||zw()}catch(n){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${n}`);return}},vl=n=>{var e,t;return(t=(e=ks())===null||e===void 0?void 0:e.emulatorHosts)===null||t===void 0?void 0:t[n]},ap=n=>{let e=vl(n);if(!e)return;let t=e.lastIndexOf(":");if(t<=0||t+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);let i=parseInt(e.substring(t+1),10);return e[0]==="["?[e.substring(1,t-1),i]:[e.substring(0,t),i]},yl=()=>{var n;return(n=ks())===null||n===void 0?void 0:n.config},bl=n=>{var e;return(e=ks())===null||e===void 0?void 0:e[`_${n}`]};var Gn=class{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,t)=>{this.resolve=e,this.reject=t})}wrapCallback(e){return(t,i)=>{t?this.reject(t):this.resolve(i),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(t):e(t,i))}}};function yn(n){try{return(n.startsWith("http://")||n.startsWith("https://")?new URL(n).hostname:n).endsWith(".cloudworkstations.dev")}catch{return!1}}function Ps(n){return _(this,null,function*(){return(yield fetch(n,{credentials:"include"})).ok})}function cp(n,e){if(n.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');let t={alg:"none",type:"JWT"},i=e||"demo-project",r=n.iat||0,o=n.sub||n.user_id;if(!o)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");let a=Object.assign({iss:`https://securetoken.google.com/${i}`,aud:i,iat:r,exp:r+3600,auth_time:r,sub:o,user_id:o,firebase:{sign_in_provider:"custom",identities:{}}},n);return[Yr(JSON.stringify(t)),Yr(JSON.stringify(a)),""].join(".")}var Kr={};function jw(){let n={prod:[],emulator:[]};for(let e of Object.keys(Kr))Kr[e]?n.emulator.push(e):n.prod.push(e);return n}function qw(n){let e=document.getElementById(n),t=!1;return e||(e=document.createElement("div"),e.setAttribute("id",n),t=!0),{created:t,element:e}}var rp=!1;function Ds(n,e){if(typeof window>"u"||typeof document>"u"||!yn(window.location.host)||Kr[n]===e||Kr[n]||rp)return;Kr[n]=e;function t(v){return`__firebase__banner__${v}`}let i="__firebase__banner",o=jw().prod.length>0;function a(){let v=document.getElementById(i);v&&v.remove()}function c(v){v.style.display="flex",v.style.background="#7faaf0",v.style.position="fixed",v.style.bottom="5px",v.style.left="5px",v.style.padding=".5em",v.style.borderRadius="5px",v.style.alignItems="center"}function u(v,C){v.setAttribute("width","24"),v.setAttribute("id",C),v.setAttribute("height","24"),v.setAttribute("viewBox","0 0 24 24"),v.setAttribute("fill","none"),v.style.marginLeft="-6px"}function h(){let v=document.createElement("span");return v.style.cursor="pointer",v.style.marginLeft="16px",v.style.fontSize="24px",v.innerHTML=" &times;",v.onclick=()=>{rp=!0,a()},v}function f(v,C){v.setAttribute("id",C),v.innerText="Learn more",v.href="https://firebase.google.com/docs/studio/preview-apps#preview-backend",v.setAttribute("target","__blank"),v.style.paddingLeft="5px",v.style.textDecoration="underline"}function p(){let v=qw(i),C=t("text"),k=document.getElementById(C)||document.createElement("span"),O=t("learnmore"),D=document.getElementById(O)||document.createElement("a"),j=t("preprendIcon"),B=document.getElementById(j)||document.createElementNS("http://www.w3.org/2000/svg","svg");if(v.created){let q=v.element;c(q),f(D,O);let ne=h();u(B,j),q.append(B,k,D,ne),document.body.appendChild(q)}o?(k.innerText="Preview backend disconnected.",B.innerHTML=`<g clip-path="url(#clip0_6013_33858)">
<path d="M4.8 17.6L12 5.6L19.2 17.6H4.8ZM6.91667 16.4H17.0833L12 7.93333L6.91667 16.4ZM12 15.6C12.1667 15.6 12.3056 15.5444 12.4167 15.4333C12.5389 15.3111 12.6 15.1667 12.6 15C12.6 14.8333 12.5389 14.6944 12.4167 14.5833C12.3056 14.4611 12.1667 14.4 12 14.4C11.8333 14.4 11.6889 14.4611 11.5667 14.5833C11.4556 14.6944 11.4 14.8333 11.4 15C11.4 15.1667 11.4556 15.3111 11.5667 15.4333C11.6889 15.5444 11.8333 15.6 12 15.6ZM11.4 13.6H12.6V10.4H11.4V13.6Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6013_33858">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`):(B.innerHTML=`<g clip-path="url(#clip0_6083_34804)">
<path d="M11.4 15.2H12.6V11.2H11.4V15.2ZM12 10C12.1667 10 12.3056 9.94444 12.4167 9.83333C12.5389 9.71111 12.6 9.56667 12.6 9.4C12.6 9.23333 12.5389 9.09444 12.4167 8.98333C12.3056 8.86111 12.1667 8.8 12 8.8C11.8333 8.8 11.6889 8.86111 11.5667 8.98333C11.4556 9.09444 11.4 9.23333 11.4 9.4C11.4 9.56667 11.4556 9.71111 11.5667 9.83333C11.6889 9.94444 11.8333 10 12 10ZM12 18.4C11.1222 18.4 10.2944 18.2333 9.51667 17.9C8.73889 17.5667 8.05556 17.1111 7.46667 16.5333C6.88889 15.9444 6.43333 15.2611 6.1 14.4833C5.76667 13.7056 5.6 12.8778 5.6 12C5.6 11.1111 5.76667 10.2833 6.1 9.51667C6.43333 8.73889 6.88889 8.06111 7.46667 7.48333C8.05556 6.89444 8.73889 6.43333 9.51667 6.1C10.2944 5.76667 11.1222 5.6 12 5.6C12.8889 5.6 13.7167 5.76667 14.4833 6.1C15.2611 6.43333 15.9389 6.89444 16.5167 7.48333C17.1056 8.06111 17.5667 8.73889 17.9 9.51667C18.2333 10.2833 18.4 11.1111 18.4 12C18.4 12.8778 18.2333 13.7056 17.9 14.4833C17.5667 15.2611 17.1056 15.9444 16.5167 16.5333C15.9389 17.1111 15.2611 17.5667 14.4833 17.9C13.7167 18.2333 12.8889 18.4 12 18.4ZM12 17.2C13.4444 17.2 14.6722 16.6944 15.6833 15.6833C16.6944 14.6722 17.2 13.4444 17.2 12C17.2 10.5556 16.6944 9.32778 15.6833 8.31667C14.6722 7.30555 13.4444 6.8 12 6.8C10.5556 6.8 9.32778 7.30555 8.31667 8.31667C7.30556 9.32778 6.8 10.5556 6.8 12C6.8 13.4444 7.30556 14.6722 8.31667 15.6833C9.32778 16.6944 10.5556 17.2 12 17.2Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6083_34804">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`,k.innerText="Preview backend running in this workspace."),k.setAttribute("id",C)}document.readyState==="loading"?window.addEventListener("DOMContentLoaded",p):p()}function Pe(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function lp(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(Pe())}function $w(){var n;let e=(n=ks())===null||n===void 0?void 0:n.forceEnvironment;if(e==="node")return!0;if(e==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function up(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function dp(){let n=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof n=="object"&&n.id!==void 0}function hp(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function fp(){let n=Pe();return n.indexOf("MSIE ")>=0||n.indexOf("Trident/")>=0}function mp(){return!$w()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function Qr(){try{return typeof indexedDB=="object"}catch{return!1}}function pp(){return new Promise((n,e)=>{try{let t=!0,i="validate-browser-context-for-indexeddb-analytics-module",r=self.indexedDB.open(i);r.onsuccess=()=>{r.result.close(),t||self.indexedDB.deleteDatabase(i),n(!0)},r.onupgradeneeded=()=>{t=!1},r.onerror=()=>{var o;e(((o=r.error)===null||o===void 0?void 0:o.message)||"")}}catch(t){e(t)}})}var Ww="FirebaseError",ot=class n extends Error{constructor(e,t,i){super(t),this.code=e,this.customData=i,this.name=Ww,Object.setPrototypeOf(this,n.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,bt.prototype.create)}},bt=class{constructor(e,t,i){this.service=e,this.serviceName=t,this.errors=i}create(e,...t){let i=t[0]||{},r=`${this.service}/${e}`,o=this.errors[e],a=o?Hw(o,i):"Error",c=`${this.serviceName}: ${a} (${r}).`;return new ot(r,c,i)}};function Hw(n,e){return n.replace(Gw,(t,i)=>{let r=e[i];return r!=null?String(r):`<${i}?>`})}var Gw=/\{\$([^}]+)}/g;function gp(n){for(let e in n)if(Object.prototype.hasOwnProperty.call(n,e))return!1;return!0}function Pt(n,e){if(n===e)return!0;let t=Object.keys(n),i=Object.keys(e);for(let r of t){if(!i.includes(r))return!1;let o=n[r],a=e[r];if(op(o)&&op(a)){if(!Pt(o,a))return!1}else if(o!==a)return!1}for(let r of i)if(!t.includes(r))return!1;return!0}function op(n){return n!==null&&typeof n=="object"}function Di(n){let e=[];for(let[t,i]of Object.entries(n))Array.isArray(i)?i.forEach(r=>{e.push(encodeURIComponent(t)+"="+encodeURIComponent(r))}):e.push(encodeURIComponent(t)+"="+encodeURIComponent(i));return e.length?"&"+e.join("&"):""}function Oi(n){let e={};return n.replace(/^\?/,"").split("&").forEach(i=>{if(i){let[r,o]=i.split("=");e[decodeURIComponent(r)]=decodeURIComponent(o)}}),e}function Ni(n){let e=n.indexOf("?");if(!e)return"";let t=n.indexOf("#",e);return n.substring(e,t>0?t:void 0)}function _p(n,e){let t=new gl(n,e);return t.subscribe.bind(t)}var gl=class{constructor(e,t){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=t,this.task.then(()=>{e(this)}).catch(i=>{this.error(i)})}next(e){this.forEachObserver(t=>{t.next(e)})}error(e){this.forEachObserver(t=>{t.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,t,i){let r;if(e===void 0&&t===void 0&&i===void 0)throw new Error("Missing Observer.");Kw(e,["next","error","complete"])?r=e:r={next:e,error:t,complete:i},r.next===void 0&&(r.next=ml),r.error===void 0&&(r.error=ml),r.complete===void 0&&(r.complete=ml);let o=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?r.error(this.finalError):r.complete()}catch{}}),this.observers.push(r),o}unsubscribeOne(e){this.observers===void 0||this.observers[e]===void 0||(delete this.observers[e],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let t=0;t<this.observers.length;t++)this.sendOne(t,e)}sendOne(e,t){this.task.then(()=>{if(this.observers!==void 0&&this.observers[e]!==void 0)try{t(this.observers[e])}catch(i){typeof console<"u"&&console.error&&console.error(i)}})}close(e){this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}};function Kw(n,e){if(typeof n!="object"||n===null)return!1;for(let t of e)if(t in n&&typeof n[t]=="function")return!0;return!1}function ml(){}var eR=14400*1e3;function be(n){return n&&n._delegate?n._delegate:n}var Ye=class{constructor(e,t,i){this.name=e,this.instanceFactory=t,this.type=i,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}};var Kn="[DEFAULT]";var wl=class{constructor(e,t){this.name=e,this.container=t,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){let t=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(t)){let i=new Gn;if(this.instancesDeferred.set(t,i),this.isInitialized(t)||this.shouldAutoInitialize())try{let r=this.getOrInitializeService({instanceIdentifier:t});r&&i.resolve(r)}catch{}}return this.instancesDeferred.get(t).promise}getImmediate(e){var t;let i=this.normalizeInstanceIdentifier(e?.identifier),r=(t=e?.optional)!==null&&t!==void 0?t:!1;if(this.isInitialized(i)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:i})}catch(o){if(r)return null;throw o}else{if(r)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(Qw(e))try{this.getOrInitializeService({instanceIdentifier:Kn})}catch{}for(let[t,i]of this.instancesDeferred.entries()){let r=this.normalizeInstanceIdentifier(t);try{let o=this.getOrInitializeService({instanceIdentifier:r});i.resolve(o)}catch{}}}}clearInstance(e=Kn){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}delete(){return _(this,null,function*(){let e=Array.from(this.instances.values());yield Promise.all([...e.filter(t=>"INTERNAL"in t).map(t=>t.INTERNAL.delete()),...e.filter(t=>"_delete"in t).map(t=>t._delete())])})}isComponentSet(){return this.component!=null}isInitialized(e=Kn){return this.instances.has(e)}getOptions(e=Kn){return this.instancesOptions.get(e)||{}}initialize(e={}){let{options:t={}}=e,i=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(i))throw Error(`${this.name}(${i}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);let r=this.getOrInitializeService({instanceIdentifier:i,options:t});for(let[o,a]of this.instancesDeferred.entries()){let c=this.normalizeInstanceIdentifier(o);i===c&&a.resolve(r)}return r}onInit(e,t){var i;let r=this.normalizeInstanceIdentifier(t),o=(i=this.onInitCallbacks.get(r))!==null&&i!==void 0?i:new Set;o.add(e),this.onInitCallbacks.set(r,o);let a=this.instances.get(r);return a&&e(a,r),()=>{o.delete(e)}}invokeOnInitCallbacks(e,t){let i=this.onInitCallbacks.get(t);if(i)for(let r of i)try{r(e,t)}catch{}}getOrInitializeService({instanceIdentifier:e,options:t={}}){let i=this.instances.get(e);if(!i&&this.component&&(i=this.component.instanceFactory(this.container,{instanceIdentifier:Yw(e),options:t}),this.instances.set(e,i),this.instancesOptions.set(e,t),this.invokeOnInitCallbacks(i,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,i)}catch{}return i||null}normalizeInstanceIdentifier(e=Kn){return this.component?this.component.multipleInstances?e:Kn:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}};function Yw(n){return n===Kn?void 0:n}function Qw(n){return n.instantiationMode==="EAGER"}var Os=class{constructor(e){this.name=e,this.providers=new Map}addComponent(e){let t=this.getProvider(e.name);if(t.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);t.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);let t=new wl(e,this);return this.providers.set(e,t),t}getProviders(){return Array.from(this.providers.values())}};var Xw=[],K=(function(n){return n[n.DEBUG=0]="DEBUG",n[n.VERBOSE=1]="VERBOSE",n[n.INFO=2]="INFO",n[n.WARN=3]="WARN",n[n.ERROR=4]="ERROR",n[n.SILENT=5]="SILENT",n})(K||{}),Jw={debug:K.DEBUG,verbose:K.VERBOSE,info:K.INFO,warn:K.WARN,error:K.ERROR,silent:K.SILENT},Zw=K.INFO,eE={[K.DEBUG]:"log",[K.VERBOSE]:"log",[K.INFO]:"info",[K.WARN]:"warn",[K.ERROR]:"error"},tE=(n,e,...t)=>{if(e<n.logLevel)return;let i=new Date().toISOString(),r=eE[e];if(r)console[r](`[${i}]  ${n.name}:`,...t);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)},Dt=class{constructor(e){this.name=e,this._logLevel=Zw,this._logHandler=tE,this._userLogHandler=null,Xw.push(this)}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in K))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?Jw[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,K.DEBUG,...e),this._logHandler(this,K.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,K.VERBOSE,...e),this._logHandler(this,K.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,K.INFO,...e),this._logHandler(this,K.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,K.WARN,...e),this._logHandler(this,K.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,K.ERROR,...e),this._logHandler(this,K.ERROR,...e)}};var nE=(n,e)=>e.some(t=>n instanceof t),vp,yp;function iE(){return vp||(vp=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function rE(){return yp||(yp=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}var bp=new WeakMap,Il=new WeakMap,wp=new WeakMap,El=new WeakMap,Al=new WeakMap;function oE(n){let e=new Promise((t,i)=>{let r=()=>{n.removeEventListener("success",o),n.removeEventListener("error",a)},o=()=>{t(Ot(n.result)),r()},a=()=>{i(n.error),r()};n.addEventListener("success",o),n.addEventListener("error",a)});return e.then(t=>{t instanceof IDBCursor&&bp.set(t,n)}).catch(()=>{}),Al.set(e,n),e}function sE(n){if(Il.has(n))return;let e=new Promise((t,i)=>{let r=()=>{n.removeEventListener("complete",o),n.removeEventListener("error",a),n.removeEventListener("abort",a)},o=()=>{t(),r()},a=()=>{i(n.error||new DOMException("AbortError","AbortError")),r()};n.addEventListener("complete",o),n.addEventListener("error",a),n.addEventListener("abort",a)});Il.set(n,e)}var Tl={get(n,e,t){if(n instanceof IDBTransaction){if(e==="done")return Il.get(n);if(e==="objectStoreNames")return n.objectStoreNames||wp.get(n);if(e==="store")return t.objectStoreNames[1]?void 0:t.objectStore(t.objectStoreNames[0])}return Ot(n[e])},set(n,e,t){return n[e]=t,!0},has(n,e){return n instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in n}};function Ep(n){Tl=n(Tl)}function aE(n){return n===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...t){let i=n.call(Ns(this),e,...t);return wp.set(i,e.sort?e.sort():[e]),Ot(i)}:rE().includes(n)?function(...e){return n.apply(Ns(this),e),Ot(bp.get(this))}:function(...e){return Ot(n.apply(Ns(this),e))}}function cE(n){return typeof n=="function"?aE(n):(n instanceof IDBTransaction&&sE(n),nE(n,iE())?new Proxy(n,Tl):n)}function Ot(n){if(n instanceof IDBRequest)return oE(n);if(El.has(n))return El.get(n);let e=cE(n);return e!==n&&(El.set(n,e),Al.set(e,n)),e}var Ns=n=>Al.get(n);function Tp(n,e,{blocked:t,upgrade:i,blocking:r,terminated:o}={}){let a=indexedDB.open(n,e),c=Ot(a);return i&&a.addEventListener("upgradeneeded",u=>{i(Ot(a.result),u.oldVersion,u.newVersion,Ot(a.transaction),u)}),t&&a.addEventListener("blocked",u=>t(u.oldVersion,u.newVersion,u)),c.then(u=>{o&&u.addEventListener("close",()=>o()),r&&u.addEventListener("versionchange",h=>r(h.oldVersion,h.newVersion,h))}).catch(()=>{}),c}var lE=["get","getKey","getAll","getAllKeys","count"],uE=["put","add","delete","clear"],Sl=new Map;function Ip(n,e){if(!(n instanceof IDBDatabase&&!(e in n)&&typeof e=="string"))return;if(Sl.get(e))return Sl.get(e);let t=e.replace(/FromIndex$/,""),i=e!==t,r=uE.includes(t);if(!(t in(i?IDBIndex:IDBObjectStore).prototype)||!(r||lE.includes(t)))return;let o=function(a,...c){return _(this,null,function*(){let u=this.transaction(a,r?"readwrite":"readonly"),h=u.store;return i&&(h=h.index(c.shift())),(yield Promise.all([h[t](...c),r&&u.done]))[0]})};return Sl.set(e,o),o}Ep(n=>Fr(me({},n),{get:(e,t,i)=>Ip(e,t)||n.get(e,t,i),has:(e,t)=>!!Ip(e,t)||n.has(e,t)}));var xl=class{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(t=>{if(dE(t)){let i=t.getImmediate();return`${i.library}/${i.version}`}else return null}).filter(t=>t).join(" ")}};function dE(n){let e=n.getComponent();return e?.type==="VERSION"}var Rl="@firebase/app",Ap="0.13.2";var Gt=new Dt("@firebase/app"),hE="@firebase/app-compat",fE="@firebase/analytics-compat",mE="@firebase/analytics",pE="@firebase/app-check-compat",gE="@firebase/app-check",_E="@firebase/auth",vE="@firebase/auth-compat",yE="@firebase/database",bE="@firebase/data-connect",wE="@firebase/database-compat",EE="@firebase/functions",IE="@firebase/functions-compat",TE="@firebase/installations",AE="@firebase/installations-compat",SE="@firebase/messaging",CE="@firebase/messaging-compat",xE="@firebase/performance",RE="@firebase/performance-compat",kE="@firebase/remote-config",PE="@firebase/remote-config-compat",DE="@firebase/storage",OE="@firebase/storage-compat",NE="@firebase/firestore",ME="@firebase/ai",FE="@firebase/firestore-compat",LE="firebase",VE="11.10.0";var kl="[DEFAULT]",UE={[Rl]:"fire-core",[hE]:"fire-core-compat",[mE]:"fire-analytics",[fE]:"fire-analytics-compat",[gE]:"fire-app-check",[pE]:"fire-app-check-compat",[_E]:"fire-auth",[vE]:"fire-auth-compat",[yE]:"fire-rtdb",[bE]:"fire-data-connect",[wE]:"fire-rtdb-compat",[EE]:"fire-fn",[IE]:"fire-fn-compat",[TE]:"fire-iid",[AE]:"fire-iid-compat",[SE]:"fire-fcm",[CE]:"fire-fcm-compat",[xE]:"fire-perf",[RE]:"fire-perf-compat",[kE]:"fire-rc",[PE]:"fire-rc-compat",[DE]:"fire-gcs",[OE]:"fire-gcs-compat",[NE]:"fire-fst",[FE]:"fire-fst-compat",[ME]:"fire-vertex","fire-js":"fire-js",[LE]:"fire-js-all"};var Xr=new Map,BE=new Map,Pl=new Map;function Sp(n,e){try{n.container.addComponent(e)}catch(t){Gt.debug(`Component ${e.name} failed to register with FirebaseApp ${n.name}`,t)}}function wt(n){let e=n.name;if(Pl.has(e))return Gt.debug(`There were multiple attempts to register component ${e}.`),!1;Pl.set(e,n);for(let t of Xr.values())Sp(t,n);for(let t of BE.values())Sp(t,n);return!0}function Mi(n,e){let t=n.container.getProvider("heartbeat").getImmediate({optional:!0});return t&&t.triggerHeartbeat(),n.container.getProvider(e)}function Qe(n){return n==null?!1:n.settings!==void 0}var zE={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},bn=new bt("app","Firebase",zE);var Dl=class{constructor(e,t,i){this._isDeleted=!1,this._options=Object.assign({},e),this._config=Object.assign({},t),this._name=t.name,this._automaticDataCollectionEnabled=t.automaticDataCollectionEnabled,this._container=i,this.container.addComponent(new Ye("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw bn.create("app-deleted",{appName:this._name})}};var wn=VE;function Ml(n,e={}){let t=n;typeof e!="object"&&(e={name:e});let i=Object.assign({name:kl,automaticDataCollectionEnabled:!0},e),r=i.name;if(typeof r!="string"||!r)throw bn.create("bad-app-name",{appName:String(r)});if(t||(t=yl()),!t)throw bn.create("no-options");let o=Xr.get(r);if(o){if(Pt(t,o.options)&&Pt(i,o.config))return o;throw bn.create("duplicate-app",{appName:r})}let a=new Os(r);for(let u of Pl.values())a.addComponent(u);let c=new Dl(t,i,a);return Xr.set(r,c),c}function Yn(n=kl){let e=Xr.get(n);if(!e&&n===kl&&yl())return Ml();if(!e)throw bn.create("no-app",{appName:n});return e}function Ms(){return Array.from(Xr.values())}function ge(n,e,t){var i;let r=(i=UE[n])!==null&&i!==void 0?i:n;t&&(r+=`-${t}`);let o=r.match(/\s|\//),a=e.match(/\s|\//);if(o||a){let c=[`Unable to register library "${r}" with version "${e}":`];o&&c.push(`library name "${r}" contains illegal characters (whitespace or "/")`),o&&a&&c.push("and"),a&&c.push(`version name "${e}" contains illegal characters (whitespace or "/")`),Gt.warn(c.join(" "));return}wt(new Ye(`${r}-version`,()=>({library:r,version:e}),"VERSION"))}var jE="firebase-heartbeat-database",qE=1,Jr="firebase-heartbeat-store",Cl=null;function kp(){return Cl||(Cl=Tp(jE,qE,{upgrade:(n,e)=>{switch(e){case 0:try{n.createObjectStore(Jr)}catch(t){console.warn(t)}}}}).catch(n=>{throw bn.create("idb-open",{originalErrorMessage:n.message})})),Cl}function $E(n){return _(this,null,function*(){try{let t=(yield kp()).transaction(Jr),i=yield t.objectStore(Jr).get(Pp(n));return yield t.done,i}catch(e){if(e instanceof ot)Gt.warn(e.message);else{let t=bn.create("idb-get",{originalErrorMessage:e?.message});Gt.warn(t.message)}}})}function Cp(n,e){return _(this,null,function*(){try{let i=(yield kp()).transaction(Jr,"readwrite");yield i.objectStore(Jr).put(e,Pp(n)),yield i.done}catch(t){if(t instanceof ot)Gt.warn(t.message);else{let i=bn.create("idb-set",{originalErrorMessage:t?.message});Gt.warn(i.message)}}})}function Pp(n){return`${n.name}!${n.options.appId}`}var WE=1024,HE=30,Ol=class{constructor(e){this.container=e,this._heartbeatsCache=null;let t=this.container.getProvider("app").getImmediate();this._storage=new Nl(t),this._heartbeatsCachePromise=this._storage.read().then(i=>(this._heartbeatsCache=i,i))}triggerHeartbeat(){return _(this,null,function*(){var e,t;try{let r=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),o=xp();if(((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null&&(this._heartbeatsCache=yield this._heartbeatsCachePromise,((t=this._heartbeatsCache)===null||t===void 0?void 0:t.heartbeats)==null)||this._heartbeatsCache.lastSentHeartbeatDate===o||this._heartbeatsCache.heartbeats.some(a=>a.date===o))return;if(this._heartbeatsCache.heartbeats.push({date:o,agent:r}),this._heartbeatsCache.heartbeats.length>HE){let a=KE(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(a,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(i){Gt.warn(i)}})}getHeartbeatsHeader(){return _(this,null,function*(){var e;try{if(this._heartbeatsCache===null&&(yield this._heartbeatsCachePromise),((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";let t=xp(),{heartbeatsToSend:i,unsentEntries:r}=GE(this._heartbeatsCache.heartbeats),o=Yr(JSON.stringify({version:2,heartbeats:i}));return this._heartbeatsCache.lastSentHeartbeatDate=t,r.length>0?(this._heartbeatsCache.heartbeats=r,yield this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),o}catch(t){return Gt.warn(t),""}})}};function xp(){return new Date().toISOString().substring(0,10)}function GE(n,e=WE){let t=[],i=n.slice();for(let r of n){let o=t.find(a=>a.agent===r.agent);if(o){if(o.dates.push(r.date),Rp(t)>e){o.dates.pop();break}}else if(t.push({agent:r.agent,dates:[r.date]}),Rp(t)>e){t.pop();break}i=i.slice(1)}return{heartbeatsToSend:t,unsentEntries:i}}var Nl=class{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}runIndexedDBEnvironmentCheck(){return _(this,null,function*(){return Qr()?pp().then(()=>!0).catch(()=>!1):!1})}read(){return _(this,null,function*(){if(yield this._canUseIndexedDBPromise){let t=yield $E(this.app);return t?.heartbeats?t:{heartbeats:[]}}else return{heartbeats:[]}})}overwrite(e){return _(this,null,function*(){var t;if(yield this._canUseIndexedDBPromise){let r=yield this.read();return Cp(this.app,{lastSentHeartbeatDate:(t=e.lastSentHeartbeatDate)!==null&&t!==void 0?t:r.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return})}add(e){return _(this,null,function*(){var t;if(yield this._canUseIndexedDBPromise){let r=yield this.read();return Cp(this.app,{lastSentHeartbeatDate:(t=e.lastSentHeartbeatDate)!==null&&t!==void 0?t:r.lastSentHeartbeatDate,heartbeats:[...r.heartbeats,...e.heartbeats]})}else return})}};function Rp(n){return Yr(JSON.stringify({version:2,heartbeats:n})).length}function KE(n){if(n.length===0)return-1;let e=0,t=n[0].date;for(let i=1;i<n.length;i++)n[i].date<t&&(t=n[i].date,e=i);return e}function YE(n){wt(new Ye("platform-logger",e=>new xl(e),"PRIVATE")),wt(new Ye("heartbeat",e=>new Ol(e),"PRIVATE")),ge(Rl,Ap,n),ge(Rl,Ap,"esm2017"),ge("fire-js","")}YE("");var QE="firebase",XE="11.10.0";ge(QE,XE,"app");function Dp(n){n===void 0&&(n=S(se));let e=n.get(ys);return t=>new Me(i=>{let r=e.add(),o=!1;function a(){o||(r(),o=!0)}let c=t.subscribe({next:u=>{i.next(u),a()},complete:()=>{i.complete(),a()},error:u=>{i.error(u),a()}});return c.add(()=>{i.unsubscribe(),a()}),c})}var En=new Mm("ANGULARFIRE2_VERSION");function Zr(n,e,t){if(e){if(e.length===1)return e[0];let o=e.filter(a=>a.app===t);if(o.length===1)return o[0]}return t.container.getProvider(n).getImmediate({optional:!0})}var Li=(n,e)=>{let t=e?[e]:Ms(),i=[];return t.forEach(r=>{r.container.getProvider(n).instances.forEach(a=>{i.includes(a)||i.push(a)})}),i},Fi=(function(n){return n[n.SILENT=0]="SILENT",n[n.WARN=1]="WARN",n[n.VERBOSE=2]="VERBOSE",n})(Fi||{}),Op=hl()&&typeof Zone<"u"?Fi.WARN:Fi.SILENT;var Fs=class{zone;delegate;constructor(e,t=Sm){this.zone=e,this.delegate=t}now(){return this.delegate.now()}schedule(e,t,i){let r=this.zone,o=function(a){r?r.runGuarded(()=>{e.apply(this,[a])}):e.apply(this,[a])};return this.delegate.schedule(o,t,i)}},In=(()=>{class n{outsideAngular;insideAngular;constructor(){let t=S(W);this.outsideAngular=t.runOutsideAngular(()=>new Fs(typeof Zone>"u"?void 0:Zone.current)),this.insideAngular=t.run(()=>new Fs(typeof Zone>"u"?void 0:Zone.current,Am))}static \u0275fac=function(i){return new(i||n)};static \u0275prov=$({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})(),Np=!1;function ZE(n,e){!Np&&(Op>Fi.SILENT||hl())&&(Np=!0,console.warn("Calling Firebase APIs outside of an Injection context may destabilize your application leading to subtle change-detection and hydration bugs. Find more at https://github.com/angular/angularfire/blob/main/docs/zones.md")),Op>=e&&console.warn(`Firebase API called outside injection context: ${n.name}`)}function eI(n){let e=S(W,{optional:!0});return e?e.runOutsideAngular(()=>n()):n()}function Qn(n){let e=S(W,{optional:!0});return e?e.run(()=>n()):n()}var tI=(n,e,t)=>(...i)=>(e&&setTimeout(e,0),vs(t,()=>Qn(()=>n.apply(void 0,i)))),Ie=(n,e,t)=>(t||=e?Fi.WARN:Fi.VERBOSE,function(){let i,r=arguments,o,a,c;try{o=S(In),a=S(ys),c=S(mn)}catch{return ZE(n,t),n.apply(this,r)}for(let h=0;h<arguments.length;h++)typeof r[h]=="function"&&(e&&(i||=Qn(()=>a.add())),r[h]=tI(r[h],i,c));let u=eI(()=>n.apply(this,r));return e?u instanceof Me?u.pipe(rl(o.outsideAngular),il(o.insideAngular),Dp(c)):u instanceof Promise?Qn(()=>(a.run(()=>u),new Promise((h,f)=>{u.then(p=>vs(c,()=>Qn(()=>h(p))),p=>vs(c,()=>Qn(()=>f(p))))}))):typeof u=="function"&&i?function(){return setTimeout(i,0),u.apply(this,arguments)}:Qn(()=>u):u instanceof Me?u.pipe(rl(o.outsideAngular),il(o.insideAngular)):Qn(()=>u)});var Kt=class{constructor(e){return e}},Xn=class{constructor(){return Ms()}};function nI(n){return n&&n.length===1?n[0]:new Kt(Yn())}var Fl=new Q("angularfire2._apps"),iI={provide:Kt,useFactory:nI,deps:[[new Xe,Fl]]},rI={provide:Xn,deps:[[new Xe,Fl]]};function oI(n){return(e,t)=>{let i=t.get(ws);ge("angularfire",En.full,"core"),ge("angularfire",En.full,"app"),ge("angular",Fm.full,i.toString());let r=e.runOutsideAngular(()=>n(t));return new Kt(r)}}function QR(n,...e){return Ci([iI,rI,{provide:Fl,useFactory:oI(n),multi:!0,deps:[W,se,In,...e]}])}var XR=Ie(Ml,!0);var sI=new Map,aI={activated:!1,tokenObservers:[]},cI={initialized:!1,enabled:!1};function Et(n){return sI.get(n)||Object.assign({},aI)}function Vp(){return cI}var lI="https://content-firebaseappcheck.googleapis.com/v1";var uI="exchangeDebugToken",Mp={OFFSET_DURATION:300*1e3,RETRIAL_MIN_WAIT:30*1e3,RETRIAL_MAX_WAIT:960*1e3},sk=1440*60*1e3;var Ul=class{constructor(e,t,i,r,o){if(this.operation=e,this.retryPolicy=t,this.getWaitDuration=i,this.lowerBound=r,this.upperBound=o,this.pending=null,this.nextErrorWaitInterval=r,r>o)throw new Error("Proactive refresh lower bound greater than upper bound!")}start(){this.nextErrorWaitInterval=this.lowerBound,this.process(!0).catch(()=>{})}stop(){this.pending&&(this.pending.reject("cancelled"),this.pending=null)}isRunning(){return!!this.pending}process(e){return _(this,null,function*(){this.stop();try{this.pending=new Gn,this.pending.promise.catch(t=>{}),yield dI(this.getNextRun(e)),this.pending.resolve(),yield this.pending.promise,this.pending=new Gn,this.pending.promise.catch(t=>{}),yield this.operation(),this.pending.resolve(),yield this.pending.promise,this.process(!0).catch(()=>{})}catch(t){this.retryPolicy(t)?this.process(!1).catch(()=>{}):this.stop()}})}getNextRun(e){if(e)return this.nextErrorWaitInterval=this.lowerBound,this.getWaitDuration();{let t=this.nextErrorWaitInterval;return this.nextErrorWaitInterval*=2,this.nextErrorWaitInterval>this.upperBound&&(this.nextErrorWaitInterval=this.upperBound),t}}};function dI(n){return new Promise(e=>{setTimeout(e,n)})}var hI={"already-initialized":"You have already called initializeAppCheck() for FirebaseApp {$appName} with different options. To avoid this error, call initializeAppCheck() with the same options as when it was originally called. This will return the already initialized instance.","use-before-activation":"App Check is being used before initializeAppCheck() is called for FirebaseApp {$appName}. Call initializeAppCheck() before instantiating other Firebase services.","fetch-network-error":"Fetch failed to connect to a network. Check Internet connection. Original error: {$originalErrorMessage}.","fetch-parse-error":"Fetch client could not parse response. Original error: {$originalErrorMessage}.","fetch-status-error":"Fetch server returned an HTTP error status. HTTP status: {$httpStatus}.","storage-open":"Error thrown when opening storage. Original error: {$originalErrorMessage}.","storage-get":"Error thrown when reading from storage. Original error: {$originalErrorMessage}.","storage-set":"Error thrown when writing to storage. Original error: {$originalErrorMessage}.","recaptcha-error":"ReCAPTCHA error.","initial-throttle":"{$httpStatus} error. Attempts allowed again after {$time}",throttled:"Requests throttled due to previous {$httpStatus} error. Attempts allowed again after {$time}"},Tn=new bt("appCheck","AppCheck",hI);function Up(n){if(!Et(n).activated)throw Tn.create("use-before-activation",{appName:n.name})}function Bp(i,r){return _(this,arguments,function*({url:n,body:e},t){let o={"Content-Type":"application/json"},a=t.getImmediate({optional:!0});if(a){let C=yield a.getHeartbeatsHeader();C&&(o["X-Firebase-Client"]=C)}let c={method:"POST",body:JSON.stringify(e),headers:o},u;try{u=yield fetch(n,c)}catch(C){throw Tn.create("fetch-network-error",{originalErrorMessage:C?.message})}if(u.status!==200)throw Tn.create("fetch-status-error",{httpStatus:u.status});let h;try{h=yield u.json()}catch(C){throw Tn.create("fetch-parse-error",{originalErrorMessage:C?.message})}let f=h.ttl.match(/^([\d.]+)(s)$/);if(!f||!f[2]||isNaN(Number(f[1])))throw Tn.create("fetch-parse-error",{originalErrorMessage:`ttl field (timeToLive) is not in standard Protobuf Duration format: ${h.ttl}`});let p=Number(f[1])*1e3,v=Date.now();return{token:h.token,expireTimeMillis:v+p,issuedAtTimeMillis:v}})}function zp(n,e){let{projectId:t,appId:i,apiKey:r}=n.options;return{url:`${lI}/projects/${t}/apps/${i}:${uI}?key=${r}`,body:{debug_token:e}}}var fI="firebase-app-check-database",mI=1,Bl="firebase-app-check-store";var Ls=null;function pI(){return Ls||(Ls=new Promise((n,e)=>{try{let t=indexedDB.open(fI,mI);t.onsuccess=i=>{n(i.target.result)},t.onerror=i=>{var r;e(Tn.create("storage-open",{originalErrorMessage:(r=i.target.error)===null||r===void 0?void 0:r.message}))},t.onupgradeneeded=i=>{let r=i.target.result;switch(i.oldVersion){case 0:r.createObjectStore(Bl,{keyPath:"compositeKey"})}}}catch(t){e(Tn.create("storage-open",{originalErrorMessage:t?.message}))}}),Ls)}function gI(n,e){return _I(vI(n),e)}function _I(n,e){return _(this,null,function*(){let i=(yield pI()).transaction(Bl,"readwrite"),o=i.objectStore(Bl).put({compositeKey:n,value:e});return new Promise((a,c)=>{o.onsuccess=u=>{a()},i.onerror=u=>{var h;c(Tn.create("storage-set",{originalErrorMessage:(h=u.target.error)===null||h===void 0?void 0:h.message}))}})})}function vI(n){return`${n.options.appId}-${n.name}`}var eo=new Dt("@firebase/app-check");function Ll(n,e){return Qr()?gI(n,e).catch(t=>{eo.warn(`Failed to write token to IndexedDB. Error: ${t}`)}):Promise.resolve()}function jp(){return Vp().enabled}function qp(){return _(this,null,function*(){let n=Vp();if(n.enabled&&n.token)return n.token.promise;throw Error(`
            Can't get debug token in production mode.
        `)})}var yI={error:"UNKNOWN_ERROR"};function bI(n){return xs.encodeString(JSON.stringify(n),!1)}function zl(n,e=!1,t=!1){return _(this,null,function*(){let i=n.app;Up(i);let r=Et(i),o=r.token,a;if(o&&!to(o)&&(r.token=void 0,o=void 0),!o){let h=yield r.cachedTokenPromise;h&&(to(h)?o=h:yield Ll(i,void 0))}if(!e&&o&&to(o))return{token:o.token};let c=!1;if(jp())try{r.exchangeTokenPromise||(r.exchangeTokenPromise=Bp(zp(i,yield qp()),n.heartbeatServiceProvider).finally(()=>{r.exchangeTokenPromise=void 0}),c=!0);let h=yield r.exchangeTokenPromise;return yield Ll(i,h),r.token=h,{token:h.token}}catch(h){return h.code==="appCheck/throttled"||h.code==="appCheck/initial-throttle"?eo.warn(h.message):t&&eo.error(h),Vl(h)}try{r.exchangeTokenPromise||(r.exchangeTokenPromise=r.provider.getToken().finally(()=>{r.exchangeTokenPromise=void 0}),c=!0),o=yield Et(i).exchangeTokenPromise}catch(h){h.code==="appCheck/throttled"||h.code==="appCheck/initial-throttle"?eo.warn(h.message):t&&eo.error(h),a=h}let u;return o?a?to(o)?u={token:o.token,internalError:a}:u=Vl(a):(u={token:o.token},r.token=o,yield Ll(i,o)):u=Vl(a),c&&TI(i,u),u})}function wI(n){return _(this,null,function*(){let e=n.app;Up(e);let{provider:t}=Et(e);if(jp()){let i=yield qp(),{token:r}=yield Bp(zp(e,i),n.heartbeatServiceProvider);return{token:r}}else{let{token:i}=yield t.getToken();return{token:i}}})}function EI(n,e,t,i){let{app:r}=n,o=Et(r),a={next:t,error:i,type:e};if(o.tokenObservers=[...o.tokenObservers,a],o.token&&to(o.token)){let c=o.token;Promise.resolve().then(()=>{t({token:c.token}),Fp(n)}).catch(()=>{})}o.cachedTokenPromise.then(()=>Fp(n))}function $p(n,e){let t=Et(n),i=t.tokenObservers.filter(r=>r.next!==e);i.length===0&&t.tokenRefresher&&t.tokenRefresher.isRunning()&&t.tokenRefresher.stop(),t.tokenObservers=i}function Fp(n){let{app:e}=n,t=Et(e),i=t.tokenRefresher;i||(i=II(n),t.tokenRefresher=i),!i.isRunning()&&t.isTokenAutoRefreshEnabled&&i.start()}function II(n){let{app:e}=n;return new Ul(()=>_(null,null,function*(){let t=Et(e),i;if(t.token?i=yield zl(n,!0):i=yield zl(n),i.error)throw i.error;if(i.internalError)throw i.internalError}),()=>!0,()=>{let t=Et(e);if(t.token){let i=t.token.issuedAtTimeMillis+(t.token.expireTimeMillis-t.token.issuedAtTimeMillis)*.5+3e5,r=t.token.expireTimeMillis-300*1e3;return i=Math.min(i,r),Math.max(0,i-Date.now())}else return 0},Mp.RETRIAL_MIN_WAIT,Mp.RETRIAL_MAX_WAIT)}function TI(n,e){let t=Et(n).tokenObservers;for(let i of t)try{i.type==="EXTERNAL"&&e.error!=null?i.error(e.error):i.next(e)}catch{}}function to(n){return n.expireTimeMillis-Date.now()>0}function Vl(n){return{token:bI(yI),error:n}}var jl=class{constructor(e,t){this.app=e,this.heartbeatServiceProvider=t}_delete(){let{tokenObservers:e}=Et(this.app);for(let t of e)$p(this.app,t.next);return Promise.resolve()}};function AI(n,e){return new jl(n,e)}function SI(n){return{getToken:e=>zl(n,e),getLimitedUseToken:()=>wI(n),addTokenListener:e=>EI(n,"INTERNAL",e),removeTokenListener:e=>$p(n.app,e)}}var CI="@firebase/app-check",xI="0.10.1";var RI="app-check",Lp="app-check-internal";function kI(){wt(new Ye(RI,n=>{let e=n.getProvider("app").getImmediate(),t=n.getProvider("heartbeat");return AI(e,t)},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((n,e,t)=>{n.getProvider(Lp).initialize()})),wt(new Ye(Lp,n=>{let e=n.getProvider("app-check").getImmediate();return SI(e)},"PUBLIC").setInstantiationMode("EXPLICIT")),ge(CI,xI)}kI();var PI="app-check";var Vi=class{constructor(){return Li(PI)}};var DI=["localhost","0.0.0.0","127.0.0.1"],yk=typeof window<"u"&&DI.includes(window.location.hostname);function sg(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}var ag=sg,cg=new bt("auth","Firebase",sg());var qs=new Dt("@firebase/auth");function OI(n,...e){qs.logLevel<=K.WARN&&qs.warn(`Auth (${wn}): ${n}`,...e)}function Us(n,...e){qs.logLevel<=K.ERROR&&qs.error(`Auth (${wn}): ${n}`,...e)}function lt(n,...e){throw du(n,...e)}function It(n,...e){return du(n,...e)}function uu(n,e,t){let i=Object.assign(Object.assign({},ag()),{[e]:t});return new bt("auth","Firebase",i).create(e,{appName:n.name})}function Xt(n){return uu(n,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function NI(n,e,t){let i=t;if(!(e instanceof i))throw i.name!==e.constructor.name&&lt(n,"argument-error"),uu(n,"argument-error",`Type of ${e.constructor.name} does not match expected instance.Did you pass a reference from a different Auth SDK?`)}function du(n,...e){if(typeof n!="string"){let t=e[0],i=[...e.slice(1)];return i[0]&&(i[0].appName=n.name),n._errorFactory.create(t,...i)}return cg.create(n,...e)}function U(n,e,...t){if(!n)throw du(e,...t)}function Yt(n){let e="INTERNAL ASSERTION FAILED: "+n;throw Us(e),new Error(e)}function Jt(n,e){n||Yt(e)}function Wl(){var n;return typeof self<"u"&&((n=self.location)===null||n===void 0?void 0:n.href)||""}function MI(){return Wp()==="http:"||Wp()==="https:"}function Wp(){var n;return typeof self<"u"&&((n=self.location)===null||n===void 0?void 0:n.protocol)||null}function FI(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(MI()||dp()||"connection"in navigator)?navigator.onLine:!0}function LI(){if(typeof navigator>"u")return null;let n=navigator;return n.languages&&n.languages[0]||n.language||null}var Jn=class{constructor(e,t){this.shortDelay=e,this.longDelay=t,Jt(t>e,"Short delay should be less than long delay!"),this.isMobile=lp()||hp()}get(){return FI()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}};function hu(n,e){Jt(n.emulator,"Emulator should always be set here");let{url:t}=n.emulator;return e?`${t}${e.startsWith("/")?e.slice(1):e}`:t}var $s=class{static initialize(e,t,i){this.fetchImpl=e,t&&(this.headersImpl=t),i&&(this.responseImpl=i)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;Yt("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;Yt("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;Yt("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}};var VI={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};var UI=["/v1/accounts:signInWithCustomToken","/v1/accounts:signInWithEmailLink","/v1/accounts:signInWithIdp","/v1/accounts:signInWithPassword","/v1/accounts:signInWithPhoneNumber","/v1/token"],BI=new Jn(3e4,6e4);function Cn(n,e){return n.tenantId&&!e.tenantId?Object.assign(Object.assign({},e),{tenantId:n.tenantId}):e}function xn(o,a,c,u){return _(this,arguments,function*(n,e,t,i,r={}){return lg(n,r,()=>_(null,null,function*(){let h={},f={};i&&(e==="GET"?f=i:h={body:JSON.stringify(i)});let p=Di(Object.assign({key:n.config.apiKey},f)).slice(1),v=yield n._getAdditionalHeaders();v["Content-Type"]="application/json",n.languageCode&&(v["X-Firebase-Locale"]=n.languageCode);let C=Object.assign({method:e,headers:v},h);return up()||(C.referrerPolicy="no-referrer"),n.emulatorConfig&&yn(n.emulatorConfig.host)&&(C.credentials="include"),$s.fetch()(yield ug(n,n.config.apiHost,t,p),C)}))})}function lg(n,e,t){return _(this,null,function*(){n._canInitEmulator=!1;let i=Object.assign(Object.assign({},VI),e);try{let r=new Hl(n),o=yield Promise.race([t(),r.promise]);r.clearNetworkTimeout();let a=yield o.json();if("needConfirmation"in a)throw Vs(n,"account-exists-with-different-credential",a);if(o.ok&&!("errorMessage"in a))return a;{let c=o.ok?a.errorMessage:a.error.message,[u,h]=c.split(" : ");if(u==="FEDERATED_USER_ID_ALREADY_LINKED")throw Vs(n,"credential-already-in-use",a);if(u==="EMAIL_EXISTS")throw Vs(n,"email-already-in-use",a);if(u==="USER_DISABLED")throw Vs(n,"user-disabled",a);let f=i[u]||u.toLowerCase().replace(/[_\s]+/g,"-");if(h)throw uu(n,f,h);lt(n,f)}}catch(r){if(r instanceof ot)throw r;lt(n,"network-request-failed",{message:String(r)})}})}function fo(o,a,c,u){return _(this,arguments,function*(n,e,t,i,r={}){let h=yield xn(n,e,t,i,r);return"mfaPendingCredential"in h&&lt(n,"multi-factor-auth-required",{_serverResponse:h}),h})}function ug(n,e,t,i){return _(this,null,function*(){let r=`${e}${t}?${i}`,o=n,a=o.config.emulator?hu(n.config,r):`${n.config.apiScheme}://${r}`;return UI.includes(t)&&(yield o._persistenceManagerAvailable,o._getPersistenceType()==="COOKIE")?o._getPersistence()._getFinalTarget(a).toString():a})}function zI(n){switch(n){case"ENFORCE":return"ENFORCE";case"AUDIT":return"AUDIT";case"OFF":return"OFF";default:return"ENFORCEMENT_STATE_UNSPECIFIED"}}var Hl=class{clearNetworkTimeout(){clearTimeout(this.timer)}constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((t,i)=>{this.timer=setTimeout(()=>i(It(this.auth,"network-request-failed")),BI.get())})}};function Vs(n,e,t){let i={appName:n.name};t.email&&(i.email=t.email),t.phoneNumber&&(i.phoneNumber=t.phoneNumber);let r=It(n,e,i);return r.customData._tokenResponse=t,r}function Hp(n){return n!==void 0&&n.enterprise!==void 0}var Gl=class{constructor(e){if(this.siteKey="",this.recaptchaEnforcementState=[],e.recaptchaKey===void 0)throw new Error("recaptchaKey undefined");this.siteKey=e.recaptchaKey.split("/")[3],this.recaptchaEnforcementState=e.recaptchaEnforcementState}getProviderEnforcementState(e){if(!this.recaptchaEnforcementState||this.recaptchaEnforcementState.length===0)return null;for(let t of this.recaptchaEnforcementState)if(t.provider&&t.provider===e)return zI(t.enforcementState);return null}isProviderEnabled(e){return this.getProviderEnforcementState(e)==="ENFORCE"||this.getProviderEnforcementState(e)==="AUDIT"}isAnyProviderEnabled(){return this.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")||this.isProviderEnabled("PHONE_PROVIDER")}};function jI(n,e){return _(this,null,function*(){return xn(n,"GET","/v2/recaptchaConfig",Cn(n,e))})}function qI(n,e){return _(this,null,function*(){return xn(n,"POST","/v1/accounts:delete",e)})}function Ws(n,e){return _(this,null,function*(){return xn(n,"POST","/v1/accounts:lookup",e)})}function io(n){if(n)try{let e=new Date(Number(n));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}function fu(n,e=!1){return _(this,null,function*(){let t=be(n),i=yield t.getIdToken(e),r=mu(i);U(r&&r.exp&&r.auth_time&&r.iat,t.auth,"internal-error");let o=typeof r.firebase=="object"?r.firebase:void 0,a=o?.sign_in_provider;return{claims:r,token:i,authTime:io(ql(r.auth_time)),issuedAtTime:io(ql(r.iat)),expirationTime:io(ql(r.exp)),signInProvider:a||null,signInSecondFactor:o?.sign_in_second_factor||null}})}function ql(n){return Number(n)*1e3}function mu(n){let[e,t,i]=n.split(".");if(e===void 0||t===void 0||i===void 0)return Us("JWT malformed, contained fewer than 3 sections"),null;try{let r=Rs(t);return r?JSON.parse(r):(Us("Failed to decode base64 JWT payload"),null)}catch(r){return Us("Caught error parsing JWT payload as JSON",r?.toString()),null}}function Gp(n){let e=mu(n);return U(e,"internal-error"),U(typeof e.exp<"u","internal-error"),U(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}function oo(n,e,t=!1){return _(this,null,function*(){if(t)return e;try{return yield e}catch(i){throw i instanceof ot&&$I(i)&&n.auth.currentUser===n&&(yield n.auth.signOut()),i}})}function $I({code:n}){return n==="auth/user-disabled"||n==="auth/user-token-expired"}var Kl=class{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(e){var t;if(e){let i=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),i}else{this.errorBackoff=3e4;let r=((t=this.user.stsTokenManager.expirationTime)!==null&&t!==void 0?t:0)-Date.now()-3e5;return Math.max(0,r)}}schedule(e=!1){if(!this.isRunning)return;let t=this.getInterval(e);this.timerId=setTimeout(()=>_(this,null,function*(){yield this.iteration()}),t)}iteration(){return _(this,null,function*(){try{yield this.user.getIdToken(!0)}catch(e){e?.code==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()})}};var so=class{constructor(e,t){this.createdAt=e,this.lastLoginAt=t,this._initializeTime()}_initializeTime(){this.lastSignInTime=io(this.lastLoginAt),this.creationTime=io(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}};function Hs(n){return _(this,null,function*(){var e;let t=n.auth,i=yield n.getIdToken(),r=yield oo(n,Ws(t,{idToken:i}));U(r?.users.length,t,"internal-error");let o=r.users[0];n._notifyReloadListener(o);let a=!((e=o.providerUserInfo)===null||e===void 0)&&e.length?dg(o.providerUserInfo):[],c=WI(n.providerData,a),u=n.isAnonymous,h=!(n.email&&o.passwordHash)&&!c?.length,f=u?h:!1,p={uid:o.localId,displayName:o.displayName||null,photoURL:o.photoUrl||null,email:o.email||null,emailVerified:o.emailVerified||!1,phoneNumber:o.phoneNumber||null,tenantId:o.tenantId||null,providerData:c,metadata:new so(o.createdAt,o.lastLoginAt),isAnonymous:f};Object.assign(n,p)})}function pu(n){return _(this,null,function*(){let e=be(n);yield Hs(e),yield e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)})}function WI(n,e){return[...n.filter(i=>!e.some(r=>r.providerId===i.providerId)),...e]}function dg(n){return n.map(e=>{var{providerId:t}=e,i=fs(e,["providerId"]);return{providerId:t,uid:i.rawId||"",displayName:i.displayName||null,email:i.email||null,phoneNumber:i.phoneNumber||null,photoURL:i.photoUrl||null}})}function HI(n,e){return _(this,null,function*(){let t=yield lg(n,{},()=>_(null,null,function*(){let i=Di({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:r,apiKey:o}=n.config,a=yield ug(n,r,"/v1/token",`key=${o}`),c=yield n._getAdditionalHeaders();c["Content-Type"]="application/x-www-form-urlencoded";let u={method:"POST",headers:c,body:i};return n.emulatorConfig&&yn(n.emulatorConfig.host)&&(u.credentials="include"),$s.fetch()(a,u)}));return{accessToken:t.access_token,expiresIn:t.expires_in,refreshToken:t.refresh_token}})}function GI(n,e){return _(this,null,function*(){return xn(n,"POST","/v2/accounts:revokeToken",Cn(n,e))})}var ro=class n{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){U(e.idToken,"internal-error"),U(typeof e.idToken<"u","internal-error"),U(typeof e.refreshToken<"u","internal-error");let t="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):Gp(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,t)}updateFromIdToken(e){U(e.length!==0,"internal-error");let t=Gp(e);this.updateTokensAndExpiration(e,null,t)}getToken(e,t=!1){return _(this,null,function*(){return!t&&this.accessToken&&!this.isExpired?this.accessToken:(U(this.refreshToken,e,"user-token-expired"),this.refreshToken?(yield this.refresh(e,this.refreshToken),this.accessToken):null)})}clearRefreshToken(){this.refreshToken=null}refresh(e,t){return _(this,null,function*(){let{accessToken:i,refreshToken:r,expiresIn:o}=yield HI(e,t);this.updateTokensAndExpiration(i,r,Number(o))})}updateTokensAndExpiration(e,t,i){this.refreshToken=t||null,this.accessToken=e||null,this.expirationTime=Date.now()+i*1e3}static fromJSON(e,t){let{refreshToken:i,accessToken:r,expirationTime:o}=t,a=new n;return i&&(U(typeof i=="string","internal-error",{appName:e}),a.refreshToken=i),r&&(U(typeof r=="string","internal-error",{appName:e}),a.accessToken=r),o&&(U(typeof o=="number","internal-error",{appName:e}),a.expirationTime=o),a}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new n,this.toJSON())}_performRefresh(){return Yt("not implemented")}};function An(n,e){U(typeof n=="string"||typeof n>"u","internal-error",{appName:e})}var Sn=class n{constructor(e){var{uid:t,auth:i,stsTokenManager:r}=e,o=fs(e,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new Kl(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=t,this.auth=i,this.stsTokenManager=r,this.accessToken=r.accessToken,this.displayName=o.displayName||null,this.email=o.email||null,this.emailVerified=o.emailVerified||!1,this.phoneNumber=o.phoneNumber||null,this.photoURL=o.photoURL||null,this.isAnonymous=o.isAnonymous||!1,this.tenantId=o.tenantId||null,this.providerData=o.providerData?[...o.providerData]:[],this.metadata=new so(o.createdAt||void 0,o.lastLoginAt||void 0)}getIdToken(e){return _(this,null,function*(){let t=yield oo(this,this.stsTokenManager.getToken(this.auth,e));return U(t,this.auth,"internal-error"),this.accessToken!==t&&(this.accessToken=t,yield this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),t})}getIdTokenResult(e){return fu(this,e)}reload(){return pu(this)}_assign(e){this!==e&&(U(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(t=>Object.assign({},t)),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){let t=new n(Object.assign(Object.assign({},this),{auth:e,stsTokenManager:this.stsTokenManager._clone()}));return t.metadata._copy(this.metadata),t}_onReload(e){U(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}_updateTokensIfNecessary(e,t=!1){return _(this,null,function*(){let i=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),i=!0),t&&(yield Hs(this)),yield this.auth._persistUserIfCurrent(this),i&&this.auth._notifyListenersIfCurrent(this)})}delete(){return _(this,null,function*(){if(Qe(this.auth.app))return Promise.reject(Xt(this.auth));let e=yield this.getIdToken();return yield oo(this,qI(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()})}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>Object.assign({},e)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,t){var i,r,o,a,c,u,h,f;let p=(i=t.displayName)!==null&&i!==void 0?i:void 0,v=(r=t.email)!==null&&r!==void 0?r:void 0,C=(o=t.phoneNumber)!==null&&o!==void 0?o:void 0,k=(a=t.photoURL)!==null&&a!==void 0?a:void 0,O=(c=t.tenantId)!==null&&c!==void 0?c:void 0,D=(u=t._redirectEventId)!==null&&u!==void 0?u:void 0,j=(h=t.createdAt)!==null&&h!==void 0?h:void 0,B=(f=t.lastLoginAt)!==null&&f!==void 0?f:void 0,{uid:q,emailVerified:ne,isAnonymous:He,providerData:te,stsTokenManager:E}=t;U(q&&E,e,"internal-error");let g=ro.fromJSON(this.name,E);U(typeof q=="string",e,"internal-error"),An(p,e.name),An(v,e.name),U(typeof ne=="boolean",e,"internal-error"),U(typeof He=="boolean",e,"internal-error"),An(C,e.name),An(k,e.name),An(O,e.name),An(D,e.name),An(j,e.name),An(B,e.name);let b=new n({uid:q,auth:e,email:v,emailVerified:ne,displayName:p,isAnonymous:He,photoURL:k,phoneNumber:C,tenantId:O,stsTokenManager:g,createdAt:j,lastLoginAt:B});return te&&Array.isArray(te)&&(b.providerData=te.map(w=>Object.assign({},w))),D&&(b._redirectEventId=D),b}static _fromIdTokenResponse(e,t,i=!1){return _(this,null,function*(){let r=new ro;r.updateFromServerResponse(t);let o=new n({uid:t.localId,auth:e,stsTokenManager:r,isAnonymous:i});return yield Hs(o),o})}static _fromGetAccountInfoResponse(e,t,i){return _(this,null,function*(){let r=t.users[0];U(r.localId!==void 0,"internal-error");let o=r.providerUserInfo!==void 0?dg(r.providerUserInfo):[],a=!(r.email&&r.passwordHash)&&!o?.length,c=new ro;c.updateFromIdToken(i);let u=new n({uid:r.localId,auth:e,stsTokenManager:c,isAnonymous:a}),h={uid:r.localId,displayName:r.displayName||null,photoURL:r.photoUrl||null,email:r.email||null,emailVerified:r.emailVerified||!1,phoneNumber:r.phoneNumber||null,tenantId:r.tenantId||null,providerData:o,metadata:new so(r.createdAt,r.lastLoginAt),isAnonymous:!(r.email&&r.passwordHash)&&!o?.length};return Object.assign(u,h),u})}};var Kp=new Map;function Qt(n){Jt(n instanceof Function,"Expected a class definition");let e=Kp.get(n);return e?(Jt(e instanceof n,"Instance stored in cache mismatched with class"),e):(e=new n,Kp.set(n,e),e)}var KI=(()=>{class n{constructor(){this.type="NONE",this.storage={}}_isAvailable(){return _(this,null,function*(){return!0})}_set(t,i){return _(this,null,function*(){this.storage[t]=i})}_get(t){return _(this,null,function*(){let i=this.storage[t];return i===void 0?null:i})}_remove(t){return _(this,null,function*(){delete this.storage[t]})}_addListener(t,i){}_removeListener(t,i){}}return n.type="NONE",n})(),Yl=KI;function Bs(n,e,t){return`firebase:${n}:${e}:${t}`}var Gs=class n{constructor(e,t,i){this.persistence=e,this.auth=t,this.userKey=i;let{config:r,name:o}=this.auth;this.fullUserKey=Bs(this.userKey,r.apiKey,o),this.fullPersistenceKey=Bs("persistence",r.apiKey,o),this.boundEventHandler=t._onStorageEvent.bind(t),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}getCurrentUser(){return _(this,null,function*(){let e=yield this.persistence._get(this.fullUserKey);if(!e)return null;if(typeof e=="string"){let t=yield Ws(this.auth,{idToken:e}).catch(()=>{});return t?Sn._fromGetAccountInfoResponse(this.auth,t,e):null}return Sn._fromJSON(this.auth,e)})}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}setPersistence(e){return _(this,null,function*(){if(this.persistence===e)return;let t=yield this.getCurrentUser();if(yield this.removeCurrentUser(),this.persistence=e,t)return this.setCurrentUser(t)})}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static create(e,t,i="authUser"){return _(this,null,function*(){if(!t.length)return new n(Qt(Yl),e,i);let r=(yield Promise.all(t.map(h=>_(null,null,function*(){if(yield h._isAvailable())return h})))).filter(h=>h),o=r[0]||Qt(Yl),a=Bs(i,e.config.apiKey,e.name),c=null;for(let h of t)try{let f=yield h._get(a);if(f){let p;if(typeof f=="string"){let v=yield Ws(e,{idToken:f}).catch(()=>{});if(!v)break;p=yield Sn._fromGetAccountInfoResponse(e,v,f)}else p=Sn._fromJSON(e,f);h!==o&&(c=p),o=h;break}}catch{}let u=r.filter(h=>h._shouldAllowMigration);return!o._shouldAllowMigration||!u.length?new n(o,e,i):(o=u[0],c&&(yield o._set(a,c.toJSON())),yield Promise.all(t.map(h=>_(null,null,function*(){if(h!==o)try{yield h._remove(a)}catch{}}))),new n(o,e,i))})}};function Yp(n){let e=n.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(pg(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(hg(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(_g(e))return"Blackberry";if(vg(e))return"Webos";if(fg(e))return"Safari";if((e.includes("chrome/")||mg(e))&&!e.includes("edge/"))return"Chrome";if(gg(e))return"Android";{let t=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,i=n.match(t);if(i?.length===2)return i[1]}return"Other"}function hg(n=Pe()){return/firefox\//i.test(n)}function fg(n=Pe()){let e=n.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function mg(n=Pe()){return/crios\//i.test(n)}function pg(n=Pe()){return/iemobile/i.test(n)}function gg(n=Pe()){return/android/i.test(n)}function _g(n=Pe()){return/blackberry/i.test(n)}function vg(n=Pe()){return/webos/i.test(n)}function gu(n=Pe()){return/iphone|ipad|ipod/i.test(n)||/macintosh/i.test(n)&&/mobile/i.test(n)}function YI(n=Pe()){var e;return gu(n)&&!!(!((e=window.navigator)===null||e===void 0)&&e.standalone)}function QI(){return fp()&&document.documentMode===10}function yg(n=Pe()){return gu(n)||gg(n)||vg(n)||_g(n)||/windows phone/i.test(n)||pg(n)}function bg(n,e=[]){let t;switch(n){case"Browser":t=Yp(Pe());break;case"Worker":t=`${Yp(Pe())}-${n}`;break;default:t=n}let i=e.length?e.join(","):"FirebaseCore-web";return`${t}/JsCore/${wn}/${i}`}var Ql=class{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,t){let i=o=>new Promise((a,c)=>{try{let u=e(o);a(u)}catch(u){c(u)}});i.onAbort=t,this.queue.push(i);let r=this.queue.length-1;return()=>{this.queue[r]=()=>Promise.resolve()}}runMiddleware(e){return _(this,null,function*(){if(this.auth.currentUser===e)return;let t=[];try{for(let i of this.queue)yield i(e),i.onAbort&&t.push(i.onAbort)}catch(i){t.reverse();for(let r of t)try{r()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:i?.message})}})}};function XI(t){return _(this,arguments,function*(n,e={}){return xn(n,"GET","/v2/passwordPolicy",Cn(n,e))})}var JI=6,Xl=class{constructor(e){var t,i,r,o;let a=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=(t=a.minPasswordLength)!==null&&t!==void 0?t:JI,a.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=a.maxPasswordLength),a.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=a.containsLowercaseCharacter),a.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=a.containsUppercaseCharacter),a.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=a.containsNumericCharacter),a.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=a.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=(r=(i=e.allowedNonAlphanumericCharacters)===null||i===void 0?void 0:i.join(""))!==null&&r!==void 0?r:"",this.forceUpgradeOnSignin=(o=e.forceUpgradeOnSignin)!==null&&o!==void 0?o:!1,this.schemaVersion=e.schemaVersion}validatePassword(e){var t,i,r,o,a,c;let u={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,u),this.validatePasswordCharacterOptions(e,u),u.isValid&&(u.isValid=(t=u.meetsMinPasswordLength)!==null&&t!==void 0?t:!0),u.isValid&&(u.isValid=(i=u.meetsMaxPasswordLength)!==null&&i!==void 0?i:!0),u.isValid&&(u.isValid=(r=u.containsLowercaseLetter)!==null&&r!==void 0?r:!0),u.isValid&&(u.isValid=(o=u.containsUppercaseLetter)!==null&&o!==void 0?o:!0),u.isValid&&(u.isValid=(a=u.containsNumericCharacter)!==null&&a!==void 0?a:!0),u.isValid&&(u.isValid=(c=u.containsNonAlphanumericCharacter)!==null&&c!==void 0?c:!0),u}validatePasswordLengthOptions(e,t){let i=this.customStrengthOptions.minPasswordLength,r=this.customStrengthOptions.maxPasswordLength;i&&(t.meetsMinPasswordLength=e.length>=i),r&&(t.meetsMaxPasswordLength=e.length<=r)}validatePasswordCharacterOptions(e,t){this.updatePasswordCharacterOptionsStatuses(t,!1,!1,!1,!1);let i;for(let r=0;r<e.length;r++)i=e.charAt(r),this.updatePasswordCharacterOptionsStatuses(t,i>="a"&&i<="z",i>="A"&&i<="Z",i>="0"&&i<="9",this.allowedNonAlphanumericCharacters.includes(i))}updatePasswordCharacterOptionsStatuses(e,t,i,r,o){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=t)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=i)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=r)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=o))}};var Jl=class{constructor(e,t,i,r){this.app=e,this.heartbeatServiceProvider=t,this.appCheckServiceProvider=i,this.config=r,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new Ks(this),this.idTokenSubscription=new Ks(this),this.beforeStateQueue=new Ql(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=cg,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this._resolvePersistenceManagerAvailable=void 0,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=r.sdkClientVersion,this._persistenceManagerAvailable=new Promise(o=>this._resolvePersistenceManagerAvailable=o)}_initializeWithPersistence(e,t){return t&&(this._popupRedirectResolver=Qt(t)),this._initializationPromise=this.queue(()=>_(this,null,function*(){var i,r,o;if(!this._deleted&&(this.persistenceManager=yield Gs.create(this,e),(i=this._resolvePersistenceManagerAvailable)===null||i===void 0||i.call(this),!this._deleted)){if(!((r=this._popupRedirectResolver)===null||r===void 0)&&r._shouldInitProactively)try{yield this._popupRedirectResolver._initialize(this)}catch{}yield this.initializeCurrentUser(t),this.lastNotifiedUid=((o=this.currentUser)===null||o===void 0?void 0:o.uid)||null,!this._deleted&&(this._isInitialized=!0)}})),this._initializationPromise}_onStorageEvent(){return _(this,null,function*(){if(this._deleted)return;let e=yield this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!e)){if(this.currentUser&&e&&this.currentUser.uid===e.uid){this._currentUser._assign(e),yield this.currentUser.getIdToken();return}yield this._updateCurrentUser(e,!0)}})}initializeCurrentUserFromIdToken(e){return _(this,null,function*(){try{let t=yield Ws(this,{idToken:e}),i=yield Sn._fromGetAccountInfoResponse(this,t,e);yield this.directlySetCurrentUser(i)}catch(t){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",t),yield this.directlySetCurrentUser(null)}})}initializeCurrentUser(e){return _(this,null,function*(){var t;if(Qe(this.app)){let a=this.app.settings.authIdToken;return a?new Promise(c=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(a).then(c,c))}):this.directlySetCurrentUser(null)}let i=yield this.assertedPersistence.getCurrentUser(),r=i,o=!1;if(e&&this.config.authDomain){yield this.getOrInitRedirectPersistenceManager();let a=(t=this.redirectUser)===null||t===void 0?void 0:t._redirectEventId,c=r?._redirectEventId,u=yield this.tryRedirectSignIn(e);(!a||a===c)&&u?.user&&(r=u.user,o=!0)}if(!r)return this.directlySetCurrentUser(null);if(!r._redirectEventId){if(o)try{yield this.beforeStateQueue.runMiddleware(r)}catch(a){r=i,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(a))}return r?this.reloadAndSetCurrentUserOrClear(r):this.directlySetCurrentUser(null)}return U(this._popupRedirectResolver,this,"argument-error"),yield this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===r._redirectEventId?this.directlySetCurrentUser(r):this.reloadAndSetCurrentUserOrClear(r)})}tryRedirectSignIn(e){return _(this,null,function*(){let t=null;try{t=yield this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch{yield this._setRedirectUser(null)}return t})}reloadAndSetCurrentUserOrClear(e){return _(this,null,function*(){try{yield Hs(e)}catch(t){if(t?.code!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)})}useDeviceLanguage(){this.languageCode=LI()}_delete(){return _(this,null,function*(){this._deleted=!0})}updateCurrentUser(e){return _(this,null,function*(){if(Qe(this.app))return Promise.reject(Xt(this));let t=e?be(e):null;return t&&U(t.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(t&&t._clone(this))})}_updateCurrentUser(e,t=!1){return _(this,null,function*(){if(!this._deleted)return e&&U(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),t||(yield this.beforeStateQueue.runMiddleware(e)),this.queue(()=>_(this,null,function*(){yield this.directlySetCurrentUser(e),this.notifyAuthListeners()}))})}signOut(){return _(this,null,function*(){return Qe(this.app)?Promise.reject(Xt(this)):(yield this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&(yield this._setRedirectUser(null)),this._updateCurrentUser(null,!0))})}setPersistence(e){return Qe(this.app)?Promise.reject(Xt(this)):this.queue(()=>_(this,null,function*(){yield this.assertedPersistence.setPersistence(Qt(e))}))}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}validatePassword(e){return _(this,null,function*(){this._getPasswordPolicyInternal()||(yield this._updatePasswordPolicy());let t=this._getPasswordPolicyInternal();return t.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):t.validatePassword(e)})}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}_updatePasswordPolicy(){return _(this,null,function*(){let e=yield XI(this),t=new Xl(e);this.tenantId===null?this._projectPasswordPolicy=t:this._tenantPasswordPolicies[this.tenantId]=t})}_getPersistenceType(){return this.assertedPersistence.persistence.type}_getPersistence(){return this.assertedPersistence.persistence}_updateErrorMap(e){this._errorFactory=new bt("auth","Firebase",e())}onAuthStateChanged(e,t,i){return this.registerStateListener(this.authStateSubscription,e,t,i)}beforeAuthStateChanged(e,t){return this.beforeStateQueue.pushCallback(e,t)}onIdTokenChanged(e,t,i){return this.registerStateListener(this.idTokenSubscription,e,t,i)}authStateReady(){return new Promise((e,t)=>{if(this.currentUser)e();else{let i=this.onAuthStateChanged(()=>{i(),e()},t)}})}revokeAccessToken(e){return _(this,null,function*(){if(this.currentUser){let t=yield this.currentUser.getIdToken(),i={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:t};this.tenantId!=null&&(i.tenantId=this.tenantId),yield GI(this,i)}})}toJSON(){var e;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:(e=this._currentUser)===null||e===void 0?void 0:e.toJSON()}}_setRedirectUser(e,t){return _(this,null,function*(){let i=yield this.getOrInitRedirectPersistenceManager(t);return e===null?i.removeCurrentUser():i.setCurrentUser(e)})}getOrInitRedirectPersistenceManager(e){return _(this,null,function*(){if(!this.redirectPersistenceManager){let t=e&&Qt(e)||this._popupRedirectResolver;U(t,this,"argument-error"),this.redirectPersistenceManager=yield Gs.create(this,[Qt(t._redirectPersistence)],"redirectUser"),this.redirectUser=yield this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager})}_redirectUserForId(e){return _(this,null,function*(){var t,i;return this._isInitialized&&(yield this.queue(()=>_(this,null,function*(){}))),((t=this._currentUser)===null||t===void 0?void 0:t._redirectEventId)===e?this._currentUser:((i=this.redirectUser)===null||i===void 0?void 0:i._redirectEventId)===e?this.redirectUser:null})}_persistUserIfCurrent(e){return _(this,null,function*(){if(e===this.currentUser)return this.queue(()=>_(this,null,function*(){return this.directlySetCurrentUser(e)}))})}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var e,t;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);let i=(t=(e=this.currentUser)===null||e===void 0?void 0:e.uid)!==null&&t!==void 0?t:null;this.lastNotifiedUid!==i&&(this.lastNotifiedUid=i,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,t,i,r){if(this._deleted)return()=>{};let o=typeof t=="function"?t:t.next.bind(t),a=!1,c=this._isInitialized?Promise.resolve():this._initializationPromise;if(U(c,this,"internal-error"),c.then(()=>{a||o(this.currentUser)}),typeof t=="function"){let u=e.addObserver(t,i,r);return()=>{a=!0,u()}}else{let u=e.addObserver(t);return()=>{a=!0,u()}}}directlySetCurrentUser(e){return _(this,null,function*(){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?yield this.assertedPersistence.setCurrentUser(e):yield this.assertedPersistence.removeCurrentUser()})}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return U(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=bg(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}_getAdditionalHeaders(){return _(this,null,function*(){var e;let t={"X-Client-Version":this.clientVersion};this.app.options.appId&&(t["X-Firebase-gmpid"]=this.app.options.appId);let i=yield(e=this.heartbeatServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getHeartbeatsHeader();i&&(t["X-Firebase-Client"]=i);let r=yield this._getAppCheckToken();return r&&(t["X-Firebase-AppCheck"]=r),t})}_getAppCheckToken(){return _(this,null,function*(){var e;if(Qe(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;let t=yield(e=this.appCheckServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getToken();return t?.error&&OI(`Error while retrieving App Check token: ${t.error}`),t?.token})}};function Rn(n){return be(n)}var Ks=class{constructor(e){this.auth=e,this.observer=null,this.addObserver=_p(t=>this.observer=t)}get next(){return U(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}};var ta={loadJS(){return _(this,null,function*(){throw new Error("Unable to load external scripts")})},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function ZI(n){ta=n}function wg(n){return ta.loadJS(n)}function eT(){return ta.recaptchaEnterpriseScript}function tT(){return ta.gapiScript}function Eg(n){return`__${n}${Math.floor(Math.random()*1e6)}`}var Zl=class{constructor(){this.enterprise=new eu}ready(e){e()}execute(e,t){return Promise.resolve("token")}render(e,t){return""}},eu=class{ready(e){e()}execute(e,t){return Promise.resolve("token")}render(e,t){return""}};var nT="recaptcha-enterprise",Ig="NO_RECAPTCHA",tu=class{constructor(e){this.type=nT,this.auth=Rn(e)}verify(e="verify",t=!1){return _(this,null,function*(){function i(o){return _(this,null,function*(){if(!t){if(o.tenantId==null&&o._agentRecaptchaConfig!=null)return o._agentRecaptchaConfig.siteKey;if(o.tenantId!=null&&o._tenantRecaptchaConfigs[o.tenantId]!==void 0)return o._tenantRecaptchaConfigs[o.tenantId].siteKey}return new Promise((a,c)=>_(null,null,function*(){jI(o,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(u=>{if(u.recaptchaKey===void 0)c(new Error("recaptcha Enterprise site key undefined"));else{let h=new Gl(u);return o.tenantId==null?o._agentRecaptchaConfig=h:o._tenantRecaptchaConfigs[o.tenantId]=h,a(h.siteKey)}}).catch(u=>{c(u)})}))})}function r(o,a,c){let u=window.grecaptcha;Hp(u)?u.enterprise.ready(()=>{u.enterprise.execute(o,{action:e}).then(h=>{a(h)}).catch(()=>{a(Ig)})}):c(Error("No reCAPTCHA enterprise script loaded."))}return this.auth.settings.appVerificationDisabledForTesting?new Zl().execute("siteKey",{action:"verify"}):new Promise((o,a)=>{i(this.auth).then(c=>{if(!t&&Hp(window.grecaptcha))r(c,o,a);else{if(typeof window>"u"){a(new Error("RecaptchaVerifier is only supported in browser"));return}let u=eT();u.length!==0&&(u+=c),wg(u).then(()=>{r(c,o,a)}).catch(h=>{a(h)})}}).catch(c=>{a(c)})})})}};function no(n,e,t,i=!1,r=!1){return _(this,null,function*(){let o=new tu(n),a;if(r)a=Ig;else try{a=yield o.verify(t)}catch{a=yield o.verify(t,!0)}let c=Object.assign({},e);if(t==="mfaSmsEnrollment"||t==="mfaSmsSignIn"){if("phoneEnrollmentInfo"in c){let u=c.phoneEnrollmentInfo.phoneNumber,h=c.phoneEnrollmentInfo.recaptchaToken;Object.assign(c,{phoneEnrollmentInfo:{phoneNumber:u,recaptchaToken:h,captchaResponse:a,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}else if("phoneSignInInfo"in c){let u=c.phoneSignInInfo.recaptchaToken;Object.assign(c,{phoneSignInInfo:{recaptchaToken:u,captchaResponse:a,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}return c}return i?Object.assign(c,{captchaResp:a}):Object.assign(c,{captchaResponse:a}),Object.assign(c,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(c,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),c})}function nu(n,e,t,i,r){return _(this,null,function*(){var o,a;if(r==="EMAIL_PASSWORD_PROVIDER")if(!((o=n._getRecaptchaConfig())===null||o===void 0)&&o.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")){let c=yield no(n,e,t,t==="getOobCode");return i(n,c)}else return i(n,e).catch(c=>_(null,null,function*(){if(c.code==="auth/missing-recaptcha-token"){console.log(`${t} is protected by reCAPTCHA Enterprise for this project. Automatically triggering the reCAPTCHA flow and restarting the flow.`);let u=yield no(n,e,t,t==="getOobCode");return i(n,u)}else return Promise.reject(c)}));else if(r==="PHONE_PROVIDER")if(!((a=n._getRecaptchaConfig())===null||a===void 0)&&a.isProviderEnabled("PHONE_PROVIDER")){let c=yield no(n,e,t);return i(n,c).catch(u=>_(null,null,function*(){var h;if(((h=n._getRecaptchaConfig())===null||h===void 0?void 0:h.getProviderEnforcementState("PHONE_PROVIDER"))==="AUDIT"&&(u.code==="auth/missing-recaptcha-token"||u.code==="auth/invalid-app-credential")){console.log(`Failed to verify with reCAPTCHA Enterprise. Automatically triggering the reCAPTCHA v2 flow to complete the ${t} flow.`);let f=yield no(n,e,t,!1,!0);return i(n,f)}return Promise.reject(u)}))}else{let c=yield no(n,e,t,!1,!0);return i(n,c)}else return Promise.reject(r+" provider is not supported.")})}function _u(n,e){let t=Mi(n,"auth");if(t.isInitialized()){let r=t.getImmediate(),o=t.getOptions();if(Pt(o,e??{}))return r;lt(r,"already-initialized")}return t.initialize({options:e})}function iT(n,e){let t=e?.persistence||[],i=(Array.isArray(t)?t:[t]).map(Qt);e?.errorMap&&n._updateErrorMap(e.errorMap),n._initializeWithPersistence(i,e?.popupRedirectResolver)}function vu(n,e,t){let i=Rn(n);U(/^https?:\/\//.test(e),i,"invalid-emulator-scheme");let r=!!t?.disableWarnings,o=Tg(e),{host:a,port:c}=rT(e),u=c===null?"":`:${c}`,h={url:`${o}//${a}${u}/`},f=Object.freeze({host:a,port:c,protocol:o.replace(":",""),options:Object.freeze({disableWarnings:r})});if(!i._canInitEmulator){U(i.config.emulator&&i.emulatorConfig,i,"emulator-config-failed"),U(Pt(h,i.config.emulator)&&Pt(f,i.emulatorConfig),i,"emulator-config-failed");return}i.config.emulator=h,i.emulatorConfig=f,i.settings.appVerificationDisabledForTesting=!0,yn(a)?(Ps(`${o}//${a}${u}`),Ds("Auth",!0)):r||oT()}function Tg(n){let e=n.indexOf(":");return e<0?"":n.substr(0,e+1)}function rT(n){let e=Tg(n),t=/(\/\/)?([^?#/]+)/.exec(n.substr(e.length));if(!t)return{host:"",port:null};let i=t[2].split("@").pop()||"",r=/^(\[[^\]]+\])(:|$)/.exec(i);if(r){let o=r[1];return{host:o,port:Qp(i.substr(o.length+1))}}else{let[o,a]=i.split(":");return{host:o,port:Qp(a)}}}function Qp(n){if(!n)return null;let e=Number(n);return isNaN(e)?null:e}function oT(){function n(){let e=document.createElement("p"),t=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",t.position="fixed",t.width="100%",t.backgroundColor="#ffffff",t.border=".1em solid #000000",t.color="#b50000",t.bottom="0px",t.left="0px",t.margin="0px",t.zIndex="10000",t.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",n):n())}var Bi=class{constructor(e,t){this.providerId=e,this.signInMethod=t}toJSON(){return Yt("not implemented")}_getIdTokenResponse(e){return Yt("not implemented")}_linkToIdToken(e,t){return Yt("not implemented")}_getReauthenticationResolver(e){return Yt("not implemented")}};function sT(n,e){return _(this,null,function*(){return xn(n,"POST","/v1/accounts:signUp",e)})}function aT(n,e){return _(this,null,function*(){return fo(n,"POST","/v1/accounts:signInWithPassword",Cn(n,e))})}function cT(n,e){return _(this,null,function*(){return fo(n,"POST","/v1/accounts:signInWithEmailLink",Cn(n,e))})}function lT(n,e){return _(this,null,function*(){return fo(n,"POST","/v1/accounts:signInWithEmailLink",Cn(n,e))})}var ao=class n extends Bi{constructor(e,t,i,r=null){super("password",i),this._email=e,this._password=t,this._tenantId=r}static _fromEmailAndPassword(e,t){return new n(e,t,"password")}static _fromEmailAndCode(e,t,i=null){return new n(e,t,"emailLink",i)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(e){let t=typeof e=="string"?JSON.parse(e):e;if(t?.email&&t?.password){if(t.signInMethod==="password")return this._fromEmailAndPassword(t.email,t.password);if(t.signInMethod==="emailLink")return this._fromEmailAndCode(t.email,t.password,t.tenantId)}return null}_getIdTokenResponse(e){return _(this,null,function*(){switch(this.signInMethod){case"password":let t={returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return nu(e,t,"signInWithPassword",aT,"EMAIL_PASSWORD_PROVIDER");case"emailLink":return cT(e,{email:this._email,oobCode:this._password});default:lt(e,"internal-error")}})}_linkToIdToken(e,t){return _(this,null,function*(){switch(this.signInMethod){case"password":let i={idToken:t,returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return nu(e,i,"signUpPassword",sT,"EMAIL_PASSWORD_PROVIDER");case"emailLink":return lT(e,{idToken:t,email:this._email,oobCode:this._password});default:lt(e,"internal-error")}})}_getReauthenticationResolver(e){return this._getIdTokenResponse(e)}};function Ui(n,e){return _(this,null,function*(){return fo(n,"POST","/v1/accounts:signInWithIdp",Cn(n,e))})}var uT="http://localhost",co=class n extends Bi{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(e){let t=new n(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(t.idToken=e.idToken),e.accessToken&&(t.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(t.nonce=e.nonce),e.pendingToken&&(t.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(t.accessToken=e.oauthToken,t.secret=e.oauthTokenSecret):lt("argument-error"),t}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(e){let t=typeof e=="string"?JSON.parse(e):e,{providerId:i,signInMethod:r}=t,o=fs(t,["providerId","signInMethod"]);if(!i||!r)return null;let a=new n(i,r);return a.idToken=o.idToken||void 0,a.accessToken=o.accessToken||void 0,a.secret=o.secret,a.nonce=o.nonce,a.pendingToken=o.pendingToken||null,a}_getIdTokenResponse(e){let t=this.buildRequest();return Ui(e,t)}_linkToIdToken(e,t){let i=this.buildRequest();return i.idToken=t,Ui(e,i)}_getReauthenticationResolver(e){let t=this.buildRequest();return t.autoCreate=!1,Ui(e,t)}buildRequest(){let e={requestUri:uT,returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{let t={};this.idToken&&(t.id_token=this.idToken),this.accessToken&&(t.access_token=this.accessToken),this.secret&&(t.oauth_token_secret=this.secret),t.providerId=this.providerId,this.nonce&&!this.pendingToken&&(t.nonce=this.nonce),e.postBody=Di(t)}return e}};function dT(n){switch(n){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}function hT(n){let e=Oi(Ni(n)).link,t=e?Oi(Ni(e)).deep_link_id:null,i=Oi(Ni(n)).deep_link_id;return(i?Oi(Ni(i)).link:null)||i||t||e||n}var Ys=class n{constructor(e){var t,i,r,o,a,c;let u=Oi(Ni(e)),h=(t=u.apiKey)!==null&&t!==void 0?t:null,f=(i=u.oobCode)!==null&&i!==void 0?i:null,p=dT((r=u.mode)!==null&&r!==void 0?r:null);U(h&&f&&p,"argument-error"),this.apiKey=h,this.operation=p,this.code=f,this.continueUrl=(o=u.continueUrl)!==null&&o!==void 0?o:null,this.languageCode=(a=u.lang)!==null&&a!==void 0?a:null,this.tenantId=(c=u.tenantId)!==null&&c!==void 0?c:null}static parseLink(e){let t=hT(e);try{return new n(t)}catch{return null}}};var Ag=(()=>{class n{constructor(){this.providerId=n.PROVIDER_ID}static credential(t,i){return ao._fromEmailAndPassword(t,i)}static credentialWithLink(t,i){let r=Ys.parseLink(i);return U(r,"argument-error"),ao._fromEmailAndCode(t,r.code,r.tenantId)}}n.PROVIDER_ID="password",n.EMAIL_PASSWORD_SIGN_IN_METHOD="password",n.EMAIL_LINK_SIGN_IN_METHOD="emailLink";return n})(),lo=class{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}};var uo=class extends lo{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}};var yu=(()=>{class n extends uo{constructor(){super("google.com"),this.addScope("profile")}static credential(t,i){return co._fromParams({providerId:n.PROVIDER_ID,signInMethod:n.GOOGLE_SIGN_IN_METHOD,idToken:t,accessToken:i})}static credentialFromResult(t){return n.credentialFromTaggedObject(t)}static credentialFromError(t){return n.credentialFromTaggedObject(t.customData||{})}static credentialFromTaggedObject({_tokenResponse:t}){if(!t)return null;let{oauthIdToken:i,oauthAccessToken:r}=t;if(!i&&!r)return null;try{return n.credential(i,r)}catch{return null}}}n.GOOGLE_SIGN_IN_METHOD="google.com",n.PROVIDER_ID="google.com";return n})(),bu=(()=>{class n extends uo{constructor(){super("github.com")}static credential(t){return co._fromParams({providerId:n.PROVIDER_ID,signInMethod:n.GITHUB_SIGN_IN_METHOD,accessToken:t})}static credentialFromResult(t){return n.credentialFromTaggedObject(t)}static credentialFromError(t){return n.credentialFromTaggedObject(t.customData||{})}static credentialFromTaggedObject({_tokenResponse:t}){if(!t||!("oauthAccessToken"in t)||!t.oauthAccessToken)return null;try{return n.credential(t.oauthAccessToken)}catch{return null}}}n.GITHUB_SIGN_IN_METHOD="github.com",n.PROVIDER_ID="github.com";return n})();function fT(n,e){return _(this,null,function*(){return fo(n,"POST","/v1/accounts:signUp",Cn(n,e))})}var zi=class n{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static _fromIdTokenResponse(e,t,i,r=!1){return _(this,null,function*(){let o=yield Sn._fromIdTokenResponse(e,i,r),a=Xp(i);return new n({user:o,providerId:a,_tokenResponse:i,operationType:t})})}static _forOperation(e,t,i){return _(this,null,function*(){yield e._updateTokensIfNecessary(i,!0);let r=Xp(i);return new n({user:e,providerId:r,_tokenResponse:i,operationType:t})})}};function Xp(n){return n.providerId?n.providerId:"phoneNumber"in n?"phone":null}var iu=class n extends ot{constructor(e,t,i,r){var o;super(t.code,t.message),this.operationType=i,this.user=r,Object.setPrototypeOf(this,n.prototype),this.customData={appName:e.name,tenantId:(o=e.tenantId)!==null&&o!==void 0?o:void 0,_serverResponse:t.customData._serverResponse,operationType:i}}static _fromErrorAndOperation(e,t,i,r){return new n(e,t,i,r)}};function Sg(n,e,t,i){return(e==="reauthenticate"?t._getReauthenticationResolver(n):t._getIdTokenResponse(n)).catch(o=>{throw o.code==="auth/multi-factor-auth-required"?iu._fromErrorAndOperation(n,o,e,i):o})}function mT(n,e,t=!1){return _(this,null,function*(){let i=yield oo(n,e._linkToIdToken(n.auth,yield n.getIdToken()),t);return zi._forOperation(n,"link",i)})}function pT(n,e,t=!1){return _(this,null,function*(){let{auth:i}=n;if(Qe(i.app))return Promise.reject(Xt(i));let r="reauthenticate";try{let o=yield oo(n,Sg(i,r,e,n),t);U(o.idToken,i,"internal-error");let a=mu(o.idToken);U(a,i,"internal-error");let{sub:c}=a;return U(n.uid===c,i,"user-mismatch"),zi._forOperation(n,r,o)}catch(o){throw o?.code==="auth/user-not-found"&&lt(i,"user-mismatch"),o}})}function Cg(n,e,t=!1){return _(this,null,function*(){if(Qe(n.app))return Promise.reject(Xt(n));let i="signIn",r=yield Sg(n,i,e),o=yield zi._fromIdTokenResponse(n,i,r);return t||(yield n._updateCurrentUser(o.user)),o})}function wu(n,e){return _(this,null,function*(){return Cg(Rn(n),e)})}function xg(n){return _(this,null,function*(){let e=Rn(n);e._getPasswordPolicyInternal()&&(yield e._updatePasswordPolicy())})}function Eu(n,e,t){return _(this,null,function*(){if(Qe(n.app))return Promise.reject(Xt(n));let i=Rn(n),a=yield nu(i,{returnSecureToken:!0,email:e,password:t,clientType:"CLIENT_TYPE_WEB"},"signUpPassword",fT,"EMAIL_PASSWORD_PROVIDER").catch(u=>{throw u.code==="auth/password-does-not-meet-requirements"&&xg(n),u}),c=yield zi._fromIdTokenResponse(i,"signIn",a);return yield i._updateCurrentUser(c.user),c})}function Iu(n,e,t){return Qe(n.app)?Promise.reject(Xt(n)):wu(be(n),Ag.credential(e,t)).catch(i=>_(null,null,function*(){throw i.code==="auth/password-does-not-meet-requirements"&&xg(n),i}))}function na(n,e,t,i){return be(n).onIdTokenChanged(e,t,i)}function Tu(n,e,t){return be(n).beforeAuthStateChanged(e,t)}function ia(n,e,t,i){return be(n).onAuthStateChanged(e,t,i)}var Qs="__sak";var Xs=class{constructor(e,t){this.storageRetriever=e,this.type=t}_isAvailable(){try{return this.storage?(this.storage.setItem(Qs,"1"),this.storage.removeItem(Qs),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(e,t){return this.storage.setItem(e,JSON.stringify(t)),Promise.resolve()}_get(e){let t=this.storage.getItem(e);return Promise.resolve(t?JSON.parse(t):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}};var gT=1e3,_T=10,vT=(()=>{class n extends Xs{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(t,i)=>this.onStorageEvent(t,i),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=yg(),this._shouldAllowMigration=!0}forAllChangedKeys(t){for(let i of Object.keys(this.listeners)){let r=this.storage.getItem(i),o=this.localCache[i];r!==o&&t(i,o,r)}}onStorageEvent(t,i=!1){if(!t.key){this.forAllChangedKeys((c,u,h)=>{this.notifyListeners(c,h)});return}let r=t.key;i?this.detachListener():this.stopPolling();let o=()=>{let c=this.storage.getItem(r);!i&&this.localCache[r]===c||this.notifyListeners(r,c)},a=this.storage.getItem(r);QI()&&a!==t.newValue&&t.newValue!==t.oldValue?setTimeout(o,_T):o()}notifyListeners(t,i){this.localCache[t]=i;let r=this.listeners[t];if(r)for(let o of Array.from(r))o(i&&JSON.parse(i))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((t,i,r)=>{this.onStorageEvent(new StorageEvent("storage",{key:t,oldValue:i,newValue:r}),!0)})},gT)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(t,i){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[t]||(this.listeners[t]=new Set,this.localCache[t]=this.storage.getItem(t)),this.listeners[t].add(i)}_removeListener(t,i){this.listeners[t]&&(this.listeners[t].delete(i),this.listeners[t].size===0&&delete this.listeners[t]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}_set(t,i){return _(this,null,function*(){yield fn(n.prototype,this,"_set").call(this,t,i),this.localCache[t]=JSON.stringify(i)})}_get(t){return _(this,null,function*(){let i=yield fn(n.prototype,this,"_get").call(this,t);return this.localCache[t]=JSON.stringify(i),i})}_remove(t){return _(this,null,function*(){yield fn(n.prototype,this,"_remove").call(this,t),delete this.localCache[t]})}}return n.type="LOCAL",n})(),Rg=vT;var yT=(()=>{class n extends Xs{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(t,i){}_removeListener(t,i){}}return n.type="SESSION",n})(),Au=yT;function bT(n){return Promise.all(n.map(e=>_(null,null,function*(){try{return{fulfilled:!0,value:yield e}}catch(t){return{fulfilled:!1,reason:t}}})))}var wT=(()=>{class n{constructor(t){this.eventTarget=t,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(t){let i=this.receivers.find(o=>o.isListeningto(t));if(i)return i;let r=new n(t);return this.receivers.push(r),r}isListeningto(t){return this.eventTarget===t}handleEvent(t){return _(this,null,function*(){let i=t,{eventId:r,eventType:o,data:a}=i.data,c=this.handlersMap[o];if(!c?.size)return;i.ports[0].postMessage({status:"ack",eventId:r,eventType:o});let u=Array.from(c).map(f=>_(this,null,function*(){return f(i.origin,a)})),h=yield bT(u);i.ports[0].postMessage({status:"done",eventId:r,eventType:o,response:h})})}_subscribe(t,i){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[t]||(this.handlersMap[t]=new Set),this.handlersMap[t].add(i)}_unsubscribe(t,i){this.handlersMap[t]&&i&&this.handlersMap[t].delete(i),(!i||this.handlersMap[t].size===0)&&delete this.handlersMap[t],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}n.receivers=[];return n})();function Su(n="",e=10){let t="";for(let i=0;i<e;i++)t+=Math.floor(Math.random()*10);return n+t}var ru=class{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}_send(e,t,i=50){return _(this,null,function*(){let r=typeof MessageChannel<"u"?new MessageChannel:null;if(!r)throw new Error("connection_unavailable");let o,a;return new Promise((c,u)=>{let h=Su("",20);r.port1.start();let f=setTimeout(()=>{u(new Error("unsupported_event"))},i);a={messageChannel:r,onMessage(p){let v=p;if(v.data.eventId===h)switch(v.data.status){case"ack":clearTimeout(f),o=setTimeout(()=>{u(new Error("timeout"))},3e3);break;case"done":clearTimeout(o),c(v.data.response);break;default:clearTimeout(f),clearTimeout(o),u(new Error("invalid_response"));break}}},this.handlers.add(a),r.port1.addEventListener("message",a.onMessage),this.target.postMessage({eventType:e,eventId:h,data:t},[r.port2])}).finally(()=>{a&&this.removeMessageHandler(a)})})}};function Nt(){return window}function ET(n){Nt().location.href=n}function kg(){return typeof Nt().WorkerGlobalScope<"u"&&typeof Nt().importScripts=="function"}function IT(){return _(this,null,function*(){if(!navigator?.serviceWorker)return null;try{return(yield navigator.serviceWorker.ready).active}catch{return null}})}function TT(){var n;return((n=navigator?.serviceWorker)===null||n===void 0?void 0:n.controller)||null}function AT(){return kg()?self:null}var Pg="firebaseLocalStorageDb",ST=1,Js="firebaseLocalStorage",Dg="fbase_key",Zn=class{constructor(e){this.request=e}toPromise(){return new Promise((e,t)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{t(this.request.error)})})}};function ra(n,e){return n.transaction([Js],e?"readwrite":"readonly").objectStore(Js)}function CT(){let n=indexedDB.deleteDatabase(Pg);return new Zn(n).toPromise()}function ou(){let n=indexedDB.open(Pg,ST);return new Promise((e,t)=>{n.addEventListener("error",()=>{t(n.error)}),n.addEventListener("upgradeneeded",()=>{let i=n.result;try{i.createObjectStore(Js,{keyPath:Dg})}catch(r){t(r)}}),n.addEventListener("success",()=>_(null,null,function*(){let i=n.result;i.objectStoreNames.contains(Js)?e(i):(i.close(),yield CT(),e(yield ou()))}))})}function Jp(n,e,t){return _(this,null,function*(){let i=ra(n,!0).put({[Dg]:e,value:t});return new Zn(i).toPromise()})}function xT(n,e){return _(this,null,function*(){let t=ra(n,!1).get(e),i=yield new Zn(t).toPromise();return i===void 0?null:i.value})}function Zp(n,e){let t=ra(n,!0).delete(e);return new Zn(t).toPromise()}var RT=800,kT=3,PT=(()=>{class n{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}_openDb(){return _(this,null,function*(){return this.db?this.db:(this.db=yield ou(),this.db)})}_withRetries(t){return _(this,null,function*(){let i=0;for(;;)try{let r=yield this._openDb();return yield t(r)}catch(r){if(i++>kT)throw r;this.db&&(this.db.close(),this.db=void 0)}})}initializeServiceWorkerMessaging(){return _(this,null,function*(){return kg()?this.initializeReceiver():this.initializeSender()})}initializeReceiver(){return _(this,null,function*(){this.receiver=wT._getInstance(AT()),this.receiver._subscribe("keyChanged",(t,i)=>_(this,null,function*(){return{keyProcessed:(yield this._poll()).includes(i.key)}})),this.receiver._subscribe("ping",(t,i)=>_(this,null,function*(){return["keyChanged"]}))})}initializeSender(){return _(this,null,function*(){var t,i;if(this.activeServiceWorker=yield IT(),!this.activeServiceWorker)return;this.sender=new ru(this.activeServiceWorker);let r=yield this.sender._send("ping",{},800);r&&!((t=r[0])===null||t===void 0)&&t.fulfilled&&!((i=r[0])===null||i===void 0)&&i.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)})}notifyServiceWorker(t){return _(this,null,function*(){if(!(!this.sender||!this.activeServiceWorker||TT()!==this.activeServiceWorker))try{yield this.sender._send("keyChanged",{key:t},this.serviceWorkerReceiverAvailable?800:50)}catch{}})}_isAvailable(){return _(this,null,function*(){try{if(!indexedDB)return!1;let t=yield ou();return yield Jp(t,Qs,"1"),yield Zp(t,Qs),!0}catch{}return!1})}_withPendingWrite(t){return _(this,null,function*(){this.pendingWrites++;try{yield t()}finally{this.pendingWrites--}})}_set(t,i){return _(this,null,function*(){return this._withPendingWrite(()=>_(this,null,function*(){return yield this._withRetries(r=>Jp(r,t,i)),this.localCache[t]=i,this.notifyServiceWorker(t)}))})}_get(t){return _(this,null,function*(){let i=yield this._withRetries(r=>xT(r,t));return this.localCache[t]=i,i})}_remove(t){return _(this,null,function*(){return this._withPendingWrite(()=>_(this,null,function*(){return yield this._withRetries(i=>Zp(i,t)),delete this.localCache[t],this.notifyServiceWorker(t)}))})}_poll(){return _(this,null,function*(){let t=yield this._withRetries(o=>{let a=ra(o,!1).getAll();return new Zn(a).toPromise()});if(!t)return[];if(this.pendingWrites!==0)return[];let i=[],r=new Set;if(t.length!==0)for(let{fbase_key:o,value:a}of t)r.add(o),JSON.stringify(this.localCache[o])!==JSON.stringify(a)&&(this.notifyListeners(o,a),i.push(o));for(let o of Object.keys(this.localCache))this.localCache[o]&&!r.has(o)&&(this.notifyListeners(o,null),i.push(o));return i})}notifyListeners(t,i){this.localCache[t]=i;let r=this.listeners[t];if(r)for(let o of Array.from(r))o(i)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>_(this,null,function*(){return this._poll()}),RT)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(t,i){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[t]||(this.listeners[t]=new Set,this._get(t)),this.listeners[t].add(i)}_removeListener(t,i){this.listeners[t]&&(this.listeners[t].delete(i),this.listeners[t].size===0&&delete this.listeners[t]),Object.keys(this.listeners).length===0&&this.stopPolling()}}return n.type="LOCAL",n})(),Og=PT;var Ck=Eg("rcb"),xk=new Jn(3e4,6e4);function Ng(n,e){return e?Qt(e):(U(n._popupRedirectResolver,n,"argument-error"),n._popupRedirectResolver)}var ho=class extends Bi{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return Ui(e,this._buildIdpRequest())}_linkToIdToken(e,t){return Ui(e,this._buildIdpRequest(t))}_getReauthenticationResolver(e){return Ui(e,this._buildIdpRequest())}_buildIdpRequest(e){let t={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(t.idToken=e),t}};function DT(n){return Cg(n.auth,new ho(n),n.bypassAuthState)}function OT(n){let{auth:e,user:t}=n;return U(t,e,"internal-error"),pT(t,new ho(n),n.bypassAuthState)}function NT(n){return _(this,null,function*(){let{auth:e,user:t}=n;return U(t,e,"internal-error"),mT(t,new ho(n),n.bypassAuthState)})}var Zs=class{constructor(e,t,i,r,o=!1){this.auth=e,this.resolver=i,this.user=r,this.bypassAuthState=o,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(t)?t:[t]}execute(){return new Promise((e,t)=>_(this,null,function*(){this.pendingPromise={resolve:e,reject:t};try{this.eventManager=yield this.resolver._initialize(this.auth),yield this.onExecution(),this.eventManager.registerConsumer(this)}catch(i){this.reject(i)}}))}onAuthEvent(e){return _(this,null,function*(){let{urlResponse:t,sessionId:i,postBody:r,tenantId:o,error:a,type:c}=e;if(a){this.reject(a);return}let u={auth:this.auth,requestUri:t,sessionId:i,tenantId:o||void 0,postBody:r||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(yield this.getIdpTask(c)(u))}catch(h){this.reject(h)}})}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return DT;case"linkViaPopup":case"linkViaRedirect":return NT;case"reauthViaPopup":case"reauthViaRedirect":return OT;default:lt(this.auth,"internal-error")}}resolve(e){Jt(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){Jt(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}};var MT=new Jn(2e3,1e4);function Cu(n,e,t){return _(this,null,function*(){if(Qe(n.app))return Promise.reject(It(n,"operation-not-supported-in-this-environment"));let i=Rn(n);NI(n,e,lo);let r=Ng(i,t);return new FT(i,"signInViaPopup",e,r).executeNotNull()})}var FT=(()=>{class n extends Zs{constructor(t,i,r,o,a){super(t,i,o,a),this.provider=r,this.authWindow=null,this.pollId=null,n.currentPopupAction&&n.currentPopupAction.cancel(),n.currentPopupAction=this}executeNotNull(){return _(this,null,function*(){let t=yield this.execute();return U(t,this.auth,"internal-error"),t})}onExecution(){return _(this,null,function*(){Jt(this.filter.length===1,"Popup operations only handle one event");let t=Su();this.authWindow=yield this.resolver._openPopup(this.auth,this.provider,this.filter[0],t),this.authWindow.associatedEvent=t,this.resolver._originValidation(this.auth).catch(i=>{this.reject(i)}),this.resolver._isIframeWebStorageSupported(this.auth,i=>{i||this.reject(It(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()})}get eventId(){var t;return((t=this.authWindow)===null||t===void 0?void 0:t.associatedEvent)||null}cancel(){this.reject(It(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,n.currentPopupAction=null}pollUserCancellation(){let t=()=>{var i,r;if(!((r=(i=this.authWindow)===null||i===void 0?void 0:i.window)===null||r===void 0)&&r.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(It(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(t,MT.get())};t()}}n.currentPopupAction=null;return n})(),LT="pendingRedirect",zs=new Map,su=class n extends Zs{constructor(e,t,i=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],t,void 0,i),this.eventId=null}execute(){return _(this,null,function*(){let e=zs.get(this.auth._key());if(!e){try{let i=(yield VT(this.resolver,this.auth))?yield fn(n.prototype,this,"execute").call(this):null;e=()=>Promise.resolve(i)}catch(t){e=()=>Promise.reject(t)}zs.set(this.auth._key(),e)}return this.bypassAuthState||zs.set(this.auth._key(),()=>Promise.resolve(null)),e()})}onAuthEvent(e){return _(this,null,function*(){if(e.type==="signInViaRedirect")return fn(n.prototype,this,"onAuthEvent").call(this,e);if(e.type==="unknown"){this.resolve(null);return}if(e.eventId){let t=yield this.auth._redirectUserForId(e.eventId);if(t)return this.user=t,fn(n.prototype,this,"onAuthEvent").call(this,e);this.resolve(null)}})}onExecution(){return _(this,null,function*(){})}cleanUp(){}};function VT(n,e){return _(this,null,function*(){let t=zT(e),i=BT(n);if(!(yield i._isAvailable()))return!1;let r=(yield i._get(t))==="true";return yield i._remove(t),r})}function UT(n,e){zs.set(n._key(),e)}function BT(n){return Qt(n._redirectPersistence)}function zT(n){return Bs(LT,n.config.apiKey,n.name)}function jT(n,e,t=!1){return _(this,null,function*(){if(Qe(n.app))return Promise.reject(Xt(n));let i=Rn(n),r=Ng(i,e),a=yield new su(i,r,t).execute();return a&&!t&&(delete a.user._redirectEventId,yield i._persistUserIfCurrent(a.user),yield i._setRedirectUser(null,e)),a})}var qT=600*1e3,au=class{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let t=!1;return this.consumers.forEach(i=>{this.isEventForConsumer(e,i)&&(t=!0,this.sendToConsumer(e,i),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!$T(e)||(this.hasHandledPotentialRedirect=!0,t||(this.queuedRedirectEvent=e,t=!0)),t}sendToConsumer(e,t){var i;if(e.error&&!Mg(e)){let r=((i=e.error.code)===null||i===void 0?void 0:i.split("auth/")[1])||"internal-error";t.onError(It(this.auth,r))}else t.onAuthEvent(e)}isEventForConsumer(e,t){let i=t.eventId===null||!!e.eventId&&e.eventId===t.eventId;return t.filter.includes(e.type)&&i}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=qT&&this.cachedEventUids.clear(),this.cachedEventUids.has(eg(e))}saveEventToCache(e){this.cachedEventUids.add(eg(e)),this.lastProcessedEventTime=Date.now()}};function eg(n){return[n.type,n.eventId,n.sessionId,n.tenantId].filter(e=>e).join("-")}function Mg({type:n,error:e}){return n==="unknown"&&e?.code==="auth/no-auth-event"}function $T(n){switch(n.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return Mg(n);default:return!1}}function WT(t){return _(this,arguments,function*(n,e={}){return xn(n,"GET","/v1/projects",e)})}var HT=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,GT=/^https?/;function KT(n){return _(this,null,function*(){if(n.config.emulator)return;let{authorizedDomains:e}=yield WT(n);for(let t of e)try{if(YT(t))return}catch{}lt(n,"unauthorized-domain")})}function YT(n){let e=Wl(),{protocol:t,hostname:i}=new URL(e);if(n.startsWith("chrome-extension://")){let a=new URL(n);return a.hostname===""&&i===""?t==="chrome-extension:"&&n.replace("chrome-extension://","")===e.replace("chrome-extension://",""):t==="chrome-extension:"&&a.hostname===i}if(!GT.test(t))return!1;if(HT.test(n))return i===n;let r=n.replace(/\./g,"\\.");return new RegExp("^(.+\\."+r+"|"+r+")$","i").test(i)}var QT=new Jn(3e4,6e4);function tg(){let n=Nt().___jsl;if(n?.H){for(let e of Object.keys(n.H))if(n.H[e].r=n.H[e].r||[],n.H[e].L=n.H[e].L||[],n.H[e].r=[...n.H[e].L],n.CP)for(let t=0;t<n.CP.length;t++)n.CP[t]=null}}function XT(n){return new Promise((e,t)=>{var i,r,o;function a(){tg(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{tg(),t(It(n,"network-request-failed"))},timeout:QT.get()})}if(!((r=(i=Nt().gapi)===null||i===void 0?void 0:i.iframes)===null||r===void 0)&&r.Iframe)e(gapi.iframes.getContext());else if(!((o=Nt().gapi)===null||o===void 0)&&o.load)a();else{let c=Eg("iframefcb");return Nt()[c]=()=>{gapi.load?a():t(It(n,"network-request-failed"))},wg(`${tT()}?onload=${c}`).catch(u=>t(u))}}).catch(e=>{throw js=null,e})}var js=null;function JT(n){return js=js||XT(n),js}var ZT=new Jn(5e3,15e3),e0="__/auth/iframe",t0="emulator/auth/iframe",n0={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},i0=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function r0(n){let e=n.config;U(e.authDomain,n,"auth-domain-config-required");let t=e.emulator?hu(e,t0):`https://${n.config.authDomain}/${e0}`,i={apiKey:e.apiKey,appName:n.name,v:wn},r=i0.get(n.config.apiHost);r&&(i.eid=r);let o=n._getFrameworks();return o.length&&(i.fw=o.join(",")),`${t}?${Di(i).slice(1)}`}function o0(n){return _(this,null,function*(){let e=yield JT(n),t=Nt().gapi;return U(t,n,"internal-error"),e.open({where:document.body,url:r0(n),messageHandlersFilter:t.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:n0,dontclear:!0},i=>new Promise((r,o)=>_(null,null,function*(){yield i.restyle({setHideOnLeave:!1});let a=It(n,"network-request-failed"),c=Nt().setTimeout(()=>{o(a)},ZT.get());function u(){Nt().clearTimeout(c),r(i)}i.ping(u).then(u,()=>{o(a)})})))})}var s0={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},a0=500,c0=600,l0="_blank",u0="http://localhost",ea=class{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}};function d0(n,e,t,i=a0,r=c0){let o=Math.max((window.screen.availHeight-r)/2,0).toString(),a=Math.max((window.screen.availWidth-i)/2,0).toString(),c="",u=Object.assign(Object.assign({},s0),{width:i.toString(),height:r.toString(),top:o,left:a}),h=Pe().toLowerCase();t&&(c=mg(h)?l0:t),hg(h)&&(e=e||u0,u.scrollbars="yes");let f=Object.entries(u).reduce((v,[C,k])=>`${v}${C}=${k},`,"");if(YI(h)&&c!=="_self")return h0(e||"",c),new ea(null);let p=window.open(e||"",c,f);U(p,n,"popup-blocked");try{p.focus()}catch{}return new ea(p)}function h0(n,e){let t=document.createElement("a");t.href=n,t.target=e;let i=document.createEvent("MouseEvent");i.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),t.dispatchEvent(i)}var f0="__/auth/handler",m0="emulator/auth/handler",p0=encodeURIComponent("fac");function ng(n,e,t,i,r,o){return _(this,null,function*(){U(n.config.authDomain,n,"auth-domain-config-required"),U(n.config.apiKey,n,"invalid-api-key");let a={apiKey:n.config.apiKey,appName:n.name,authType:t,redirectUrl:i,v:wn,eventId:r};if(e instanceof lo){e.setDefaultLanguage(n.languageCode),a.providerId=e.providerId||"",gp(e.getCustomParameters())||(a.customParameters=JSON.stringify(e.getCustomParameters()));for(let[f,p]of Object.entries(o||{}))a[f]=p}if(e instanceof uo){let f=e.getScopes().filter(p=>p!=="");f.length>0&&(a.scopes=f.join(","))}n.tenantId&&(a.tid=n.tenantId);let c=a;for(let f of Object.keys(c))c[f]===void 0&&delete c[f];let u=yield n._getAppCheckToken(),h=u?`#${p0}=${encodeURIComponent(u)}`:"";return`${g0(n)}?${Di(c).slice(1)}${h}`})}function g0({config:n}){return n.emulator?hu(n,m0):`https://${n.authDomain}/${f0}`}var $l="webStorageSupport",cu=class{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=Au,this._completeRedirectFn=jT,this._overrideRedirectResult=UT}_openPopup(e,t,i,r){return _(this,null,function*(){var o;Jt((o=this.eventManagers[e._key()])===null||o===void 0?void 0:o.manager,"_initialize() not called before _openPopup()");let a=yield ng(e,t,i,Wl(),r);return d0(e,a,Su())})}_openRedirect(e,t,i,r){return _(this,null,function*(){yield this._originValidation(e);let o=yield ng(e,t,i,Wl(),r);return ET(o),new Promise(()=>{})})}_initialize(e){let t=e._key();if(this.eventManagers[t]){let{manager:r,promise:o}=this.eventManagers[t];return r?Promise.resolve(r):(Jt(o,"If manager is not set, promise should be"),o)}let i=this.initAndGetManager(e);return this.eventManagers[t]={promise:i},i.catch(()=>{delete this.eventManagers[t]}),i}initAndGetManager(e){return _(this,null,function*(){let t=yield o0(e),i=new au(e);return t.register("authEvent",r=>(U(r?.authEvent,e,"invalid-auth-event"),{status:i.onEvent(r.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:i},this.iframes[e._key()]=t,i})}_isIframeWebStorageSupported(e,t){this.iframes[e._key()].send($l,{type:$l},r=>{var o;let a=(o=r?.[0])===null||o===void 0?void 0:o[$l];a!==void 0&&t(!!a),lt(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){let t=e._key();return this.originValidationPromises[t]||(this.originValidationPromises[t]=KT(e)),this.originValidationPromises[t]}get _shouldInitProactively(){return yg()||fg()||gu()}},Fg=cu;var ig="@firebase/auth",rg="1.10.8";var lu=class{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){var e;return this.assertAuthConfigured(),((e=this.auth.currentUser)===null||e===void 0?void 0:e.uid)||null}getToken(e){return _(this,null,function*(){return this.assertAuthConfigured(),yield this.auth._initializationPromise,this.auth.currentUser?{accessToken:yield this.auth.currentUser.getIdToken(e)}:null})}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;let t=this.auth.onIdTokenChanged(i=>{e(i?.stsTokenManager.accessToken||null)});this.internalListeners.set(e,t),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();let t=this.internalListeners.get(e);t&&(this.internalListeners.delete(e),t(),this.updateProactiveRefresh())}assertAuthConfigured(){U(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}};function _0(n){switch(n){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function v0(n){wt(new Ye("auth",(e,{options:t})=>{let i=e.getProvider("app").getImmediate(),r=e.getProvider("heartbeat"),o=e.getProvider("app-check-internal"),{apiKey:a,authDomain:c}=i.options;U(a&&!a.includes(":"),"invalid-api-key",{appName:i.name});let u={apiKey:a,authDomain:c,clientPlatform:n,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:bg(n)},h=new Jl(i,r,o,u);return iT(h,t),h},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,t,i)=>{e.getProvider("auth-internal").initialize()})),wt(new Ye("auth-internal",e=>{let t=Rn(e.getProvider("auth").getImmediate());return(i=>new lu(i))(t)},"PRIVATE").setInstantiationMode("EXPLICIT")),ge(ig,rg,_0(n)),ge(ig,rg,"esm2017")}var y0=300,b0=bl("authIdTokenMaxAge")||y0,og=null,w0=n=>e=>_(null,null,function*(){let t=e&&(yield e.getIdTokenResult()),i=t&&(new Date().getTime()-Date.parse(t.issuedAtTime))/1e3;if(i&&i>b0)return;let r=t?.token;og!==r&&(og=r,yield fetch(n,{method:r?"POST":"DELETE",headers:r?{Authorization:`Bearer ${r}`}:{}}))});function xu(n=Yn()){let e=Mi(n,"auth");if(e.isInitialized())return e.getImmediate();let t=_u(n,{popupRedirectResolver:Fg,persistence:[Og,Rg,Au]}),i=bl("authTokenSyncURL");if(i&&typeof isSecureContext=="boolean"&&isSecureContext){let o=new URL(i,location.origin);if(location.origin===o.origin){let a=w0(o.toString());Tu(t,a,()=>a(t.currentUser)),na(t,c=>a(c))}}let r=vl("auth");return r&&vu(t,`http://${r}`),t}function E0(){var n,e;return(e=(n=document.getElementsByTagName("head"))===null||n===void 0?void 0:n[0])!==null&&e!==void 0?e:document}ZI({loadJS(n){return new Promise((e,t)=>{let i=document.createElement("script");i.setAttribute("src",n),i.onload=e,i.onerror=r=>{let o=It("internal-error");o.customData=r,t(o)},i.type="text/javascript",i.charset="UTF-8",E0().appendChild(i)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});v0("Browser");function Vg(n){return new Me(function(e){var t=ia(n,e.next.bind(e),e.error.bind(e),e.complete.bind(e));return{unsubscribe:t}})}var Ug="auth",ei=class{constructor(e){return e}},mo=class{constructor(){return Li(Ug)}};var Ru=new Q("angularfire2.auth-instances");function uA(n,e){let t=Zr(Ug,n,e);return t&&new ei(t)}function dA(n){return(e,t)=>{let i=e.runOutsideAngular(()=>n(t));return new ei(i)}}var hA={provide:mo,deps:[[new Xe,Ru]]},fA={provide:ei,useFactory:uA,deps:[[new Xe,Ru],Kt]};function _P(n,...e){return ge("angularfire",En.full,"auth"),Ci([fA,hA,{provide:Ru,useFactory:dA(n),multi:!0,deps:[W,se,In,Xn,[new Xe,Vi],...e]}])}var Bg=Ie(Vg,!0);var zg=Ie(Eu,!0,2);var vP=Ie(xu,!0);var jg=Ie(Iu,!0,2);var qg=Ie(Cu,!0,2);var $g=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{},Wg={};var Zt,ku;(function(){var n;function e(E,g){function b(){}b.prototype=g.prototype,E.D=g.prototype,E.prototype=new b,E.prototype.constructor=E,E.C=function(w,I,A){for(var y=Array(arguments.length-2),zt=2;zt<arguments.length;zt++)y[zt-2]=arguments[zt];return g.prototype[I].apply(w,y)}}function t(){this.blockSize=-1}function i(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.B=Array(this.blockSize),this.o=this.h=0,this.s()}e(i,t),i.prototype.s=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function r(E,g,b){b||(b=0);var w=Array(16);if(typeof g=="string")for(var I=0;16>I;++I)w[I]=g.charCodeAt(b++)|g.charCodeAt(b++)<<8|g.charCodeAt(b++)<<16|g.charCodeAt(b++)<<24;else for(I=0;16>I;++I)w[I]=g[b++]|g[b++]<<8|g[b++]<<16|g[b++]<<24;g=E.g[0],b=E.g[1],I=E.g[2];var A=E.g[3],y=g+(A^b&(I^A))+w[0]+3614090360&4294967295;g=b+(y<<7&4294967295|y>>>25),y=A+(I^g&(b^I))+w[1]+3905402710&4294967295,A=g+(y<<12&4294967295|y>>>20),y=I+(b^A&(g^b))+w[2]+606105819&4294967295,I=A+(y<<17&4294967295|y>>>15),y=b+(g^I&(A^g))+w[3]+3250441966&4294967295,b=I+(y<<22&4294967295|y>>>10),y=g+(A^b&(I^A))+w[4]+4118548399&4294967295,g=b+(y<<7&4294967295|y>>>25),y=A+(I^g&(b^I))+w[5]+1200080426&4294967295,A=g+(y<<12&4294967295|y>>>20),y=I+(b^A&(g^b))+w[6]+2821735955&4294967295,I=A+(y<<17&4294967295|y>>>15),y=b+(g^I&(A^g))+w[7]+4249261313&4294967295,b=I+(y<<22&4294967295|y>>>10),y=g+(A^b&(I^A))+w[8]+1770035416&4294967295,g=b+(y<<7&4294967295|y>>>25),y=A+(I^g&(b^I))+w[9]+2336552879&4294967295,A=g+(y<<12&4294967295|y>>>20),y=I+(b^A&(g^b))+w[10]+4294925233&4294967295,I=A+(y<<17&4294967295|y>>>15),y=b+(g^I&(A^g))+w[11]+2304563134&4294967295,b=I+(y<<22&4294967295|y>>>10),y=g+(A^b&(I^A))+w[12]+1804603682&4294967295,g=b+(y<<7&4294967295|y>>>25),y=A+(I^g&(b^I))+w[13]+4254626195&4294967295,A=g+(y<<12&4294967295|y>>>20),y=I+(b^A&(g^b))+w[14]+2792965006&4294967295,I=A+(y<<17&4294967295|y>>>15),y=b+(g^I&(A^g))+w[15]+1236535329&4294967295,b=I+(y<<22&4294967295|y>>>10),y=g+(I^A&(b^I))+w[1]+4129170786&4294967295,g=b+(y<<5&4294967295|y>>>27),y=A+(b^I&(g^b))+w[6]+3225465664&4294967295,A=g+(y<<9&4294967295|y>>>23),y=I+(g^b&(A^g))+w[11]+643717713&4294967295,I=A+(y<<14&4294967295|y>>>18),y=b+(A^g&(I^A))+w[0]+3921069994&4294967295,b=I+(y<<20&4294967295|y>>>12),y=g+(I^A&(b^I))+w[5]+3593408605&4294967295,g=b+(y<<5&4294967295|y>>>27),y=A+(b^I&(g^b))+w[10]+38016083&4294967295,A=g+(y<<9&4294967295|y>>>23),y=I+(g^b&(A^g))+w[15]+3634488961&4294967295,I=A+(y<<14&4294967295|y>>>18),y=b+(A^g&(I^A))+w[4]+3889429448&4294967295,b=I+(y<<20&4294967295|y>>>12),y=g+(I^A&(b^I))+w[9]+568446438&4294967295,g=b+(y<<5&4294967295|y>>>27),y=A+(b^I&(g^b))+w[14]+3275163606&4294967295,A=g+(y<<9&4294967295|y>>>23),y=I+(g^b&(A^g))+w[3]+4107603335&4294967295,I=A+(y<<14&4294967295|y>>>18),y=b+(A^g&(I^A))+w[8]+1163531501&4294967295,b=I+(y<<20&4294967295|y>>>12),y=g+(I^A&(b^I))+w[13]+2850285829&4294967295,g=b+(y<<5&4294967295|y>>>27),y=A+(b^I&(g^b))+w[2]+4243563512&4294967295,A=g+(y<<9&4294967295|y>>>23),y=I+(g^b&(A^g))+w[7]+1735328473&4294967295,I=A+(y<<14&4294967295|y>>>18),y=b+(A^g&(I^A))+w[12]+2368359562&4294967295,b=I+(y<<20&4294967295|y>>>12),y=g+(b^I^A)+w[5]+4294588738&4294967295,g=b+(y<<4&4294967295|y>>>28),y=A+(g^b^I)+w[8]+2272392833&4294967295,A=g+(y<<11&4294967295|y>>>21),y=I+(A^g^b)+w[11]+1839030562&4294967295,I=A+(y<<16&4294967295|y>>>16),y=b+(I^A^g)+w[14]+4259657740&4294967295,b=I+(y<<23&4294967295|y>>>9),y=g+(b^I^A)+w[1]+2763975236&4294967295,g=b+(y<<4&4294967295|y>>>28),y=A+(g^b^I)+w[4]+1272893353&4294967295,A=g+(y<<11&4294967295|y>>>21),y=I+(A^g^b)+w[7]+4139469664&4294967295,I=A+(y<<16&4294967295|y>>>16),y=b+(I^A^g)+w[10]+3200236656&4294967295,b=I+(y<<23&4294967295|y>>>9),y=g+(b^I^A)+w[13]+681279174&4294967295,g=b+(y<<4&4294967295|y>>>28),y=A+(g^b^I)+w[0]+3936430074&4294967295,A=g+(y<<11&4294967295|y>>>21),y=I+(A^g^b)+w[3]+3572445317&4294967295,I=A+(y<<16&4294967295|y>>>16),y=b+(I^A^g)+w[6]+76029189&4294967295,b=I+(y<<23&4294967295|y>>>9),y=g+(b^I^A)+w[9]+3654602809&4294967295,g=b+(y<<4&4294967295|y>>>28),y=A+(g^b^I)+w[12]+3873151461&4294967295,A=g+(y<<11&4294967295|y>>>21),y=I+(A^g^b)+w[15]+530742520&4294967295,I=A+(y<<16&4294967295|y>>>16),y=b+(I^A^g)+w[2]+3299628645&4294967295,b=I+(y<<23&4294967295|y>>>9),y=g+(I^(b|~A))+w[0]+4096336452&4294967295,g=b+(y<<6&4294967295|y>>>26),y=A+(b^(g|~I))+w[7]+1126891415&4294967295,A=g+(y<<10&4294967295|y>>>22),y=I+(g^(A|~b))+w[14]+2878612391&4294967295,I=A+(y<<15&4294967295|y>>>17),y=b+(A^(I|~g))+w[5]+4237533241&4294967295,b=I+(y<<21&4294967295|y>>>11),y=g+(I^(b|~A))+w[12]+1700485571&4294967295,g=b+(y<<6&4294967295|y>>>26),y=A+(b^(g|~I))+w[3]+2399980690&4294967295,A=g+(y<<10&4294967295|y>>>22),y=I+(g^(A|~b))+w[10]+4293915773&4294967295,I=A+(y<<15&4294967295|y>>>17),y=b+(A^(I|~g))+w[1]+2240044497&4294967295,b=I+(y<<21&4294967295|y>>>11),y=g+(I^(b|~A))+w[8]+1873313359&4294967295,g=b+(y<<6&4294967295|y>>>26),y=A+(b^(g|~I))+w[15]+4264355552&4294967295,A=g+(y<<10&4294967295|y>>>22),y=I+(g^(A|~b))+w[6]+2734768916&4294967295,I=A+(y<<15&4294967295|y>>>17),y=b+(A^(I|~g))+w[13]+1309151649&4294967295,b=I+(y<<21&4294967295|y>>>11),y=g+(I^(b|~A))+w[4]+4149444226&4294967295,g=b+(y<<6&4294967295|y>>>26),y=A+(b^(g|~I))+w[11]+3174756917&4294967295,A=g+(y<<10&4294967295|y>>>22),y=I+(g^(A|~b))+w[2]+718787259&4294967295,I=A+(y<<15&4294967295|y>>>17),y=b+(A^(I|~g))+w[9]+3951481745&4294967295,E.g[0]=E.g[0]+g&4294967295,E.g[1]=E.g[1]+(I+(y<<21&4294967295|y>>>11))&4294967295,E.g[2]=E.g[2]+I&4294967295,E.g[3]=E.g[3]+A&4294967295}i.prototype.u=function(E,g){g===void 0&&(g=E.length);for(var b=g-this.blockSize,w=this.B,I=this.h,A=0;A<g;){if(I==0)for(;A<=b;)r(this,E,A),A+=this.blockSize;if(typeof E=="string"){for(;A<g;)if(w[I++]=E.charCodeAt(A++),I==this.blockSize){r(this,w),I=0;break}}else for(;A<g;)if(w[I++]=E[A++],I==this.blockSize){r(this,w),I=0;break}}this.h=I,this.o+=g},i.prototype.v=function(){var E=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);E[0]=128;for(var g=1;g<E.length-8;++g)E[g]=0;var b=8*this.o;for(g=E.length-8;g<E.length;++g)E[g]=b&255,b/=256;for(this.u(E),E=Array(16),g=b=0;4>g;++g)for(var w=0;32>w;w+=8)E[b++]=this.g[g]>>>w&255;return E};function o(E,g){var b=c;return Object.prototype.hasOwnProperty.call(b,E)?b[E]:b[E]=g(E)}function a(E,g){this.h=g;for(var b=[],w=!0,I=E.length-1;0<=I;I--){var A=E[I]|0;w&&A==g||(b[I]=A,w=!1)}this.g=b}var c={};function u(E){return-128<=E&&128>E?o(E,function(g){return new a([g|0],0>g?-1:0)}):new a([E|0],0>E?-1:0)}function h(E){if(isNaN(E)||!isFinite(E))return p;if(0>E)return D(h(-E));for(var g=[],b=1,w=0;E>=b;w++)g[w]=E/b|0,b*=4294967296;return new a(g,0)}function f(E,g){if(E.length==0)throw Error("number format error: empty string");if(g=g||10,2>g||36<g)throw Error("radix out of range: "+g);if(E.charAt(0)=="-")return D(f(E.substring(1),g));if(0<=E.indexOf("-"))throw Error('number format error: interior "-" character');for(var b=h(Math.pow(g,8)),w=p,I=0;I<E.length;I+=8){var A=Math.min(8,E.length-I),y=parseInt(E.substring(I,I+A),g);8>A?(A=h(Math.pow(g,A)),w=w.j(A).add(h(y))):(w=w.j(b),w=w.add(h(y)))}return w}var p=u(0),v=u(1),C=u(16777216);n=a.prototype,n.m=function(){if(O(this))return-D(this).m();for(var E=0,g=1,b=0;b<this.g.length;b++){var w=this.i(b);E+=(0<=w?w:4294967296+w)*g,g*=4294967296}return E},n.toString=function(E){if(E=E||10,2>E||36<E)throw Error("radix out of range: "+E);if(k(this))return"0";if(O(this))return"-"+D(this).toString(E);for(var g=h(Math.pow(E,6)),b=this,w="";;){var I=ne(b,g).g;b=j(b,I.j(g));var A=((0<b.g.length?b.g[0]:b.h)>>>0).toString(E);if(b=I,k(b))return A+w;for(;6>A.length;)A="0"+A;w=A+w}},n.i=function(E){return 0>E?0:E<this.g.length?this.g[E]:this.h};function k(E){if(E.h!=0)return!1;for(var g=0;g<E.g.length;g++)if(E.g[g]!=0)return!1;return!0}function O(E){return E.h==-1}n.l=function(E){return E=j(this,E),O(E)?-1:k(E)?0:1};function D(E){for(var g=E.g.length,b=[],w=0;w<g;w++)b[w]=~E.g[w];return new a(b,~E.h).add(v)}n.abs=function(){return O(this)?D(this):this},n.add=function(E){for(var g=Math.max(this.g.length,E.g.length),b=[],w=0,I=0;I<=g;I++){var A=w+(this.i(I)&65535)+(E.i(I)&65535),y=(A>>>16)+(this.i(I)>>>16)+(E.i(I)>>>16);w=y>>>16,A&=65535,y&=65535,b[I]=y<<16|A}return new a(b,b[b.length-1]&-2147483648?-1:0)};function j(E,g){return E.add(D(g))}n.j=function(E){if(k(this)||k(E))return p;if(O(this))return O(E)?D(this).j(D(E)):D(D(this).j(E));if(O(E))return D(this.j(D(E)));if(0>this.l(C)&&0>E.l(C))return h(this.m()*E.m());for(var g=this.g.length+E.g.length,b=[],w=0;w<2*g;w++)b[w]=0;for(w=0;w<this.g.length;w++)for(var I=0;I<E.g.length;I++){var A=this.i(w)>>>16,y=this.i(w)&65535,zt=E.i(I)>>>16,_r=E.i(I)&65535;b[2*w+2*I]+=y*_r,B(b,2*w+2*I),b[2*w+2*I+1]+=A*_r,B(b,2*w+2*I+1),b[2*w+2*I+1]+=y*zt,B(b,2*w+2*I+1),b[2*w+2*I+2]+=A*zt,B(b,2*w+2*I+2)}for(w=0;w<g;w++)b[w]=b[2*w+1]<<16|b[2*w];for(w=g;w<2*g;w++)b[w]=0;return new a(b,0)};function B(E,g){for(;(E[g]&65535)!=E[g];)E[g+1]+=E[g]>>>16,E[g]&=65535,g++}function q(E,g){this.g=E,this.h=g}function ne(E,g){if(k(g))throw Error("division by zero");if(k(E))return new q(p,p);if(O(E))return g=ne(D(E),g),new q(D(g.g),D(g.h));if(O(g))return g=ne(E,D(g)),new q(D(g.g),g.h);if(30<E.g.length){if(O(E)||O(g))throw Error("slowDivide_ only works with positive integers.");for(var b=v,w=g;0>=w.l(E);)b=He(b),w=He(w);var I=te(b,1),A=te(w,1);for(w=te(w,2),b=te(b,2);!k(w);){var y=A.add(w);0>=y.l(E)&&(I=I.add(b),A=y),w=te(w,1),b=te(b,1)}return g=j(E,I.j(g)),new q(I,g)}for(I=p;0<=E.l(g);){for(b=Math.max(1,Math.floor(E.m()/g.m())),w=Math.ceil(Math.log(b)/Math.LN2),w=48>=w?1:Math.pow(2,w-48),A=h(b),y=A.j(g);O(y)||0<y.l(E);)b-=w,A=h(b),y=A.j(g);k(A)&&(A=v),I=I.add(A),E=j(E,y)}return new q(I,E)}n.A=function(E){return ne(this,E).h},n.and=function(E){for(var g=Math.max(this.g.length,E.g.length),b=[],w=0;w<g;w++)b[w]=this.i(w)&E.i(w);return new a(b,this.h&E.h)},n.or=function(E){for(var g=Math.max(this.g.length,E.g.length),b=[],w=0;w<g;w++)b[w]=this.i(w)|E.i(w);return new a(b,this.h|E.h)},n.xor=function(E){for(var g=Math.max(this.g.length,E.g.length),b=[],w=0;w<g;w++)b[w]=this.i(w)^E.i(w);return new a(b,this.h^E.h)};function He(E){for(var g=E.g.length+1,b=[],w=0;w<g;w++)b[w]=E.i(w)<<1|E.i(w-1)>>>31;return new a(b,E.h)}function te(E,g){var b=g>>5;g%=32;for(var w=E.g.length-b,I=[],A=0;A<w;A++)I[A]=0<g?E.i(A+b)>>>g|E.i(A+b+1)<<32-g:E.i(A+b);return new a(I,E.h)}i.prototype.digest=i.prototype.v,i.prototype.reset=i.prototype.s,i.prototype.update=i.prototype.u,ku=Wg.Md5=i,a.prototype.add=a.prototype.add,a.prototype.multiply=a.prototype.j,a.prototype.modulo=a.prototype.A,a.prototype.compare=a.prototype.l,a.prototype.toNumber=a.prototype.m,a.prototype.toString=a.prototype.toString,a.prototype.getBits=a.prototype.i,a.fromNumber=h,a.fromString=f,Zt=Wg.Integer=a}).apply(typeof $g<"u"?$g:typeof self<"u"?self:typeof window<"u"?window:{});var oa=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{},en={};var Pu,mA,ji,Du,po,sa,Ou,Nu,Mu;(function(){var n,e=typeof Object.defineProperties=="function"?Object.defineProperty:function(s,l,d){return s==Array.prototype||s==Object.prototype||(s[l]=d.value),s};function t(s){s=[typeof globalThis=="object"&&globalThis,s,typeof window=="object"&&window,typeof self=="object"&&self,typeof oa=="object"&&oa];for(var l=0;l<s.length;++l){var d=s[l];if(d&&d.Math==Math)return d}throw Error("Cannot find global object")}var i=t(this);function r(s,l){if(l)e:{var d=i;s=s.split(".");for(var m=0;m<s.length-1;m++){var T=s[m];if(!(T in d))break e;d=d[T]}s=s[s.length-1],m=d[s],l=l(m),l!=m&&l!=null&&e(d,s,{configurable:!0,writable:!0,value:l})}}function o(s,l){s instanceof String&&(s+="");var d=0,m=!1,T={next:function(){if(!m&&d<s.length){var x=d++;return{value:l(x,s[x]),done:!1}}return m=!0,{done:!0,value:void 0}}};return T[Symbol.iterator]=function(){return T},T}r("Array.prototype.values",function(s){return s||function(){return o(this,function(l,d){return d})}});var a=a||{},c=this||self;function u(s){var l=typeof s;return l=l!="object"?l:s?Array.isArray(s)?"array":l:"null",l=="array"||l=="object"&&typeof s.length=="number"}function h(s){var l=typeof s;return l=="object"&&s!=null||l=="function"}function f(s,l,d){return s.call.apply(s.bind,arguments)}function p(s,l,d){if(!s)throw Error();if(2<arguments.length){var m=Array.prototype.slice.call(arguments,2);return function(){var T=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(T,m),s.apply(l,T)}}return function(){return s.apply(l,arguments)}}function v(s,l,d){return v=Function.prototype.bind&&Function.prototype.bind.toString().indexOf("native code")!=-1?f:p,v.apply(null,arguments)}function C(s,l){var d=Array.prototype.slice.call(arguments,1);return function(){var m=d.slice();return m.push.apply(m,arguments),s.apply(this,m)}}function k(s,l){function d(){}d.prototype=l.prototype,s.aa=l.prototype,s.prototype=new d,s.prototype.constructor=s,s.Qb=function(m,T,x){for(var N=Array(arguments.length-2),ie=2;ie<arguments.length;ie++)N[ie-2]=arguments[ie];return l.prototype[T].apply(m,N)}}function O(s){let l=s.length;if(0<l){let d=Array(l);for(let m=0;m<l;m++)d[m]=s[m];return d}return[]}function D(s,l){for(let d=1;d<arguments.length;d++){let m=arguments[d];if(u(m)){let T=s.length||0,x=m.length||0;s.length=T+x;for(let N=0;N<x;N++)s[T+N]=m[N]}else s.push(m)}}class j{constructor(l,d){this.i=l,this.j=d,this.h=0,this.g=null}get(){let l;return 0<this.h?(this.h--,l=this.g,this.g=l.next,l.next=null):l=this.i(),l}}function B(s){return/^[\s\xa0]*$/.test(s)}function q(){var s=c.navigator;return s&&(s=s.userAgent)?s:""}function ne(s){return ne[" "](s),s}ne[" "]=function(){};var He=q().indexOf("Gecko")!=-1&&!(q().toLowerCase().indexOf("webkit")!=-1&&q().indexOf("Edge")==-1)&&!(q().indexOf("Trident")!=-1||q().indexOf("MSIE")!=-1)&&q().indexOf("Edge")==-1;function te(s,l,d){for(let m in s)l.call(d,s[m],m,s)}function E(s,l){for(let d in s)l.call(void 0,s[d],d,s)}function g(s){let l={};for(let d in s)l[d]=s[d];return l}let b="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function w(s,l){let d,m;for(let T=1;T<arguments.length;T++){m=arguments[T];for(d in m)s[d]=m[d];for(let x=0;x<b.length;x++)d=b[x],Object.prototype.hasOwnProperty.call(m,d)&&(s[d]=m[d])}}function I(s){var l=1;s=s.split(":");let d=[];for(;0<l&&s.length;)d.push(s.shift()),l--;return s.length&&d.push(s.join(":")),d}function A(s){c.setTimeout(()=>{throw s},0)}function y(){var s=Dc;let l=null;return s.g&&(l=s.g,s.g=s.g.next,s.g||(s.h=null),l.next=null),l}class zt{constructor(){this.h=this.g=null}add(l,d){let m=_r.get();m.set(l,d),this.h?this.h.next=m:this.g=m,this.h=m}}var _r=new j(()=>new iw,s=>s.reset());class iw{constructor(){this.next=this.g=this.h=null}set(l,d){this.h=l,this.g=d,this.next=null}reset(){this.next=this.g=this.h=null}}let vr,yr=!1,Dc=new zt,If=()=>{let s=c.Promise.resolve(void 0);vr=()=>{s.then(rw)}};var rw=()=>{for(var s;s=y();){try{s.h.call(s.g)}catch(d){A(d)}var l=_r;l.j(s),100>l.h&&(l.h++,s.next=l.g,l.g=s)}yr=!1};function ln(){this.s=this.s,this.C=this.C}ln.prototype.s=!1,ln.prototype.ma=function(){this.s||(this.s=!0,this.N())},ln.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function Le(s,l){this.type=s,this.g=this.target=l,this.defaultPrevented=!1}Le.prototype.h=function(){this.defaultPrevented=!0};var ow=(function(){if(!c.addEventListener||!Object.defineProperty)return!1;var s=!1,l=Object.defineProperty({},"passive",{get:function(){s=!0}});try{let d=()=>{};c.addEventListener("test",d,l),c.removeEventListener("test",d,l)}catch{}return s})();function br(s,l){if(Le.call(this,s?s.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,s){var d=this.type=s.type,m=s.changedTouches&&s.changedTouches.length?s.changedTouches[0]:null;if(this.target=s.target||s.srcElement,this.g=l,l=s.relatedTarget){if(He){e:{try{ne(l.nodeName);var T=!0;break e}catch{}T=!1}T||(l=null)}}else d=="mouseover"?l=s.fromElement:d=="mouseout"&&(l=s.toElement);this.relatedTarget=l,m?(this.clientX=m.clientX!==void 0?m.clientX:m.pageX,this.clientY=m.clientY!==void 0?m.clientY:m.pageY,this.screenX=m.screenX||0,this.screenY=m.screenY||0):(this.clientX=s.clientX!==void 0?s.clientX:s.pageX,this.clientY=s.clientY!==void 0?s.clientY:s.pageY,this.screenX=s.screenX||0,this.screenY=s.screenY||0),this.button=s.button,this.key=s.key||"",this.ctrlKey=s.ctrlKey,this.altKey=s.altKey,this.shiftKey=s.shiftKey,this.metaKey=s.metaKey,this.pointerId=s.pointerId||0,this.pointerType=typeof s.pointerType=="string"?s.pointerType:sw[s.pointerType]||"",this.state=s.state,this.i=s,s.defaultPrevented&&br.aa.h.call(this)}}k(br,Le);var sw={2:"touch",3:"pen",4:"mouse"};br.prototype.h=function(){br.aa.h.call(this);var s=this.i;s.preventDefault?s.preventDefault():s.returnValue=!1};var wr="closure_listenable_"+(1e6*Math.random()|0),aw=0;function cw(s,l,d,m,T){this.listener=s,this.proxy=null,this.src=l,this.type=d,this.capture=!!m,this.ha=T,this.key=++aw,this.da=this.fa=!1}function Qo(s){s.da=!0,s.listener=null,s.proxy=null,s.src=null,s.ha=null}function Xo(s){this.src=s,this.g={},this.h=0}Xo.prototype.add=function(s,l,d,m,T){var x=s.toString();s=this.g[x],s||(s=this.g[x]=[],this.h++);var N=Nc(s,l,m,T);return-1<N?(l=s[N],d||(l.fa=!1)):(l=new cw(l,this.src,x,!!m,T),l.fa=d,s.push(l)),l};function Oc(s,l){var d=l.type;if(d in s.g){var m=s.g[d],T=Array.prototype.indexOf.call(m,l,void 0),x;(x=0<=T)&&Array.prototype.splice.call(m,T,1),x&&(Qo(l),s.g[d].length==0&&(delete s.g[d],s.h--))}}function Nc(s,l,d,m){for(var T=0;T<s.length;++T){var x=s[T];if(!x.da&&x.listener==l&&x.capture==!!d&&x.ha==m)return T}return-1}var Mc="closure_lm_"+(1e6*Math.random()|0),Fc={};function Tf(s,l,d,m,T){if(m&&m.once)return Sf(s,l,d,m,T);if(Array.isArray(l)){for(var x=0;x<l.length;x++)Tf(s,l[x],d,m,T);return null}return d=Bc(d),s&&s[wr]?s.K(l,d,h(m)?!!m.capture:!!m,T):Af(s,l,d,!1,m,T)}function Af(s,l,d,m,T,x){if(!l)throw Error("Invalid event type");var N=h(T)?!!T.capture:!!T,ie=Vc(s);if(ie||(s[Mc]=ie=new Xo(s)),d=ie.add(l,d,m,N,x),d.proxy)return d;if(m=lw(),d.proxy=m,m.src=s,m.listener=d,s.addEventListener)ow||(T=N),T===void 0&&(T=!1),s.addEventListener(l.toString(),m,T);else if(s.attachEvent)s.attachEvent(xf(l.toString()),m);else if(s.addListener&&s.removeListener)s.addListener(m);else throw Error("addEventListener and attachEvent are unavailable.");return d}function lw(){function s(d){return l.call(s.src,s.listener,d)}let l=uw;return s}function Sf(s,l,d,m,T){if(Array.isArray(l)){for(var x=0;x<l.length;x++)Sf(s,l[x],d,m,T);return null}return d=Bc(d),s&&s[wr]?s.L(l,d,h(m)?!!m.capture:!!m,T):Af(s,l,d,!0,m,T)}function Cf(s,l,d,m,T){if(Array.isArray(l))for(var x=0;x<l.length;x++)Cf(s,l[x],d,m,T);else m=h(m)?!!m.capture:!!m,d=Bc(d),s&&s[wr]?(s=s.i,l=String(l).toString(),l in s.g&&(x=s.g[l],d=Nc(x,d,m,T),-1<d&&(Qo(x[d]),Array.prototype.splice.call(x,d,1),x.length==0&&(delete s.g[l],s.h--)))):s&&(s=Vc(s))&&(l=s.g[l.toString()],s=-1,l&&(s=Nc(l,d,m,T)),(d=-1<s?l[s]:null)&&Lc(d))}function Lc(s){if(typeof s!="number"&&s&&!s.da){var l=s.src;if(l&&l[wr])Oc(l.i,s);else{var d=s.type,m=s.proxy;l.removeEventListener?l.removeEventListener(d,m,s.capture):l.detachEvent?l.detachEvent(xf(d),m):l.addListener&&l.removeListener&&l.removeListener(m),(d=Vc(l))?(Oc(d,s),d.h==0&&(d.src=null,l[Mc]=null)):Qo(s)}}}function xf(s){return s in Fc?Fc[s]:Fc[s]="on"+s}function uw(s,l){if(s.da)s=!0;else{l=new br(l,this);var d=s.listener,m=s.ha||s.src;s.fa&&Lc(s),s=d.call(m,l)}return s}function Vc(s){return s=s[Mc],s instanceof Xo?s:null}var Uc="__closure_events_fn_"+(1e9*Math.random()>>>0);function Bc(s){return typeof s=="function"?s:(s[Uc]||(s[Uc]=function(l){return s.handleEvent(l)}),s[Uc])}function Ve(){ln.call(this),this.i=new Xo(this),this.M=this,this.F=null}k(Ve,ln),Ve.prototype[wr]=!0,Ve.prototype.removeEventListener=function(s,l,d,m){Cf(this,s,l,d,m)};function Ge(s,l){var d,m=s.F;if(m)for(d=[];m;m=m.F)d.push(m);if(s=s.M,m=l.type||l,typeof l=="string")l=new Le(l,s);else if(l instanceof Le)l.target=l.target||s;else{var T=l;l=new Le(m,s),w(l,T)}if(T=!0,d)for(var x=d.length-1;0<=x;x--){var N=l.g=d[x];T=Jo(N,m,!0,l)&&T}if(N=l.g=s,T=Jo(N,m,!0,l)&&T,T=Jo(N,m,!1,l)&&T,d)for(x=0;x<d.length;x++)N=l.g=d[x],T=Jo(N,m,!1,l)&&T}Ve.prototype.N=function(){if(Ve.aa.N.call(this),this.i){var s=this.i,l;for(l in s.g){for(var d=s.g[l],m=0;m<d.length;m++)Qo(d[m]);delete s.g[l],s.h--}}this.F=null},Ve.prototype.K=function(s,l,d,m){return this.i.add(String(s),l,!1,d,m)},Ve.prototype.L=function(s,l,d,m){return this.i.add(String(s),l,!0,d,m)};function Jo(s,l,d,m){if(l=s.i.g[String(l)],!l)return!0;l=l.concat();for(var T=!0,x=0;x<l.length;++x){var N=l[x];if(N&&!N.da&&N.capture==d){var ie=N.listener,Ne=N.ha||N.src;N.fa&&Oc(s.i,N),T=ie.call(Ne,m)!==!1&&T}}return T&&!m.defaultPrevented}function Rf(s,l,d){if(typeof s=="function")d&&(s=v(s,d));else if(s&&typeof s.handleEvent=="function")s=v(s.handleEvent,s);else throw Error("Invalid listener argument");return 2147483647<Number(l)?-1:c.setTimeout(s,l||0)}function kf(s){s.g=Rf(()=>{s.g=null,s.i&&(s.i=!1,kf(s))},s.l);let l=s.h;s.h=null,s.m.apply(null,l)}class dw extends ln{constructor(l,d){super(),this.m=l,this.l=d,this.h=null,this.i=!1,this.g=null}j(l){this.h=arguments,this.g?this.i=!0:kf(this)}N(){super.N(),this.g&&(c.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function Er(s){ln.call(this),this.h=s,this.g={}}k(Er,ln);var Pf=[];function Df(s){te(s.g,function(l,d){this.g.hasOwnProperty(d)&&Lc(l)},s),s.g={}}Er.prototype.N=function(){Er.aa.N.call(this),Df(this)},Er.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var zc=c.JSON.stringify,hw=c.JSON.parse,fw=class{stringify(s){return c.JSON.stringify(s,void 0)}parse(s){return c.JSON.parse(s,void 0)}};function jc(){}jc.prototype.h=null;function Of(s){return s.h||(s.h=s.i())}function Nf(){}var Ir={OPEN:"a",kb:"b",Ja:"c",wb:"d"};function qc(){Le.call(this,"d")}k(qc,Le);function $c(){Le.call(this,"c")}k($c,Le);var qn={},Mf=null;function Zo(){return Mf=Mf||new Ve}qn.La="serverreachability";function Ff(s){Le.call(this,qn.La,s)}k(Ff,Le);function Tr(s){let l=Zo();Ge(l,new Ff(l))}qn.STAT_EVENT="statevent";function Lf(s,l){Le.call(this,qn.STAT_EVENT,s),this.stat=l}k(Lf,Le);function Ke(s){let l=Zo();Ge(l,new Lf(l,s))}qn.Ma="timingevent";function Vf(s,l){Le.call(this,qn.Ma,s),this.size=l}k(Vf,Le);function Ar(s,l){if(typeof s!="function")throw Error("Fn must not be null and must be a function");return c.setTimeout(function(){s()},l)}function Sr(){this.g=!0}Sr.prototype.xa=function(){this.g=!1};function mw(s,l,d,m,T,x){s.info(function(){if(s.g)if(x)for(var N="",ie=x.split("&"),Ne=0;Ne<ie.length;Ne++){var J=ie[Ne].split("=");if(1<J.length){var Ue=J[0];J=J[1];var Be=Ue.split("_");N=2<=Be.length&&Be[1]=="type"?N+(Ue+"="+J+"&"):N+(Ue+"=redacted&")}}else N=null;else N=x;return"XMLHTTP REQ ("+m+") [attempt "+T+"]: "+l+`
`+d+`
`+N})}function pw(s,l,d,m,T,x,N){s.info(function(){return"XMLHTTP RESP ("+m+") [ attempt "+T+"]: "+l+`
`+d+`
`+x+" "+N})}function bi(s,l,d,m){s.info(function(){return"XMLHTTP TEXT ("+l+"): "+_w(s,d)+(m?" "+m:"")})}function gw(s,l){s.info(function(){return"TIMEOUT: "+l})}Sr.prototype.info=function(){};function _w(s,l){if(!s.g)return l;if(!l)return null;try{var d=JSON.parse(l);if(d){for(s=0;s<d.length;s++)if(Array.isArray(d[s])){var m=d[s];if(!(2>m.length)){var T=m[1];if(Array.isArray(T)&&!(1>T.length)){var x=T[0];if(x!="noop"&&x!="stop"&&x!="close")for(var N=1;N<T.length;N++)T[N]=""}}}}return zc(d)}catch{return l}}var es={NO_ERROR:0,gb:1,tb:2,sb:3,nb:4,rb:5,ub:6,Ia:7,TIMEOUT:8,xb:9},Uf={lb:"complete",Hb:"success",Ja:"error",Ia:"abort",zb:"ready",Ab:"readystatechange",TIMEOUT:"timeout",vb:"incrementaldata",yb:"progress",ob:"downloadprogress",Pb:"uploadprogress"},Wc;function ts(){}k(ts,jc),ts.prototype.g=function(){return new XMLHttpRequest},ts.prototype.i=function(){return{}},Wc=new ts;function un(s,l,d,m){this.j=s,this.i=l,this.l=d,this.R=m||1,this.U=new Er(this),this.I=45e3,this.H=null,this.o=!1,this.m=this.A=this.v=this.L=this.F=this.S=this.B=null,this.D=[],this.g=null,this.C=0,this.s=this.u=null,this.X=-1,this.J=!1,this.O=0,this.M=null,this.W=this.K=this.T=this.P=!1,this.h=new Bf}function Bf(){this.i=null,this.g="",this.h=!1}var zf={},Hc={};function Gc(s,l,d){s.L=1,s.v=os(jt(l)),s.m=d,s.P=!0,jf(s,null)}function jf(s,l){s.F=Date.now(),ns(s),s.A=jt(s.v);var d=s.A,m=s.R;Array.isArray(m)||(m=[String(m)]),nm(d.i,"t",m),s.C=0,d=s.j.J,s.h=new Bf,s.g=bm(s.j,d?l:null,!s.m),0<s.O&&(s.M=new dw(v(s.Y,s,s.g),s.O)),l=s.U,d=s.g,m=s.ca;var T="readystatechange";Array.isArray(T)||(T&&(Pf[0]=T.toString()),T=Pf);for(var x=0;x<T.length;x++){var N=Tf(d,T[x],m||l.handleEvent,!1,l.h||l);if(!N)break;l.g[N.key]=N}l=s.H?g(s.H):{},s.m?(s.u||(s.u="POST"),l["Content-Type"]="application/x-www-form-urlencoded",s.g.ea(s.A,s.u,s.m,l)):(s.u="GET",s.g.ea(s.A,s.u,null,l)),Tr(),mw(s.i,s.u,s.A,s.l,s.R,s.m)}un.prototype.ca=function(s){s=s.target;let l=this.M;l&&qt(s)==3?l.j():this.Y(s)},un.prototype.Y=function(s){try{if(s==this.g)e:{let Be=qt(this.g);var l=this.g.Ba();let Ii=this.g.Z();if(!(3>Be)&&(Be!=3||this.g&&(this.h.h||this.g.oa()||lm(this.g)))){this.J||Be!=4||l==7||(l==8||0>=Ii?Tr(3):Tr(2)),Kc(this);var d=this.g.Z();this.X=d;t:if(qf(this)){var m=lm(this.g);s="";var T=m.length,x=qt(this.g)==4;if(!this.h.i){if(typeof TextDecoder>"u"){$n(this),Cr(this);var N="";break t}this.h.i=new c.TextDecoder}for(l=0;l<T;l++)this.h.h=!0,s+=this.h.i.decode(m[l],{stream:!(x&&l==T-1)});m.length=0,this.h.g+=s,this.C=0,N=this.h.g}else N=this.g.oa();if(this.o=d==200,pw(this.i,this.u,this.A,this.l,this.R,Be,d),this.o){if(this.T&&!this.K){t:{if(this.g){var ie,Ne=this.g;if((ie=Ne.g?Ne.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!B(ie)){var J=ie;break t}}J=null}if(d=J)bi(this.i,this.l,d,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,Yc(this,d);else{this.o=!1,this.s=3,Ke(12),$n(this),Cr(this);break e}}if(this.P){d=!0;let gt;for(;!this.J&&this.C<N.length;)if(gt=vw(this,N),gt==Hc){Be==4&&(this.s=4,Ke(14),d=!1),bi(this.i,this.l,null,"[Incomplete Response]");break}else if(gt==zf){this.s=4,Ke(15),bi(this.i,this.l,N,"[Invalid Chunk]"),d=!1;break}else bi(this.i,this.l,gt,null),Yc(this,gt);if(qf(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),Be!=4||N.length!=0||this.h.h||(this.s=1,Ke(16),d=!1),this.o=this.o&&d,!d)bi(this.i,this.l,N,"[Invalid Chunked Response]"),$n(this),Cr(this);else if(0<N.length&&!this.W){this.W=!0;var Ue=this.j;Ue.g==this&&Ue.ba&&!Ue.M&&(Ue.j.info("Great, no buffering proxy detected. Bytes received: "+N.length),tl(Ue),Ue.M=!0,Ke(11))}}else bi(this.i,this.l,N,null),Yc(this,N);Be==4&&$n(this),this.o&&!this.J&&(Be==4?gm(this.j,this):(this.o=!1,ns(this)))}else Mw(this.g),d==400&&0<N.indexOf("Unknown SID")?(this.s=3,Ke(12)):(this.s=0,Ke(13)),$n(this),Cr(this)}}}catch{}finally{}};function qf(s){return s.g?s.u=="GET"&&s.L!=2&&s.j.Ca:!1}function vw(s,l){var d=s.C,m=l.indexOf(`
`,d);return m==-1?Hc:(d=Number(l.substring(d,m)),isNaN(d)?zf:(m+=1,m+d>l.length?Hc:(l=l.slice(m,m+d),s.C=m+d,l)))}un.prototype.cancel=function(){this.J=!0,$n(this)};function ns(s){s.S=Date.now()+s.I,$f(s,s.I)}function $f(s,l){if(s.B!=null)throw Error("WatchDog timer not null");s.B=Ar(v(s.ba,s),l)}function Kc(s){s.B&&(c.clearTimeout(s.B),s.B=null)}un.prototype.ba=function(){this.B=null;let s=Date.now();0<=s-this.S?(gw(this.i,this.A),this.L!=2&&(Tr(),Ke(17)),$n(this),this.s=2,Cr(this)):$f(this,this.S-s)};function Cr(s){s.j.G==0||s.J||gm(s.j,s)}function $n(s){Kc(s);var l=s.M;l&&typeof l.ma=="function"&&l.ma(),s.M=null,Df(s.U),s.g&&(l=s.g,s.g=null,l.abort(),l.ma())}function Yc(s,l){try{var d=s.j;if(d.G!=0&&(d.g==s||Qc(d.h,s))){if(!s.K&&Qc(d.h,s)&&d.G==3){try{var m=d.Da.g.parse(l)}catch{m=null}if(Array.isArray(m)&&m.length==3){var T=m;if(T[0]==0){e:if(!d.u){if(d.g)if(d.g.F+3e3<s.F)us(d),cs(d);else break e;el(d),Ke(18)}}else d.za=T[1],0<d.za-d.T&&37500>T[2]&&d.F&&d.v==0&&!d.C&&(d.C=Ar(v(d.Za,d),6e3));if(1>=Gf(d.h)&&d.ca){try{d.ca()}catch{}d.ca=void 0}}else Hn(d,11)}else if((s.K||d.g==s)&&us(d),!B(l))for(T=d.Da.g.parse(l),l=0;l<T.length;l++){let J=T[l];if(d.T=J[0],J=J[1],d.G==2)if(J[0]=="c"){d.K=J[1],d.ia=J[2];let Ue=J[3];Ue!=null&&(d.la=Ue,d.j.info("VER="+d.la));let Be=J[4];Be!=null&&(d.Aa=Be,d.j.info("SVER="+d.Aa));let Ii=J[5];Ii!=null&&typeof Ii=="number"&&0<Ii&&(m=1.5*Ii,d.L=m,d.j.info("backChannelRequestTimeoutMs_="+m)),m=d;let gt=s.g;if(gt){let hs=gt.g?gt.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(hs){var x=m.h;x.g||hs.indexOf("spdy")==-1&&hs.indexOf("quic")==-1&&hs.indexOf("h2")==-1||(x.j=x.l,x.g=new Set,x.h&&(Xc(x,x.h),x.h=null))}if(m.D){let nl=gt.g?gt.g.getResponseHeader("X-HTTP-Session-Id"):null;nl&&(m.ya=nl,oe(m.I,m.D,nl))}}d.G=3,d.l&&d.l.ua(),d.ba&&(d.R=Date.now()-s.F,d.j.info("Handshake RTT: "+d.R+"ms")),m=d;var N=s;if(m.qa=ym(m,m.J?m.ia:null,m.W),N.K){Kf(m.h,N);var ie=N,Ne=m.L;Ne&&(ie.I=Ne),ie.B&&(Kc(ie),ns(ie)),m.g=N}else mm(m);0<d.i.length&&ls(d)}else J[0]!="stop"&&J[0]!="close"||Hn(d,7);else d.G==3&&(J[0]=="stop"||J[0]=="close"?J[0]=="stop"?Hn(d,7):Zc(d):J[0]!="noop"&&d.l&&d.l.ta(J),d.v=0)}}Tr(4)}catch{}}var yw=class{constructor(s,l){this.g=s,this.map=l}};function Wf(s){this.l=s||10,c.PerformanceNavigationTiming?(s=c.performance.getEntriesByType("navigation"),s=0<s.length&&(s[0].nextHopProtocol=="hq"||s[0].nextHopProtocol=="h2")):s=!!(c.chrome&&c.chrome.loadTimes&&c.chrome.loadTimes()&&c.chrome.loadTimes().wasFetchedViaSpdy),this.j=s?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}function Hf(s){return s.h?!0:s.g?s.g.size>=s.j:!1}function Gf(s){return s.h?1:s.g?s.g.size:0}function Qc(s,l){return s.h?s.h==l:s.g?s.g.has(l):!1}function Xc(s,l){s.g?s.g.add(l):s.h=l}function Kf(s,l){s.h&&s.h==l?s.h=null:s.g&&s.g.has(l)&&s.g.delete(l)}Wf.prototype.cancel=function(){if(this.i=Yf(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(let s of this.g.values())s.cancel();this.g.clear()}};function Yf(s){if(s.h!=null)return s.i.concat(s.h.D);if(s.g!=null&&s.g.size!==0){let l=s.i;for(let d of s.g.values())l=l.concat(d.D);return l}return O(s.i)}function bw(s){if(s.V&&typeof s.V=="function")return s.V();if(typeof Map<"u"&&s instanceof Map||typeof Set<"u"&&s instanceof Set)return Array.from(s.values());if(typeof s=="string")return s.split("");if(u(s)){for(var l=[],d=s.length,m=0;m<d;m++)l.push(s[m]);return l}l=[],d=0;for(m in s)l[d++]=s[m];return l}function ww(s){if(s.na&&typeof s.na=="function")return s.na();if(!s.V||typeof s.V!="function"){if(typeof Map<"u"&&s instanceof Map)return Array.from(s.keys());if(!(typeof Set<"u"&&s instanceof Set)){if(u(s)||typeof s=="string"){var l=[];s=s.length;for(var d=0;d<s;d++)l.push(d);return l}l=[],d=0;for(let m in s)l[d++]=m;return l}}}function Qf(s,l){if(s.forEach&&typeof s.forEach=="function")s.forEach(l,void 0);else if(u(s)||typeof s=="string")Array.prototype.forEach.call(s,l,void 0);else for(var d=ww(s),m=bw(s),T=m.length,x=0;x<T;x++)l.call(void 0,m[x],d&&d[x],s)}var Xf=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function Ew(s,l){if(s){s=s.split("&");for(var d=0;d<s.length;d++){var m=s[d].indexOf("="),T=null;if(0<=m){var x=s[d].substring(0,m);T=s[d].substring(m+1)}else x=s[d];l(x,T?decodeURIComponent(T.replace(/\+/g," ")):"")}}}function Wn(s){if(this.g=this.o=this.j="",this.s=null,this.m=this.l="",this.h=!1,s instanceof Wn){this.h=s.h,is(this,s.j),this.o=s.o,this.g=s.g,rs(this,s.s),this.l=s.l;var l=s.i,d=new kr;d.i=l.i,l.g&&(d.g=new Map(l.g),d.h=l.h),Jf(this,d),this.m=s.m}else s&&(l=String(s).match(Xf))?(this.h=!1,is(this,l[1]||"",!0),this.o=xr(l[2]||""),this.g=xr(l[3]||"",!0),rs(this,l[4]),this.l=xr(l[5]||"",!0),Jf(this,l[6]||"",!0),this.m=xr(l[7]||"")):(this.h=!1,this.i=new kr(null,this.h))}Wn.prototype.toString=function(){var s=[],l=this.j;l&&s.push(Rr(l,Zf,!0),":");var d=this.g;return(d||l=="file")&&(s.push("//"),(l=this.o)&&s.push(Rr(l,Zf,!0),"@"),s.push(encodeURIComponent(String(d)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),d=this.s,d!=null&&s.push(":",String(d))),(d=this.l)&&(this.g&&d.charAt(0)!="/"&&s.push("/"),s.push(Rr(d,d.charAt(0)=="/"?Aw:Tw,!0))),(d=this.i.toString())&&s.push("?",d),(d=this.m)&&s.push("#",Rr(d,Cw)),s.join("")};function jt(s){return new Wn(s)}function is(s,l,d){s.j=d?xr(l,!0):l,s.j&&(s.j=s.j.replace(/:$/,""))}function rs(s,l){if(l){if(l=Number(l),isNaN(l)||0>l)throw Error("Bad port number "+l);s.s=l}else s.s=null}function Jf(s,l,d){l instanceof kr?(s.i=l,xw(s.i,s.h)):(d||(l=Rr(l,Sw)),s.i=new kr(l,s.h))}function oe(s,l,d){s.i.set(l,d)}function os(s){return oe(s,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),s}function xr(s,l){return s?l?decodeURI(s.replace(/%25/g,"%2525")):decodeURIComponent(s):""}function Rr(s,l,d){return typeof s=="string"?(s=encodeURI(s).replace(l,Iw),d&&(s=s.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),s):null}function Iw(s){return s=s.charCodeAt(0),"%"+(s>>4&15).toString(16)+(s&15).toString(16)}var Zf=/[#\/\?@]/g,Tw=/[#\?:]/g,Aw=/[#\?]/g,Sw=/[#\?@]/g,Cw=/#/g;function kr(s,l){this.h=this.g=null,this.i=s||null,this.j=!!l}function dn(s){s.g||(s.g=new Map,s.h=0,s.i&&Ew(s.i,function(l,d){s.add(decodeURIComponent(l.replace(/\+/g," ")),d)}))}n=kr.prototype,n.add=function(s,l){dn(this),this.i=null,s=wi(this,s);var d=this.g.get(s);return d||this.g.set(s,d=[]),d.push(l),this.h+=1,this};function em(s,l){dn(s),l=wi(s,l),s.g.has(l)&&(s.i=null,s.h-=s.g.get(l).length,s.g.delete(l))}function tm(s,l){return dn(s),l=wi(s,l),s.g.has(l)}n.forEach=function(s,l){dn(this),this.g.forEach(function(d,m){d.forEach(function(T){s.call(l,T,m,this)},this)},this)},n.na=function(){dn(this);let s=Array.from(this.g.values()),l=Array.from(this.g.keys()),d=[];for(let m=0;m<l.length;m++){let T=s[m];for(let x=0;x<T.length;x++)d.push(l[m])}return d},n.V=function(s){dn(this);let l=[];if(typeof s=="string")tm(this,s)&&(l=l.concat(this.g.get(wi(this,s))));else{s=Array.from(this.g.values());for(let d=0;d<s.length;d++)l=l.concat(s[d])}return l},n.set=function(s,l){return dn(this),this.i=null,s=wi(this,s),tm(this,s)&&(this.h-=this.g.get(s).length),this.g.set(s,[l]),this.h+=1,this},n.get=function(s,l){return s?(s=this.V(s),0<s.length?String(s[0]):l):l};function nm(s,l,d){em(s,l),0<d.length&&(s.i=null,s.g.set(wi(s,l),O(d)),s.h+=d.length)}n.toString=function(){if(this.i)return this.i;if(!this.g)return"";let s=[],l=Array.from(this.g.keys());for(var d=0;d<l.length;d++){var m=l[d];let x=encodeURIComponent(String(m)),N=this.V(m);for(m=0;m<N.length;m++){var T=x;N[m]!==""&&(T+="="+encodeURIComponent(String(N[m]))),s.push(T)}}return this.i=s.join("&")};function wi(s,l){return l=String(l),s.j&&(l=l.toLowerCase()),l}function xw(s,l){l&&!s.j&&(dn(s),s.i=null,s.g.forEach(function(d,m){var T=m.toLowerCase();m!=T&&(em(this,m),nm(this,T,d))},s)),s.j=l}function Rw(s,l){let d=new Sr;if(c.Image){let m=new Image;m.onload=C(hn,d,"TestLoadImage: loaded",!0,l,m),m.onerror=C(hn,d,"TestLoadImage: error",!1,l,m),m.onabort=C(hn,d,"TestLoadImage: abort",!1,l,m),m.ontimeout=C(hn,d,"TestLoadImage: timeout",!1,l,m),c.setTimeout(function(){m.ontimeout&&m.ontimeout()},1e4),m.src=s}else l(!1)}function kw(s,l){let d=new Sr,m=new AbortController,T=setTimeout(()=>{m.abort(),hn(d,"TestPingServer: timeout",!1,l)},1e4);fetch(s,{signal:m.signal}).then(x=>{clearTimeout(T),x.ok?hn(d,"TestPingServer: ok",!0,l):hn(d,"TestPingServer: server error",!1,l)}).catch(()=>{clearTimeout(T),hn(d,"TestPingServer: error",!1,l)})}function hn(s,l,d,m,T){try{T&&(T.onload=null,T.onerror=null,T.onabort=null,T.ontimeout=null),m(d)}catch{}}function Pw(){this.g=new fw}function Dw(s,l,d){let m=d||"";try{Qf(s,function(T,x){let N=T;h(T)&&(N=zc(T)),l.push(m+x+"="+encodeURIComponent(N))})}catch(T){throw l.push(m+"type="+encodeURIComponent("_badmap")),T}}function Pr(s){this.l=s.Ub||null,this.j=s.eb||!1}k(Pr,jc),Pr.prototype.g=function(){return new ss(this.l,this.j)},Pr.prototype.i=(function(s){return function(){return s}})({});function ss(s,l){Ve.call(this),this.D=s,this.o=l,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.u=new Headers,this.h=null,this.B="GET",this.A="",this.g=!1,this.v=this.j=this.l=null}k(ss,Ve),n=ss.prototype,n.open=function(s,l){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.B=s,this.A=l,this.readyState=1,Or(this)},n.send=function(s){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");this.g=!0;let l={headers:this.u,method:this.B,credentials:this.m,cache:void 0};s&&(l.body=s),(this.D||c).fetch(new Request(this.A,l)).then(this.Sa.bind(this),this.ga.bind(this))},n.abort=function(){this.response=this.responseText="",this.u=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&this.readyState!=4&&(this.g=!1,Dr(this)),this.readyState=0},n.Sa=function(s){if(this.g&&(this.l=s,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=s.headers,this.readyState=2,Or(this)),this.g&&(this.readyState=3,Or(this),this.g)))if(this.responseType==="arraybuffer")s.arrayBuffer().then(this.Qa.bind(this),this.ga.bind(this));else if(typeof c.ReadableStream<"u"&&"body"in s){if(this.j=s.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.v=new TextDecoder;im(this)}else s.text().then(this.Ra.bind(this),this.ga.bind(this))};function im(s){s.j.read().then(s.Pa.bind(s)).catch(s.ga.bind(s))}n.Pa=function(s){if(this.g){if(this.o&&s.value)this.response.push(s.value);else if(!this.o){var l=s.value?s.value:new Uint8Array(0);(l=this.v.decode(l,{stream:!s.done}))&&(this.response=this.responseText+=l)}s.done?Dr(this):Or(this),this.readyState==3&&im(this)}},n.Ra=function(s){this.g&&(this.response=this.responseText=s,Dr(this))},n.Qa=function(s){this.g&&(this.response=s,Dr(this))},n.ga=function(){this.g&&Dr(this)};function Dr(s){s.readyState=4,s.l=null,s.j=null,s.v=null,Or(s)}n.setRequestHeader=function(s,l){this.u.append(s,l)},n.getResponseHeader=function(s){return this.h&&this.h.get(s.toLowerCase())||""},n.getAllResponseHeaders=function(){if(!this.h)return"";let s=[],l=this.h.entries();for(var d=l.next();!d.done;)d=d.value,s.push(d[0]+": "+d[1]),d=l.next();return s.join(`\r
`)};function Or(s){s.onreadystatechange&&s.onreadystatechange.call(s)}Object.defineProperty(ss.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(s){this.m=s?"include":"same-origin"}});function rm(s){let l="";return te(s,function(d,m){l+=m,l+=":",l+=d,l+=`\r
`}),l}function Jc(s,l,d){e:{for(m in d){var m=!1;break e}m=!0}m||(d=rm(d),typeof s=="string"?d!=null&&encodeURIComponent(String(d)):oe(s,l,d))}function fe(s){Ve.call(this),this.headers=new Map,this.o=s||null,this.h=!1,this.v=this.g=null,this.D="",this.m=0,this.l="",this.j=this.B=this.u=this.A=!1,this.I=null,this.H="",this.J=!1}k(fe,Ve);var Ow=/^https?$/i,Nw=["POST","PUT"];n=fe.prototype,n.Ha=function(s){this.J=s},n.ea=function(s,l,d,m){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+s);l=l?l.toUpperCase():"GET",this.D=s,this.l="",this.m=0,this.A=!1,this.h=!0,this.g=this.o?this.o.g():Wc.g(),this.v=this.o?Of(this.o):Of(Wc),this.g.onreadystatechange=v(this.Ea,this);try{this.B=!0,this.g.open(l,String(s),!0),this.B=!1}catch(x){om(this,x);return}if(s=d||"",d=new Map(this.headers),m)if(Object.getPrototypeOf(m)===Object.prototype)for(var T in m)d.set(T,m[T]);else if(typeof m.keys=="function"&&typeof m.get=="function")for(let x of m.keys())d.set(x,m.get(x));else throw Error("Unknown input type for opt_headers: "+String(m));m=Array.from(d.keys()).find(x=>x.toLowerCase()=="content-type"),T=c.FormData&&s instanceof c.FormData,!(0<=Array.prototype.indexOf.call(Nw,l,void 0))||m||T||d.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(let[x,N]of d)this.g.setRequestHeader(x,N);this.H&&(this.g.responseType=this.H),"withCredentials"in this.g&&this.g.withCredentials!==this.J&&(this.g.withCredentials=this.J);try{cm(this),this.u=!0,this.g.send(s),this.u=!1}catch(x){om(this,x)}};function om(s,l){s.h=!1,s.g&&(s.j=!0,s.g.abort(),s.j=!1),s.l=l,s.m=5,sm(s),as(s)}function sm(s){s.A||(s.A=!0,Ge(s,"complete"),Ge(s,"error"))}n.abort=function(s){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.m=s||7,Ge(this,"complete"),Ge(this,"abort"),as(this))},n.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),as(this,!0)),fe.aa.N.call(this)},n.Ea=function(){this.s||(this.B||this.u||this.j?am(this):this.bb())},n.bb=function(){am(this)};function am(s){if(s.h&&typeof a<"u"&&(!s.v[1]||qt(s)!=4||s.Z()!=2)){if(s.u&&qt(s)==4)Rf(s.Ea,0,s);else if(Ge(s,"readystatechange"),qt(s)==4){s.h=!1;try{let N=s.Z();e:switch(N){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var l=!0;break e;default:l=!1}var d;if(!(d=l)){var m;if(m=N===0){var T=String(s.D).match(Xf)[1]||null;!T&&c.self&&c.self.location&&(T=c.self.location.protocol.slice(0,-1)),m=!Ow.test(T?T.toLowerCase():"")}d=m}if(d)Ge(s,"complete"),Ge(s,"success");else{s.m=6;try{var x=2<qt(s)?s.g.statusText:""}catch{x=""}s.l=x+" ["+s.Z()+"]",sm(s)}}finally{as(s)}}}}function as(s,l){if(s.g){cm(s);let d=s.g,m=s.v[0]?()=>{}:null;s.g=null,s.v=null,l||Ge(s,"ready");try{d.onreadystatechange=m}catch{}}}function cm(s){s.I&&(c.clearTimeout(s.I),s.I=null)}n.isActive=function(){return!!this.g};function qt(s){return s.g?s.g.readyState:0}n.Z=function(){try{return 2<qt(this)?this.g.status:-1}catch{return-1}},n.oa=function(){try{return this.g?this.g.responseText:""}catch{return""}},n.Oa=function(s){if(this.g){var l=this.g.responseText;return s&&l.indexOf(s)==0&&(l=l.substring(s.length)),hw(l)}};function lm(s){try{if(!s.g)return null;if("response"in s.g)return s.g.response;switch(s.H){case"":case"text":return s.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in s.g)return s.g.mozResponseArrayBuffer}return null}catch{return null}}function Mw(s){let l={};s=(s.g&&2<=qt(s)&&s.g.getAllResponseHeaders()||"").split(`\r
`);for(let m=0;m<s.length;m++){if(B(s[m]))continue;var d=I(s[m]);let T=d[0];if(d=d[1],typeof d!="string")continue;d=d.trim();let x=l[T]||[];l[T]=x,x.push(d)}E(l,function(m){return m.join(", ")})}n.Ba=function(){return this.m},n.Ka=function(){return typeof this.l=="string"?this.l:String(this.l)};function Nr(s,l,d){return d&&d.internalChannelParams&&d.internalChannelParams[s]||l}function um(s){this.Aa=0,this.i=[],this.j=new Sr,this.ia=this.qa=this.I=this.W=this.g=this.ya=this.D=this.H=this.m=this.S=this.o=null,this.Ya=this.U=0,this.Va=Nr("failFast",!1,s),this.F=this.C=this.u=this.s=this.l=null,this.X=!0,this.za=this.T=-1,this.Y=this.v=this.B=0,this.Ta=Nr("baseRetryDelayMs",5e3,s),this.cb=Nr("retryDelaySeedMs",1e4,s),this.Wa=Nr("forwardChannelMaxRetries",2,s),this.wa=Nr("forwardChannelRequestTimeoutMs",2e4,s),this.pa=s&&s.xmlHttpFactory||void 0,this.Xa=s&&s.Tb||void 0,this.Ca=s&&s.useFetchStreams||!1,this.L=void 0,this.J=s&&s.supportsCrossDomainXhr||!1,this.K="",this.h=new Wf(s&&s.concurrentRequestLimit),this.Da=new Pw,this.P=s&&s.fastHandshake||!1,this.O=s&&s.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.Ua=s&&s.Rb||!1,s&&s.xa&&this.j.xa(),s&&s.forceLongPolling&&(this.X=!1),this.ba=!this.P&&this.X&&s&&s.detectBufferingProxy||!1,this.ja=void 0,s&&s.longPollingTimeout&&0<s.longPollingTimeout&&(this.ja=s.longPollingTimeout),this.ca=void 0,this.R=0,this.M=!1,this.ka=this.A=null}n=um.prototype,n.la=8,n.G=1,n.connect=function(s,l,d,m){Ke(0),this.W=s,this.H=l||{},d&&m!==void 0&&(this.H.OSID=d,this.H.OAID=m),this.F=this.X,this.I=ym(this,null,this.W),ls(this)};function Zc(s){if(dm(s),s.G==3){var l=s.U++,d=jt(s.I);if(oe(d,"SID",s.K),oe(d,"RID",l),oe(d,"TYPE","terminate"),Mr(s,d),l=new un(s,s.j,l),l.L=2,l.v=os(jt(d)),d=!1,c.navigator&&c.navigator.sendBeacon)try{d=c.navigator.sendBeacon(l.v.toString(),"")}catch{}!d&&c.Image&&(new Image().src=l.v,d=!0),d||(l.g=bm(l.j,null),l.g.ea(l.v)),l.F=Date.now(),ns(l)}vm(s)}function cs(s){s.g&&(tl(s),s.g.cancel(),s.g=null)}function dm(s){cs(s),s.u&&(c.clearTimeout(s.u),s.u=null),us(s),s.h.cancel(),s.s&&(typeof s.s=="number"&&c.clearTimeout(s.s),s.s=null)}function ls(s){if(!Hf(s.h)&&!s.s){s.s=!0;var l=s.Ga;vr||If(),yr||(vr(),yr=!0),Dc.add(l,s),s.B=0}}function Fw(s,l){return Gf(s.h)>=s.h.j-(s.s?1:0)?!1:s.s?(s.i=l.D.concat(s.i),!0):s.G==1||s.G==2||s.B>=(s.Va?0:s.Wa)?!1:(s.s=Ar(v(s.Ga,s,l),_m(s,s.B)),s.B++,!0)}n.Ga=function(s){if(this.s)if(this.s=null,this.G==1){if(!s){this.U=Math.floor(1e5*Math.random()),s=this.U++;let T=new un(this,this.j,s),x=this.o;if(this.S&&(x?(x=g(x),w(x,this.S)):x=this.S),this.m!==null||this.O||(T.H=x,x=null),this.P)e:{for(var l=0,d=0;d<this.i.length;d++){t:{var m=this.i[d];if("__data__"in m.map&&(m=m.map.__data__,typeof m=="string")){m=m.length;break t}m=void 0}if(m===void 0)break;if(l+=m,4096<l){l=d;break e}if(l===4096||d===this.i.length-1){l=d+1;break e}}l=1e3}else l=1e3;l=fm(this,T,l),d=jt(this.I),oe(d,"RID",s),oe(d,"CVER",22),this.D&&oe(d,"X-HTTP-Session-Id",this.D),Mr(this,d),x&&(this.O?l="headers="+encodeURIComponent(String(rm(x)))+"&"+l:this.m&&Jc(d,this.m,x)),Xc(this.h,T),this.Ua&&oe(d,"TYPE","init"),this.P?(oe(d,"$req",l),oe(d,"SID","null"),T.T=!0,Gc(T,d,null)):Gc(T,d,l),this.G=2}}else this.G==3&&(s?hm(this,s):this.i.length==0||Hf(this.h)||hm(this))};function hm(s,l){var d;l?d=l.l:d=s.U++;let m=jt(s.I);oe(m,"SID",s.K),oe(m,"RID",d),oe(m,"AID",s.T),Mr(s,m),s.m&&s.o&&Jc(m,s.m,s.o),d=new un(s,s.j,d,s.B+1),s.m===null&&(d.H=s.o),l&&(s.i=l.D.concat(s.i)),l=fm(s,d,1e3),d.I=Math.round(.5*s.wa)+Math.round(.5*s.wa*Math.random()),Xc(s.h,d),Gc(d,m,l)}function Mr(s,l){s.H&&te(s.H,function(d,m){oe(l,m,d)}),s.l&&Qf({},function(d,m){oe(l,m,d)})}function fm(s,l,d){d=Math.min(s.i.length,d);var m=s.l?v(s.l.Na,s.l,s):null;e:{var T=s.i;let x=-1;for(;;){let N=["count="+d];x==-1?0<d?(x=T[0].g,N.push("ofs="+x)):x=0:N.push("ofs="+x);let ie=!0;for(let Ne=0;Ne<d;Ne++){let J=T[Ne].g,Ue=T[Ne].map;if(J-=x,0>J)x=Math.max(0,T[Ne].g-100),ie=!1;else try{Dw(Ue,N,"req"+J+"_")}catch{m&&m(Ue)}}if(ie){m=N.join("&");break e}}}return s=s.i.splice(0,d),l.D=s,m}function mm(s){if(!s.g&&!s.u){s.Y=1;var l=s.Fa;vr||If(),yr||(vr(),yr=!0),Dc.add(l,s),s.v=0}}function el(s){return s.g||s.u||3<=s.v?!1:(s.Y++,s.u=Ar(v(s.Fa,s),_m(s,s.v)),s.v++,!0)}n.Fa=function(){if(this.u=null,pm(this),this.ba&&!(this.M||this.g==null||0>=this.R)){var s=2*this.R;this.j.info("BP detection timer enabled: "+s),this.A=Ar(v(this.ab,this),s)}},n.ab=function(){this.A&&(this.A=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.M=!0,Ke(10),cs(this),pm(this))};function tl(s){s.A!=null&&(c.clearTimeout(s.A),s.A=null)}function pm(s){s.g=new un(s,s.j,"rpc",s.Y),s.m===null&&(s.g.H=s.o),s.g.O=0;var l=jt(s.qa);oe(l,"RID","rpc"),oe(l,"SID",s.K),oe(l,"AID",s.T),oe(l,"CI",s.F?"0":"1"),!s.F&&s.ja&&oe(l,"TO",s.ja),oe(l,"TYPE","xmlhttp"),Mr(s,l),s.m&&s.o&&Jc(l,s.m,s.o),s.L&&(s.g.I=s.L);var d=s.g;s=s.ia,d.L=1,d.v=os(jt(l)),d.m=null,d.P=!0,jf(d,s)}n.Za=function(){this.C!=null&&(this.C=null,cs(this),el(this),Ke(19))};function us(s){s.C!=null&&(c.clearTimeout(s.C),s.C=null)}function gm(s,l){var d=null;if(s.g==l){us(s),tl(s),s.g=null;var m=2}else if(Qc(s.h,l))d=l.D,Kf(s.h,l),m=1;else return;if(s.G!=0){if(l.o)if(m==1){d=l.m?l.m.length:0,l=Date.now()-l.F;var T=s.B;m=Zo(),Ge(m,new Vf(m,d)),ls(s)}else mm(s);else if(T=l.s,T==3||T==0&&0<l.X||!(m==1&&Fw(s,l)||m==2&&el(s)))switch(d&&0<d.length&&(l=s.h,l.i=l.i.concat(d)),T){case 1:Hn(s,5);break;case 4:Hn(s,10);break;case 3:Hn(s,6);break;default:Hn(s,2)}}}function _m(s,l){let d=s.Ta+Math.floor(Math.random()*s.cb);return s.isActive()||(d*=2),d*l}function Hn(s,l){if(s.j.info("Error code "+l),l==2){var d=v(s.fb,s),m=s.Xa;let T=!m;m=new Wn(m||"//www.google.com/images/cleardot.gif"),c.location&&c.location.protocol=="http"||is(m,"https"),os(m),T?Rw(m.toString(),d):kw(m.toString(),d)}else Ke(2);s.G=0,s.l&&s.l.sa(l),vm(s),dm(s)}n.fb=function(s){s?(this.j.info("Successfully pinged google.com"),Ke(2)):(this.j.info("Failed to ping google.com"),Ke(1))};function vm(s){if(s.G=0,s.ka=[],s.l){let l=Yf(s.h);(l.length!=0||s.i.length!=0)&&(D(s.ka,l),D(s.ka,s.i),s.h.i.length=0,O(s.i),s.i.length=0),s.l.ra()}}function ym(s,l,d){var m=d instanceof Wn?jt(d):new Wn(d);if(m.g!="")l&&(m.g=l+"."+m.g),rs(m,m.s);else{var T=c.location;m=T.protocol,l=l?l+"."+T.hostname:T.hostname,T=+T.port;var x=new Wn(null);m&&is(x,m),l&&(x.g=l),T&&rs(x,T),d&&(x.l=d),m=x}return d=s.D,l=s.ya,d&&l&&oe(m,d,l),oe(m,"VER",s.la),Mr(s,m),m}function bm(s,l,d){if(l&&!s.J)throw Error("Can't create secondary domain capable XhrIo object.");return l=s.Ca&&!s.pa?new fe(new Pr({eb:d})):new fe(s.pa),l.Ha(s.J),l}n.isActive=function(){return!!this.l&&this.l.isActive(this)};function wm(){}n=wm.prototype,n.ua=function(){},n.ta=function(){},n.sa=function(){},n.ra=function(){},n.isActive=function(){return!0},n.Na=function(){};function ds(){}ds.prototype.g=function(s,l){return new it(s,l)};function it(s,l){Ve.call(this),this.g=new um(l),this.l=s,this.h=l&&l.messageUrlParams||null,s=l&&l.messageHeaders||null,l&&l.clientProtocolHeaderRequired&&(s?s["X-Client-Protocol"]="webchannel":s={"X-Client-Protocol":"webchannel"}),this.g.o=s,s=l&&l.initMessageHeaders||null,l&&l.messageContentType&&(s?s["X-WebChannel-Content-Type"]=l.messageContentType:s={"X-WebChannel-Content-Type":l.messageContentType}),l&&l.va&&(s?s["X-WebChannel-Client-Profile"]=l.va:s={"X-WebChannel-Client-Profile":l.va}),this.g.S=s,(s=l&&l.Sb)&&!B(s)&&(this.g.m=s),this.v=l&&l.supportsCrossDomainXhr||!1,this.u=l&&l.sendRawJson||!1,(l=l&&l.httpSessionIdParam)&&!B(l)&&(this.g.D=l,s=this.h,s!==null&&l in s&&(s=this.h,l in s&&delete s[l])),this.j=new Ei(this)}k(it,Ve),it.prototype.m=function(){this.g.l=this.j,this.v&&(this.g.J=!0),this.g.connect(this.l,this.h||void 0)},it.prototype.close=function(){Zc(this.g)},it.prototype.o=function(s){var l=this.g;if(typeof s=="string"){var d={};d.__data__=s,s=d}else this.u&&(d={},d.__data__=zc(s),s=d);l.i.push(new yw(l.Ya++,s)),l.G==3&&ls(l)},it.prototype.N=function(){this.g.l=null,delete this.j,Zc(this.g),delete this.g,it.aa.N.call(this)};function Em(s){qc.call(this),s.__headers__&&(this.headers=s.__headers__,this.statusCode=s.__status__,delete s.__headers__,delete s.__status__);var l=s.__sm__;if(l){e:{for(let d in l){s=d;break e}s=void 0}(this.i=s)&&(s=this.i,l=l!==null&&s in l?l[s]:void 0),this.data=l}else this.data=s}k(Em,qc);function Im(){$c.call(this),this.status=1}k(Im,$c);function Ei(s){this.g=s}k(Ei,wm),Ei.prototype.ua=function(){Ge(this.g,"a")},Ei.prototype.ta=function(s){Ge(this.g,new Em(s))},Ei.prototype.sa=function(s){Ge(this.g,new Im)},Ei.prototype.ra=function(){Ge(this.g,"b")},ds.prototype.createWebChannel=ds.prototype.g,it.prototype.send=it.prototype.o,it.prototype.open=it.prototype.m,it.prototype.close=it.prototype.close,Mu=en.createWebChannelTransport=function(){return new ds},Nu=en.getStatEventTarget=function(){return Zo()},Ou=en.Event=qn,sa=en.Stat={mb:0,pb:1,qb:2,Jb:3,Ob:4,Lb:5,Mb:6,Kb:7,Ib:8,Nb:9,PROXY:10,NOPROXY:11,Gb:12,Cb:13,Db:14,Bb:15,Eb:16,Fb:17,ib:18,hb:19,jb:20},es.NO_ERROR=0,es.TIMEOUT=8,es.HTTP_ERROR=6,po=en.ErrorCode=es,Uf.COMPLETE="complete",Du=en.EventType=Uf,Nf.EventType=Ir,Ir.OPEN="a",Ir.CLOSE="b",Ir.ERROR="c",Ir.MESSAGE="d",Ve.prototype.listen=Ve.prototype.K,ji=en.WebChannel=Nf,mA=en.FetchXmlHttpFactory=Pr,fe.prototype.listenOnce=fe.prototype.L,fe.prototype.getLastError=fe.prototype.Ka,fe.prototype.getLastErrorCode=fe.prototype.Ba,fe.prototype.getStatus=fe.prototype.Z,fe.prototype.getResponseJson=fe.prototype.Oa,fe.prototype.getResponseText=fe.prototype.oa,fe.prototype.send=fe.prototype.ea,fe.prototype.setWithCredentials=fe.prototype.Ha,Pu=en.XhrIo=fe}).apply(typeof oa<"u"?oa:typeof self<"u"?self:typeof window<"u"?window:{});var Hg="@firebase/firestore",Gg="4.8.0";var De=class{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}};De.UNAUTHENTICATED=new De(null),De.GOOGLE_CREDENTIALS=new De("google-credentials-uid"),De.FIRST_PARTY=new De("first-party-uid"),De.MOCK_USER=new De("mock-user");var lr="11.10.0";var si=new Dt("@firebase/firestore");function qi(){return si.logLevel}function F(n,...e){if(si.logLevel<=K.DEBUG){let t=e.map(Ih);si.debug(`Firestore (${lr}): ${n}`,...t)}}function tn(n,...e){if(si.logLevel<=K.ERROR){let t=e.map(Ih);si.error(`Firestore (${lr}): ${n}`,...t)}}function Mn(n,...e){if(si.logLevel<=K.WARN){let t=e.map(Ih);si.warn(`Firestore (${lr}): ${n}`,...t)}}function Ih(n){if(typeof n=="string")return n;try{return(function(t){return JSON.stringify(t)})(n)}catch{return n}}function V(n,e,t){let i="Unexpected state";typeof e=="string"?i=e:t=e,U_(n,i,t)}function U_(n,e,t){let i=`FIRESTORE (${lr}) INTERNAL ASSERTION FAILED: ${e} (ID: ${n.toString(16)})`;if(t!==void 0)try{i+=" CONTEXT: "+JSON.stringify(t)}catch{i+=" CONTEXT: "+t}throw tn(i),new Error(i)}function ee(n,e,t,i){let r="Unexpected state";typeof t=="string"?r=t:i=t,n||U_(e,r,i)}function z(n,e){return n}var R={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"},M=class extends ot{constructor(e,t){super(e,t),this.code=e,this.message=t,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}};var Tt=class{constructor(){this.promise=new Promise((e,t)=>{this.resolve=e,this.reject=t})}};var fa=class{constructor(e,t){this.user=t,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}},Bu=class{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,t){e.enqueueRetryable(()=>t(De.UNAUTHENTICATED))}shutdown(){}},zu=class{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,t){this.changeListener=t,e.enqueueRetryable(()=>t(this.token.user))}shutdown(){this.changeListener=null}},ju=class{constructor(e){this.t=e,this.currentUser=De.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,t){ee(this.o===void 0,42304);let i=this.i,r=u=>this.i!==i?(i=this.i,t(u)):Promise.resolve(),o=new Tt;this.o=()=>{this.i++,this.currentUser=this.u(),o.resolve(),o=new Tt,e.enqueueRetryable(()=>r(this.currentUser))};let a=()=>{let u=o;e.enqueueRetryable(()=>_(this,null,function*(){yield u.promise,yield r(this.currentUser)}))},c=u=>{F("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=u,this.o&&(this.auth.addAuthTokenListener(this.o),a())};this.t.onInit(u=>c(u)),setTimeout(()=>{if(!this.auth){let u=this.t.getImmediate({optional:!0});u?c(u):(F("FirebaseAuthCredentialsProvider","Auth not yet detected"),o.resolve(),o=new Tt)}},0),a()}getToken(){let e=this.i,t=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(t).then(i=>this.i!==e?(F("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):i?(ee(typeof i.accessToken=="string",31837,{l:i}),new fa(i.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){let e=this.auth&&this.auth.getUid();return ee(e===null||typeof e=="string",2055,{h:e}),new De(e)}},qu=class{constructor(e,t,i){this.P=e,this.T=t,this.I=i,this.type="FirstParty",this.user=De.FIRST_PARTY,this.A=new Map}R(){return this.I?this.I():null}get headers(){this.A.set("X-Goog-AuthUser",this.P);let e=this.R();return e&&this.A.set("Authorization",e),this.T&&this.A.set("X-Goog-Iam-Authorization-Token",this.T),this.A}},$u=class{constructor(e,t,i){this.P=e,this.T=t,this.I=i}getToken(){return Promise.resolve(new qu(this.P,this.T,this.I))}start(e,t){e.enqueueRetryable(()=>t(De.FIRST_PARTY))}shutdown(){}invalidateToken(){}},ma=class{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}},Wu=class{constructor(e,t){this.V=t,this.forceRefresh=!1,this.appCheck=null,this.m=null,this.p=null,Qe(e)&&e.settings.appCheckToken&&(this.p=e.settings.appCheckToken)}start(e,t){ee(this.o===void 0,3512);let i=o=>{o.error!=null&&F("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${o.error.message}`);let a=o.token!==this.m;return this.m=o.token,F("FirebaseAppCheckTokenProvider",`Received ${a?"new":"existing"} token.`),a?t(o.token):Promise.resolve()};this.o=o=>{e.enqueueRetryable(()=>i(o))};let r=o=>{F("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=o,this.o&&this.appCheck.addTokenListener(this.o)};this.V.onInit(o=>r(o)),setTimeout(()=>{if(!this.appCheck){let o=this.V.getImmediate({optional:!0});o?r(o):F("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){if(this.p)return Promise.resolve(new ma(this.p));let e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(t=>t?(ee(typeof t.token=="string",44558,{tokenResult:t}),this.m=t.token,new ma(t.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}};function pA(n){let e=typeof self<"u"&&(self.crypto||self.msCrypto),t=new Uint8Array(n);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(t);else for(let i=0;i<n;i++)t[i]=Math.floor(256*Math.random());return t}function B_(){return new TextEncoder}var wo=class{static newId(){let e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",t=62*Math.floor(4.129032258064516),i="";for(;i.length<20;){let r=pA(40);for(let o=0;o<r.length;++o)i.length<20&&r[o]<t&&(i+=e.charAt(r[o]%62))}return i}};function G(n,e){return n<e?-1:n>e?1:0}function Hu(n,e){let t=0;for(;t<n.length&&t<e.length;){let i=n.codePointAt(t),r=e.codePointAt(t);if(i!==r){if(i<128&&r<128)return G(i,r);{let o=B_(),a=gA(o.encode(Kg(n,t)),o.encode(Kg(e,t)));return a!==0?a:G(i,r)}}t+=i>65535?2:1}return G(n.length,e.length)}function Kg(n,e){return n.codePointAt(e)>65535?n.substring(e,e+2):n.substring(e,e+1)}function gA(n,e){for(let t=0;t<n.length&&t<e.length;++t)if(n[t]!==e[t])return G(n[t],e[t]);return G(n.length,e.length)}function Qi(n,e,t){return n.length===e.length&&n.every((i,r)=>t(i,e[r]))}var Yg="__name__",pa=class n{constructor(e,t,i){t===void 0?t=0:t>e.length&&V(637,{offset:t,range:e.length}),i===void 0?i=e.length-t:i>e.length-t&&V(1746,{length:i,range:e.length-t}),this.segments=e,this.offset=t,this.len=i}get length(){return this.len}isEqual(e){return n.comparator(this,e)===0}child(e){let t=this.segments.slice(this.offset,this.limit());return e instanceof n?e.forEach(i=>{t.push(i)}):t.push(e),this.construct(t)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}forEach(e){for(let t=this.offset,i=this.limit();t<i;t++)e(this.segments[t])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,t){let i=Math.min(e.length,t.length);for(let r=0;r<i;r++){let o=n.compareSegments(e.get(r),t.get(r));if(o!==0)return o}return G(e.length,t.length)}static compareSegments(e,t){let i=n.isNumericId(e),r=n.isNumericId(t);return i&&!r?-1:!i&&r?1:i&&r?n.extractNumericId(e).compare(n.extractNumericId(t)):Hu(e,t)}static isNumericId(e){return e.startsWith("__id")&&e.endsWith("__")}static extractNumericId(e){return Zt.fromString(e.substring(4,e.length-2))}},ue=class n extends pa{construct(e,t,i){return new n(e,t,i)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){let t=[];for(let i of e){if(i.indexOf("//")>=0)throw new M(R.INVALID_ARGUMENT,`Invalid segment (${i}). Paths must not contain // in them.`);t.push(...i.split("/").filter(r=>r.length>0))}return new n(t)}static emptyPath(){return new n([])}},_A=/^[_a-zA-Z][_a-zA-Z0-9]*$/,at=class n extends pa{construct(e,t,i){return new n(e,t,i)}static isValidIdentifier(e){return _A.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),n.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)===Yg}static keyField(){return new n([Yg])}static fromServerFormat(e){let t=[],i="",r=0,o=()=>{if(i.length===0)throw new M(R.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);t.push(i),i=""},a=!1;for(;r<e.length;){let c=e[r];if(c==="\\"){if(r+1===e.length)throw new M(R.INVALID_ARGUMENT,"Path has trailing escape character: "+e);let u=e[r+1];if(u!=="\\"&&u!=="."&&u!=="`")throw new M(R.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);i+=u,r+=2}else c==="`"?(a=!a,r++):c!=="."||a?(i+=c,r++):(o(),r++)}if(o(),a)throw new M(R.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new n(t)}static emptyPath(){return new n([])}};var L=class n{constructor(e){this.path=e}static fromPath(e){return new n(ue.fromString(e))}static fromName(e){return new n(ue.fromString(e).popFirst(5))}static empty(){return new n(ue.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&ue.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,t){return ue.comparator(e.path,t.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new n(new ue(e.slice()))}};function z_(n,e,t){if(!t)throw new M(R.INVALID_ARGUMENT,`Function ${n}() cannot be called with an empty ${e}.`)}function vA(n,e,t,i){if(e===!0&&i===!0)throw new M(R.INVALID_ARGUMENT,`${n} and ${t} cannot be used together.`)}function Qg(n){if(!L.isDocumentKey(n))throw new M(R.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${n} has ${n.length}.`)}function Xg(n){if(L.isDocumentKey(n))throw new M(R.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${n} has ${n.length}.`)}function j_(n){return typeof n=="object"&&n!==null&&(Object.getPrototypeOf(n)===Object.prototype||Object.getPrototypeOf(n)===null)}function Ga(n){if(n===void 0)return"undefined";if(n===null)return"null";if(typeof n=="string")return n.length>20&&(n=`${n.substring(0,20)}...`),JSON.stringify(n);if(typeof n=="number"||typeof n=="boolean")return""+n;if(typeof n=="object"){if(n instanceof Array)return"an array";{let e=(function(i){return i.constructor?i.constructor.name:null})(n);return e?`a custom ${e} object`:"an object"}}return typeof n=="function"?"a function":V(12329,{type:typeof n})}function ht(n,e){if("_delegate"in n&&(n=n._delegate),!(n instanceof e)){if(e.name===n.constructor.name)throw new M(R.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{let t=Ga(n);throw new M(R.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${t}`)}}return n}function Ce(n,e){let t={typeString:n};return e&&(t.value=e),t}function Mo(n,e){if(!j_(n))throw new M(R.INVALID_ARGUMENT,"JSON must be an object");let t;for(let i in e)if(e[i]){let r=e[i].typeString,o="value"in e[i]?{value:e[i].value}:void 0;if(!(i in n)){t=`JSON missing required field: '${i}'`;break}let a=n[i];if(r&&typeof a!==r){t=`JSON field '${i}' must be a ${r}.`;break}if(o!==void 0&&a!==o.value){t=`Expected '${i}' field to equal '${o.value}'`;break}}if(t)throw new M(R.INVALID_ARGUMENT,t);return!0}var Jg=-62135596800,Zg=1e6,_e=class n{static now(){return n.fromMillis(Date.now())}static fromDate(e){return n.fromMillis(e.getTime())}static fromMillis(e){let t=Math.floor(e/1e3),i=Math.floor((e-1e3*t)*Zg);return new n(t,i)}constructor(e,t){if(this.seconds=e,this.nanoseconds=t,t<0)throw new M(R.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(t>=1e9)throw new M(R.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(e<Jg)throw new M(R.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new M(R.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/Zg}_compareTo(e){return this.seconds===e.seconds?G(this.nanoseconds,e.nanoseconds):G(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{type:n._jsonSchemaVersion,seconds:this.seconds,nanoseconds:this.nanoseconds}}static fromJSON(e){if(Mo(e,n._jsonSchema))return new n(e.seconds,e.nanoseconds)}valueOf(){let e=this.seconds-Jg;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}};_e._jsonSchemaVersion="firestore/timestamp/1.0",_e._jsonSchema={type:Ce("string",_e._jsonSchemaVersion),seconds:Ce("number"),nanoseconds:Ce("number")};var H=class n{static fromTimestamp(e){return new n(e)}static min(){return new n(new _e(0,0))}static max(){return new n(new _e(253402300799,999999999))}constructor(e){this.timestamp=e}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}};var Eo=-1,Gu=class{constructor(e,t,i,r){this.indexId=e,this.collectionGroup=t,this.fields=i,this.indexState=r}};Gu.UNKNOWN_ID=-1;function yA(n,e){let t=n.toTimestamp().seconds,i=n.toTimestamp().nanoseconds+1,r=H.fromTimestamp(i===1e9?new _e(t+1,0):new _e(t,i));return new ai(r,L.empty(),e)}function bA(n){return new ai(n.readTime,n.key,Eo)}var ai=class n{constructor(e,t,i){this.readTime=e,this.documentKey=t,this.largestBatchId=i}static min(){return new n(H.min(),L.empty(),Eo)}static max(){return new n(H.max(),L.empty(),Eo)}};function wA(n,e){let t=n.readTime.compareTo(e.readTime);return t!==0?t:(t=L.comparator(n.documentKey,e.documentKey),t!==0?t:G(n.largestBatchId,e.largestBatchId))}var EA="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.",Ku=class{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}};function ur(n){return _(this,null,function*(){if(n.code!==R.FAILED_PRECONDITION||n.message!==EA)throw n;F("LocalStore","Unexpectedly lost primary lease")})}var P=class n{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(t=>{this.isDone=!0,this.result=t,this.nextCallback&&this.nextCallback(t)},t=>{this.isDone=!0,this.error=t,this.catchCallback&&this.catchCallback(t)})}catch(e){return this.next(void 0,e)}next(e,t){return this.callbackAttached&&V(59440),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(t,this.error):this.wrapSuccess(e,this.result):new n((i,r)=>{this.nextCallback=o=>{this.wrapSuccess(e,o).next(i,r)},this.catchCallback=o=>{this.wrapFailure(t,o).next(i,r)}})}toPromise(){return new Promise((e,t)=>{this.next(e,t)})}wrapUserFunction(e){try{let t=e();return t instanceof n?t:n.resolve(t)}catch(t){return n.reject(t)}}wrapSuccess(e,t){return e?this.wrapUserFunction(()=>e(t)):n.resolve(t)}wrapFailure(e,t){return e?this.wrapUserFunction(()=>e(t)):n.reject(t)}static resolve(e){return new n((t,i)=>{t(e)})}static reject(e){return new n((t,i)=>{i(e)})}static waitFor(e){return new n((t,i)=>{let r=0,o=0,a=!1;e.forEach(c=>{++r,c.next(()=>{++o,a&&o===r&&t()},u=>i(u))}),a=!0,o===r&&t()})}static or(e){let t=n.resolve(!1);for(let i of e)t=t.next(r=>r?n.resolve(r):i());return t}static forEach(e,t){let i=[];return e.forEach((r,o)=>{i.push(t.call(this,r,o))}),this.waitFor(i)}static mapArray(e,t){return new n((i,r)=>{let o=e.length,a=new Array(o),c=0;for(let u=0;u<o;u++){let h=u;t(e[h]).next(f=>{a[h]=f,++c,c===o&&i(a)},f=>r(f))}})}static doWhile(e,t){return new n((i,r)=>{let o=()=>{e()===!0?t().next(()=>{o()},r):i()};o()})}};function IA(n){let e=n.match(/Android ([\d.]+)/i),t=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(t)}function dr(n){return n.name==="IndexedDbTransactionError"}var Th=(()=>{class n{constructor(t,i){this.previousValue=t,i&&(i.sequenceNumberHandler=r=>this._e(r),this.ae=r=>i.writeSequenceNumber(r))}_e(t){return this.previousValue=Math.max(t,this.previousValue),this.previousValue}next(){let t=++this.previousValue;return this.ae&&this.ae(t),t}}n.ue=-1;return n})(),Ah=-1;function Ka(n){return n==null}function Io(n){return n===0&&1/n==-1/0}function TA(n){return typeof n=="number"&&Number.isInteger(n)&&!Io(n)&&n<=Number.MAX_SAFE_INTEGER&&n>=Number.MIN_SAFE_INTEGER}var q_="";function AA(n){let e="";for(let t=0;t<n.length;t++)e.length>0&&(e=e_(e)),e=SA(n.get(t),e);return e_(e)}function SA(n,e){let t=e,i=n.length;for(let r=0;r<i;r++){let o=n.charAt(r);switch(o){case"\0":t+="";break;case q_:t+="";break;default:t+=o}}return t}function e_(n){return n+q_+""}var CA="remoteDocuments",$_="owner";var W_="mutationQueues";var H_="mutations";var G_="documentMutations",xA="remoteDocumentsV14";var K_="remoteDocumentGlobal";var Y_="targets";var Q_="targetDocuments";var X_="targetGlobal",J_="collectionParents";var Z_="clientMetadata";var ev="bundles";var tv="namedQueries";var RA="indexConfiguration";var kA="indexState";var PA="indexEntries";var nv="documentOverlays";var DA="globals";var OA=[W_,H_,G_,CA,Y_,$_,X_,Q_,Z_,K_,J_,ev,tv],OP=[...OA,nv],NA=[W_,H_,G_,xA,Y_,$_,X_,Q_,Z_,K_,J_,ev,tv,nv],MA=NA,FA=[...MA,RA,kA,PA];var NP=[...FA,DA];function t_(n){let e=0;for(let t in n)Object.prototype.hasOwnProperty.call(n,t)&&e++;return e}function Un(n,e){for(let t in n)Object.prototype.hasOwnProperty.call(n,t)&&e(t,n[t])}function iv(n){for(let e in n)if(Object.prototype.hasOwnProperty.call(n,e))return!1;return!0}var ve=class n{constructor(e,t){this.comparator=e,this.root=t||Mt.EMPTY}insert(e,t){return new n(this.comparator,this.root.insert(e,t,this.comparator).copy(null,null,Mt.BLACK,null,null))}remove(e){return new n(this.comparator,this.root.remove(e,this.comparator).copy(null,null,Mt.BLACK,null,null))}get(e){let t=this.root;for(;!t.isEmpty();){let i=this.comparator(e,t.key);if(i===0)return t.value;i<0?t=t.left:i>0&&(t=t.right)}return null}indexOf(e){let t=0,i=this.root;for(;!i.isEmpty();){let r=this.comparator(e,i.key);if(r===0)return t+i.left.size;r<0?i=i.left:(t+=i.left.size+1,i=i.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((t,i)=>(e(t,i),!1))}toString(){let e=[];return this.inorderTraversal((t,i)=>(e.push(`${t}:${i}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new Gi(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new Gi(this.root,e,this.comparator,!1)}getReverseIterator(){return new Gi(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new Gi(this.root,e,this.comparator,!0)}},Gi=class{constructor(e,t,i,r){this.isReverse=r,this.nodeStack=[];let o=1;for(;!e.isEmpty();)if(o=t?i(e.key,t):1,t&&r&&(o*=-1),o<0)e=this.isReverse?e.left:e.right;else{if(o===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop(),t={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return t}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;let e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}},Mt=class n{constructor(e,t,i,r,o){this.key=e,this.value=t,this.color=i??n.RED,this.left=r??n.EMPTY,this.right=o??n.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,t,i,r,o){return new n(e??this.key,t??this.value,i??this.color,r??this.left,o??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,t,i){let r=this,o=i(e,r.key);return r=o<0?r.copy(null,null,null,r.left.insert(e,t,i),null):o===0?r.copy(null,t,null,null,null):r.copy(null,null,null,null,r.right.insert(e,t,i)),r.fixUp()}removeMin(){if(this.left.isEmpty())return n.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,t){let i,r=this;if(t(e,r.key)<0)r.left.isEmpty()||r.left.isRed()||r.left.left.isRed()||(r=r.moveRedLeft()),r=r.copy(null,null,null,r.left.remove(e,t),null);else{if(r.left.isRed()&&(r=r.rotateRight()),r.right.isEmpty()||r.right.isRed()||r.right.left.isRed()||(r=r.moveRedRight()),t(e,r.key)===0){if(r.right.isEmpty())return n.EMPTY;i=r.right.min(),r=r.copy(i.key,i.value,null,null,r.right.removeMin())}r=r.copy(null,null,null,null,r.right.remove(e,t))}return r.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){let e=this.copy(null,null,n.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){let e=this.copy(null,null,n.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){let e=this.left.copy(null,null,!this.left.color,null,null),t=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,t)}checkMaxDepth(){let e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed())throw V(43730,{key:this.key,value:this.value});if(this.right.isRed())throw V(14113,{key:this.key,value:this.value});let e=this.left.check();if(e!==this.right.check())throw V(27949);return e+(this.isRed()?0:1)}};Mt.EMPTY=null,Mt.RED=!0,Mt.BLACK=!1;Mt.EMPTY=new class{constructor(){this.size=0}get key(){throw V(57766)}get value(){throw V(16141)}get color(){throw V(16727)}get left(){throw V(29726)}get right(){throw V(36894)}copy(e,t,i,r,o){return this}insert(e,t,i){return new Mt(e,t)}remove(e,t){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};var Oe=class n{constructor(e){this.comparator=e,this.data=new ve(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((t,i)=>(e(t),!1))}forEachInRange(e,t){let i=this.data.getIteratorFrom(e[0]);for(;i.hasNext();){let r=i.getNext();if(this.comparator(r.key,e[1])>=0)return;t(r.key)}}forEachWhile(e,t){let i;for(i=t!==void 0?this.data.getIteratorFrom(t):this.data.getIterator();i.hasNext();)if(!e(i.getNext().key))return}firstAfterOrEqual(e){let t=this.data.getIteratorFrom(e);return t.hasNext()?t.getNext().key:null}getIterator(){return new ga(this.data.getIterator())}getIteratorFrom(e){return new ga(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let t=this;return t.size<e.size&&(t=e,e=this),e.forEach(i=>{t=t.add(i)}),t}isEqual(e){if(!(e instanceof n)||this.size!==e.size)return!1;let t=this.data.getIterator(),i=e.data.getIterator();for(;t.hasNext();){let r=t.getNext().key,o=i.getNext().key;if(this.comparator(r,o)!==0)return!1}return!0}toArray(){let e=[];return this.forEach(t=>{e.push(t)}),e}toString(){let e=[];return this.forEach(t=>e.push(t)),"SortedSet("+e.toString()+")"}copy(e){let t=new n(this.comparator);return t.data=e,t}},ga=class{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}};var dt=class n{constructor(e){this.fields=e,e.sort(at.comparator)}static empty(){return new n([])}unionWith(e){let t=new Oe(at.comparator);for(let i of this.fields)t=t.add(i);for(let i of e)t=t.add(i);return new n(t.toArray())}covers(e){for(let t of this.fields)if(t.isPrefixOf(e))return!0;return!1}isEqual(e){return Qi(this.fields,e.fields,(t,i)=>t.isEqual(i))}};var _a=class extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}};var We=class n{constructor(e){this.binaryString=e}static fromBase64String(e){let t=(function(r){try{return atob(r)}catch(o){throw typeof DOMException<"u"&&o instanceof DOMException?new _a("Invalid base64 string: "+o):o}})(e);return new n(t)}static fromUint8Array(e){let t=(function(r){let o="";for(let a=0;a<r.length;++a)o+=String.fromCharCode(r[a]);return o})(e);return new n(t)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return(function(t){return btoa(t)})(this.binaryString)}toUint8Array(){return(function(t){let i=new Uint8Array(t.length);for(let r=0;r<t.length;r++)i[r]=t.charCodeAt(r);return i})(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return G(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}};We.EMPTY_BYTE_STRING=new We("");var LA=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function nn(n){if(ee(!!n,39018),typeof n=="string"){let e=0,t=LA.exec(n);if(ee(!!t,46558,{timestamp:n}),t[1]){let r=t[1];r=(r+"000000000").substr(0,9),e=Number(r)}let i=new Date(n);return{seconds:Math.floor(i.getTime()/1e3),nanos:e}}return{seconds:le(n.seconds),nanos:le(n.nanos)}}function le(n){return typeof n=="number"?n:typeof n=="string"?Number(n):0}function rn(n){return typeof n=="string"?We.fromBase64String(n):We.fromUint8Array(n)}var rv="server_timestamp",ov="__type__",sv="__previous_value__",av="__local_write_time__";function Sh(n){var e,t;return((t=(((e=n?.mapValue)===null||e===void 0?void 0:e.fields)||{})[ov])===null||t===void 0?void 0:t.stringValue)===rv}function Ya(n){let e=n.mapValue.fields[sv];return Sh(e)?Ya(e):e}function To(n){let e=nn(n.mapValue.fields[av].timestampValue);return new _e(e.seconds,e.nanos)}var Yu=class{constructor(e,t,i,r,o,a,c,u,h,f){this.databaseId=e,this.appId=t,this.persistenceKey=i,this.host=r,this.ssl=o,this.forceLongPolling=a,this.autoDetectLongPolling=c,this.longPollingOptions=u,this.useFetchStreams=h,this.isUsingEmulator=f}},va="(default)",ya=class n{constructor(e,t){this.projectId=e,this.database=t||va}static empty(){return new n("","")}get isDefaultDatabase(){return this.database===va}isEqual(e){return e instanceof n&&e.projectId===this.projectId&&e.database===this.database}};var Ch="__type__",cv="__max__",aa={mapValue:{fields:{__type__:{stringValue:cv}}}},xh="__vector__",Xi="value";function Fn(n){return"nullValue"in n?0:"booleanValue"in n?1:"integerValue"in n||"doubleValue"in n?2:"timestampValue"in n?3:"stringValue"in n?5:"bytesValue"in n?6:"referenceValue"in n?7:"geoPointValue"in n?8:"arrayValue"in n?9:"mapValue"in n?Sh(n)?4:uv(n)?9007199254740991:lv(n)?10:11:V(28295,{value:n})}function Vt(n,e){if(n===e)return!0;let t=Fn(n);if(t!==Fn(e))return!1;switch(t){case 0:case 9007199254740991:return!0;case 1:return n.booleanValue===e.booleanValue;case 4:return To(n).isEqual(To(e));case 3:return(function(r,o){if(typeof r.timestampValue=="string"&&typeof o.timestampValue=="string"&&r.timestampValue.length===o.timestampValue.length)return r.timestampValue===o.timestampValue;let a=nn(r.timestampValue),c=nn(o.timestampValue);return a.seconds===c.seconds&&a.nanos===c.nanos})(n,e);case 5:return n.stringValue===e.stringValue;case 6:return(function(r,o){return rn(r.bytesValue).isEqual(rn(o.bytesValue))})(n,e);case 7:return n.referenceValue===e.referenceValue;case 8:return(function(r,o){return le(r.geoPointValue.latitude)===le(o.geoPointValue.latitude)&&le(r.geoPointValue.longitude)===le(o.geoPointValue.longitude)})(n,e);case 2:return(function(r,o){if("integerValue"in r&&"integerValue"in o)return le(r.integerValue)===le(o.integerValue);if("doubleValue"in r&&"doubleValue"in o){let a=le(r.doubleValue),c=le(o.doubleValue);return a===c?Io(a)===Io(c):isNaN(a)&&isNaN(c)}return!1})(n,e);case 9:return Qi(n.arrayValue.values||[],e.arrayValue.values||[],Vt);case 10:case 11:return(function(r,o){let a=r.mapValue.fields||{},c=o.mapValue.fields||{};if(t_(a)!==t_(c))return!1;for(let u in a)if(a.hasOwnProperty(u)&&(c[u]===void 0||!Vt(a[u],c[u])))return!1;return!0})(n,e);default:return V(52216,{left:n})}}function Ao(n,e){return(n.values||[]).find(t=>Vt(t,e))!==void 0}function Ji(n,e){if(n===e)return 0;let t=Fn(n),i=Fn(e);if(t!==i)return G(t,i);switch(t){case 0:case 9007199254740991:return 0;case 1:return G(n.booleanValue,e.booleanValue);case 2:return(function(o,a){let c=le(o.integerValue||o.doubleValue),u=le(a.integerValue||a.doubleValue);return c<u?-1:c>u?1:c===u?0:isNaN(c)?isNaN(u)?0:-1:1})(n,e);case 3:return n_(n.timestampValue,e.timestampValue);case 4:return n_(To(n),To(e));case 5:return Hu(n.stringValue,e.stringValue);case 6:return(function(o,a){let c=rn(o),u=rn(a);return c.compareTo(u)})(n.bytesValue,e.bytesValue);case 7:return(function(o,a){let c=o.split("/"),u=a.split("/");for(let h=0;h<c.length&&h<u.length;h++){let f=G(c[h],u[h]);if(f!==0)return f}return G(c.length,u.length)})(n.referenceValue,e.referenceValue);case 8:return(function(o,a){let c=G(le(o.latitude),le(a.latitude));return c!==0?c:G(le(o.longitude),le(a.longitude))})(n.geoPointValue,e.geoPointValue);case 9:return i_(n.arrayValue,e.arrayValue);case 10:return(function(o,a){var c,u,h,f;let p=o.fields||{},v=a.fields||{},C=(c=p[Xi])===null||c===void 0?void 0:c.arrayValue,k=(u=v[Xi])===null||u===void 0?void 0:u.arrayValue,O=G(((h=C?.values)===null||h===void 0?void 0:h.length)||0,((f=k?.values)===null||f===void 0?void 0:f.length)||0);return O!==0?O:i_(C,k)})(n.mapValue,e.mapValue);case 11:return(function(o,a){if(o===aa.mapValue&&a===aa.mapValue)return 0;if(o===aa.mapValue)return 1;if(a===aa.mapValue)return-1;let c=o.fields||{},u=Object.keys(c),h=a.fields||{},f=Object.keys(h);u.sort(),f.sort();for(let p=0;p<u.length&&p<f.length;++p){let v=Hu(u[p],f[p]);if(v!==0)return v;let C=Ji(c[u[p]],h[f[p]]);if(C!==0)return C}return G(u.length,f.length)})(n.mapValue,e.mapValue);default:throw V(23264,{le:t})}}function n_(n,e){if(typeof n=="string"&&typeof e=="string"&&n.length===e.length)return G(n,e);let t=nn(n),i=nn(e),r=G(t.seconds,i.seconds);return r!==0?r:G(t.nanos,i.nanos)}function i_(n,e){let t=n.values||[],i=e.values||[];for(let r=0;r<t.length&&r<i.length;++r){let o=Ji(t[r],i[r]);if(o)return o}return G(t.length,i.length)}function Zi(n){return Qu(n)}function Qu(n){return"nullValue"in n?"null":"booleanValue"in n?""+n.booleanValue:"integerValue"in n?""+n.integerValue:"doubleValue"in n?""+n.doubleValue:"timestampValue"in n?(function(t){let i=nn(t);return`time(${i.seconds},${i.nanos})`})(n.timestampValue):"stringValue"in n?n.stringValue:"bytesValue"in n?(function(t){return rn(t).toBase64()})(n.bytesValue):"referenceValue"in n?(function(t){return L.fromName(t).toString()})(n.referenceValue):"geoPointValue"in n?(function(t){return`geo(${t.latitude},${t.longitude})`})(n.geoPointValue):"arrayValue"in n?(function(t){let i="[",r=!0;for(let o of t.values||[])r?r=!1:i+=",",i+=Qu(o);return i+"]"})(n.arrayValue):"mapValue"in n?(function(t){let i=Object.keys(t.fields||{}).sort(),r="{",o=!0;for(let a of i)o?o=!1:r+=",",r+=`${a}:${Qu(t.fields[a])}`;return r+"}"})(n.mapValue):V(61005,{value:n})}function ua(n){switch(Fn(n)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:let e=Ya(n);return e?16+ua(e):16;case 5:return 2*n.stringValue.length;case 6:return rn(n.bytesValue).approximateByteSize();case 7:return n.referenceValue.length;case 9:return(function(i){return(i.values||[]).reduce((r,o)=>r+ua(o),0)})(n.arrayValue);case 10:case 11:return(function(i){let r=0;return Un(i.fields,(o,a)=>{r+=o.length+ua(a)}),r})(n.mapValue);default:throw V(13486,{value:n})}}function r_(n,e){return{referenceValue:`projects/${n.projectId}/databases/${n.database}/documents/${e.path.canonicalString()}`}}function Xu(n){return!!n&&"integerValue"in n}function Rh(n){return!!n&&"arrayValue"in n}function o_(n){return!!n&&"nullValue"in n}function s_(n){return!!n&&"doubleValue"in n&&isNaN(Number(n.doubleValue))}function da(n){return!!n&&"mapValue"in n}function lv(n){var e,t;return((t=(((e=n?.mapValue)===null||e===void 0?void 0:e.fields)||{})[Ch])===null||t===void 0?void 0:t.stringValue)===xh}function _o(n){if(n.geoPointValue)return{geoPointValue:Object.assign({},n.geoPointValue)};if(n.timestampValue&&typeof n.timestampValue=="object")return{timestampValue:Object.assign({},n.timestampValue)};if(n.mapValue){let e={mapValue:{fields:{}}};return Un(n.mapValue.fields,(t,i)=>e.mapValue.fields[t]=_o(i)),e}if(n.arrayValue){let e={arrayValue:{values:[]}};for(let t=0;t<(n.arrayValue.values||[]).length;++t)e.arrayValue.values[t]=_o(n.arrayValue.values[t]);return e}return Object.assign({},n)}function uv(n){return(((n.mapValue||{}).fields||{}).__type__||{}).stringValue===cv}var FP={mapValue:{fields:{[Ch]:{stringValue:xh},[Xi]:{arrayValue:{}}}}};var st=class n{constructor(e){this.value=e}static empty(){return new n({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let t=this.value;for(let i=0;i<e.length-1;++i)if(t=(t.mapValue.fields||{})[e.get(i)],!da(t))return null;return t=(t.mapValue.fields||{})[e.lastSegment()],t||null}}set(e,t){this.getFieldsMap(e.popLast())[e.lastSegment()]=_o(t)}setAll(e){let t=at.emptyPath(),i={},r=[];e.forEach((a,c)=>{if(!t.isImmediateParentOf(c)){let u=this.getFieldsMap(t);this.applyChanges(u,i,r),i={},r=[],t=c.popLast()}a?i[c.lastSegment()]=_o(a):r.push(c.lastSegment())});let o=this.getFieldsMap(t);this.applyChanges(o,i,r)}delete(e){let t=this.field(e.popLast());da(t)&&t.mapValue.fields&&delete t.mapValue.fields[e.lastSegment()]}isEqual(e){return Vt(this.value,e.value)}getFieldsMap(e){let t=this.value;t.mapValue.fields||(t.mapValue={fields:{}});for(let i=0;i<e.length;++i){let r=t.mapValue.fields[e.get(i)];da(r)&&r.mapValue.fields||(r={mapValue:{fields:{}}},t.mapValue.fields[e.get(i)]=r),t=r}return t.mapValue.fields}applyChanges(e,t,i){Un(t,(r,o)=>e[r]=o);for(let r of i)delete e[r]}clone(){return new n(_o(this.value))}};function dv(n){let e=[];return Un(n.fields,(t,i)=>{let r=new at([t]);if(da(i)){let o=dv(i.mapValue).fields;if(o.length===0)e.push(r);else for(let a of o)e.push(r.child(a))}else e.push(r)}),new dt(e)}var At=class n{constructor(e,t,i,r,o,a,c){this.key=e,this.documentType=t,this.version=i,this.readTime=r,this.createTime=o,this.data=a,this.documentState=c}static newInvalidDocument(e){return new n(e,0,H.min(),H.min(),H.min(),st.empty(),0)}static newFoundDocument(e,t,i,r){return new n(e,1,t,H.min(),i,r,0)}static newNoDocument(e,t){return new n(e,2,t,H.min(),H.min(),st.empty(),0)}static newUnknownDocument(e,t){return new n(e,3,t,H.min(),H.min(),st.empty(),2)}convertToFoundDocument(e,t){return!this.createTime.isEqual(H.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=t,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=st.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=st.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=H.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof n&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new n(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}};var er=class{constructor(e,t){this.position=e,this.inclusive=t}};function a_(n,e,t){let i=0;for(let r=0;r<n.position.length;r++){let o=e[r],a=n.position[r];if(o.field.isKeyField()?i=L.comparator(L.fromName(a.referenceValue),t.key):i=Ji(a,t.data.field(o.field)),o.dir==="desc"&&(i*=-1),i!==0)break}return i}function c_(n,e){if(n===null)return e===null;if(e===null||n.inclusive!==e.inclusive||n.position.length!==e.position.length)return!1;for(let t=0;t<n.position.length;t++)if(!Vt(n.position[t],e.position[t]))return!1;return!0}var tr=class{constructor(e,t="asc"){this.field=e,this.dir=t}};function VA(n,e){return n.dir===e.dir&&n.field.isEqual(e.field)}var ba=class{},Se=class n extends ba{constructor(e,t,i){super(),this.field=e,this.op=t,this.value=i}static create(e,t,i){return e.isKeyField()?t==="in"||t==="not-in"?this.createKeyFieldInFilter(e,t,i):new Zu(e,t,i):t==="array-contains"?new nd(e,i):t==="in"?new id(e,i):t==="not-in"?new rd(e,i):t==="array-contains-any"?new od(e,i):new n(e,t,i)}static createKeyFieldInFilter(e,t,i){return t==="in"?new ed(e,i):new td(e,i)}matches(e){let t=e.data.field(this.field);return this.op==="!="?t!==null&&t.nullValue===void 0&&this.matchesComparison(Ji(t,this.value)):t!==null&&Fn(this.value)===Fn(t)&&this.matchesComparison(Ji(t,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return V(47266,{operator:this.op})}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}},St=class n extends ba{constructor(e,t){super(),this.filters=e,this.op=t,this.he=null}static create(e,t){return new n(e,t)}matches(e){return hv(this)?this.filters.find(t=>!t.matches(e))===void 0:this.filters.find(t=>t.matches(e))!==void 0}getFlattenedFilters(){return this.he!==null||(this.he=this.filters.reduce((e,t)=>e.concat(t.getFlattenedFilters()),[])),this.he}getFilters(){return Object.assign([],this.filters)}};function hv(n){return n.op==="and"}function fv(n){return UA(n)&&hv(n)}function UA(n){for(let e of n.filters)if(e instanceof St)return!1;return!0}function Ju(n){if(n instanceof Se)return n.field.canonicalString()+n.op.toString()+Zi(n.value);if(fv(n))return n.filters.map(e=>Ju(e)).join(",");{let e=n.filters.map(t=>Ju(t)).join(",");return`${n.op}(${e})`}}function mv(n,e){return n instanceof Se?(function(i,r){return r instanceof Se&&i.op===r.op&&i.field.isEqual(r.field)&&Vt(i.value,r.value)})(n,e):n instanceof St?(function(i,r){return r instanceof St&&i.op===r.op&&i.filters.length===r.filters.length?i.filters.reduce((o,a,c)=>o&&mv(a,r.filters[c]),!0):!1})(n,e):void V(19439)}function pv(n){return n instanceof Se?(function(t){return`${t.field.canonicalString()} ${t.op} ${Zi(t.value)}`})(n):n instanceof St?(function(t){return t.op.toString()+" {"+t.getFilters().map(pv).join(" ,")+"}"})(n):"Filter"}var Zu=class extends Se{constructor(e,t,i){super(e,t,i),this.key=L.fromName(i.referenceValue)}matches(e){let t=L.comparator(e.key,this.key);return this.matchesComparison(t)}},ed=class extends Se{constructor(e,t){super(e,"in",t),this.keys=gv("in",t)}matches(e){return this.keys.some(t=>t.isEqual(e.key))}},td=class extends Se{constructor(e,t){super(e,"not-in",t),this.keys=gv("not-in",t)}matches(e){return!this.keys.some(t=>t.isEqual(e.key))}};function gv(n,e){var t;return(((t=e.arrayValue)===null||t===void 0?void 0:t.values)||[]).map(i=>L.fromName(i.referenceValue))}var nd=class extends Se{constructor(e,t){super(e,"array-contains",t)}matches(e){let t=e.data.field(this.field);return Rh(t)&&Ao(t.arrayValue,this.value)}},id=class extends Se{constructor(e,t){super(e,"in",t)}matches(e){let t=e.data.field(this.field);return t!==null&&Ao(this.value.arrayValue,t)}},rd=class extends Se{constructor(e,t){super(e,"not-in",t)}matches(e){if(Ao(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;let t=e.data.field(this.field);return t!==null&&t.nullValue===void 0&&!Ao(this.value.arrayValue,t)}},od=class extends Se{constructor(e,t){super(e,"array-contains-any",t)}matches(e){let t=e.data.field(this.field);return!(!Rh(t)||!t.arrayValue.values)&&t.arrayValue.values.some(i=>Ao(this.value.arrayValue,i))}};var sd=class{constructor(e,t=null,i=[],r=[],o=null,a=null,c=null){this.path=e,this.collectionGroup=t,this.orderBy=i,this.filters=r,this.limit=o,this.startAt=a,this.endAt=c,this.Pe=null}};function l_(n,e=null,t=[],i=[],r=null,o=null,a=null){return new sd(n,e,t,i,r,o,a)}function kh(n){let e=z(n);if(e.Pe===null){let t=e.path.canonicalString();e.collectionGroup!==null&&(t+="|cg:"+e.collectionGroup),t+="|f:",t+=e.filters.map(i=>Ju(i)).join(","),t+="|ob:",t+=e.orderBy.map(i=>(function(o){return o.field.canonicalString()+o.dir})(i)).join(","),Ka(e.limit)||(t+="|l:",t+=e.limit),e.startAt&&(t+="|lb:",t+=e.startAt.inclusive?"b:":"a:",t+=e.startAt.position.map(i=>Zi(i)).join(",")),e.endAt&&(t+="|ub:",t+=e.endAt.inclusive?"a:":"b:",t+=e.endAt.position.map(i=>Zi(i)).join(",")),e.Pe=t}return e.Pe}function Ph(n,e){if(n.limit!==e.limit||n.orderBy.length!==e.orderBy.length)return!1;for(let t=0;t<n.orderBy.length;t++)if(!VA(n.orderBy[t],e.orderBy[t]))return!1;if(n.filters.length!==e.filters.length)return!1;for(let t=0;t<n.filters.length;t++)if(!mv(n.filters[t],e.filters[t]))return!1;return n.collectionGroup===e.collectionGroup&&!!n.path.isEqual(e.path)&&!!c_(n.startAt,e.startAt)&&c_(n.endAt,e.endAt)}function ad(n){return L.isDocumentKey(n.path)&&n.collectionGroup===null&&n.filters.length===0}var ci=class{constructor(e,t=null,i=[],r=[],o=null,a="F",c=null,u=null){this.path=e,this.collectionGroup=t,this.explicitOrderBy=i,this.filters=r,this.limit=o,this.limitType=a,this.startAt=c,this.endAt=u,this.Te=null,this.Ie=null,this.de=null,this.startAt,this.endAt}};function BA(n,e,t,i,r,o,a,c){return new ci(n,e,t,i,r,o,a,c)}function Qa(n){return new ci(n)}function u_(n){return n.filters.length===0&&n.limit===null&&n.startAt==null&&n.endAt==null&&(n.explicitOrderBy.length===0||n.explicitOrderBy.length===1&&n.explicitOrderBy[0].field.isKeyField())}function _v(n){return n.collectionGroup!==null}function vo(n){let e=z(n);if(e.Te===null){e.Te=[];let t=new Set;for(let o of e.explicitOrderBy)e.Te.push(o),t.add(o.field.canonicalString());let i=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(a){let c=new Oe(at.comparator);return a.filters.forEach(u=>{u.getFlattenedFilters().forEach(h=>{h.isInequality()&&(c=c.add(h.field))})}),c})(e).forEach(o=>{t.has(o.canonicalString())||o.isKeyField()||e.Te.push(new tr(o,i))}),t.has(at.keyField().canonicalString())||e.Te.push(new tr(at.keyField(),i))}return e.Te}function Ft(n){let e=z(n);return e.Ie||(e.Ie=zA(e,vo(n))),e.Ie}function zA(n,e){if(n.limitType==="F")return l_(n.path,n.collectionGroup,e,n.filters,n.limit,n.startAt,n.endAt);{e=e.map(r=>{let o=r.dir==="desc"?"asc":"desc";return new tr(r.field,o)});let t=n.endAt?new er(n.endAt.position,n.endAt.inclusive):null,i=n.startAt?new er(n.startAt.position,n.startAt.inclusive):null;return l_(n.path,n.collectionGroup,e,n.filters,n.limit,t,i)}}function cd(n,e){let t=n.filters.concat([e]);return new ci(n.path,n.collectionGroup,n.explicitOrderBy.slice(),t,n.limit,n.limitType,n.startAt,n.endAt)}function ld(n,e,t){return new ci(n.path,n.collectionGroup,n.explicitOrderBy.slice(),n.filters.slice(),e,t,n.startAt,n.endAt)}function Xa(n,e){return Ph(Ft(n),Ft(e))&&n.limitType===e.limitType}function vv(n){return`${kh(Ft(n))}|lt:${n.limitType}`}function $i(n){return`Query(target=${(function(t){let i=t.path.canonicalString();return t.collectionGroup!==null&&(i+=" collectionGroup="+t.collectionGroup),t.filters.length>0&&(i+=`, filters: [${t.filters.map(r=>pv(r)).join(", ")}]`),Ka(t.limit)||(i+=", limit: "+t.limit),t.orderBy.length>0&&(i+=`, orderBy: [${t.orderBy.map(r=>(function(a){return`${a.field.canonicalString()} (${a.dir})`})(r)).join(", ")}]`),t.startAt&&(i+=", startAt: ",i+=t.startAt.inclusive?"b:":"a:",i+=t.startAt.position.map(r=>Zi(r)).join(",")),t.endAt&&(i+=", endAt: ",i+=t.endAt.inclusive?"a:":"b:",i+=t.endAt.position.map(r=>Zi(r)).join(",")),`Target(${i})`})(Ft(n))}; limitType=${n.limitType})`}function Ja(n,e){return e.isFoundDocument()&&(function(i,r){let o=r.key.path;return i.collectionGroup!==null?r.key.hasCollectionId(i.collectionGroup)&&i.path.isPrefixOf(o):L.isDocumentKey(i.path)?i.path.isEqual(o):i.path.isImmediateParentOf(o)})(n,e)&&(function(i,r){for(let o of vo(i))if(!o.field.isKeyField()&&r.data.field(o.field)===null)return!1;return!0})(n,e)&&(function(i,r){for(let o of i.filters)if(!o.matches(r))return!1;return!0})(n,e)&&(function(i,r){return!(i.startAt&&!(function(a,c,u){let h=a_(a,c,u);return a.inclusive?h<=0:h<0})(i.startAt,vo(i),r)||i.endAt&&!(function(a,c,u){let h=a_(a,c,u);return a.inclusive?h>=0:h>0})(i.endAt,vo(i),r))})(n,e)}function jA(n){return n.collectionGroup||(n.path.length%2==1?n.path.lastSegment():n.path.get(n.path.length-2))}function yv(n){return(e,t)=>{let i=!1;for(let r of vo(n)){let o=qA(r,e,t);if(o!==0)return o;i=i||r.field.isKeyField()}return 0}}function qA(n,e,t){let i=n.field.isKeyField()?L.comparator(e.key,t.key):(function(o,a,c){let u=a.data.field(o),h=c.data.field(o);return u!==null&&h!==null?Ji(u,h):V(42886)})(n.field,e,t);switch(n.dir){case"asc":return i;case"desc":return-1*i;default:return V(19790,{direction:n.dir})}}var on=class{constructor(e,t){this.mapKeyFn=e,this.equalsFn=t,this.inner={},this.innerSize=0}get(e){let t=this.mapKeyFn(e),i=this.inner[t];if(i!==void 0){for(let[r,o]of i)if(this.equalsFn(r,e))return o}}has(e){return this.get(e)!==void 0}set(e,t){let i=this.mapKeyFn(e),r=this.inner[i];if(r===void 0)return this.inner[i]=[[e,t]],void this.innerSize++;for(let o=0;o<r.length;o++)if(this.equalsFn(r[o][0],e))return void(r[o]=[e,t]);r.push([e,t]),this.innerSize++}delete(e){let t=this.mapKeyFn(e),i=this.inner[t];if(i===void 0)return!1;for(let r=0;r<i.length;r++)if(this.equalsFn(i[r][0],e))return i.length===1?delete this.inner[t]:i.splice(r,1),this.innerSize--,!0;return!1}forEach(e){Un(this.inner,(t,i)=>{for(let[r,o]of i)e(r,o)})}isEmpty(){return iv(this.inner)}size(){return this.innerSize}};var $A=new ve(L.comparator);function sn(){return $A}var bv=new ve(L.comparator);function go(...n){let e=bv;for(let t of n)e=e.insert(t.key,t);return e}function wv(n){let e=bv;return n.forEach((t,i)=>e=e.insert(t,i.overlayedDocument)),e}function ti(){return yo()}function Ev(){return yo()}function yo(){return new on(n=>n.toString(),(n,e)=>n.isEqual(e))}var WA=new ve(L.comparator),HA=new Oe(L.comparator);function Y(...n){let e=HA;for(let t of n)e=e.add(t);return e}var GA=new Oe(G);function KA(){return GA}function Dh(n,e){if(n.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:Io(e)?"-0":e}}function Iv(n){return{integerValue:""+n}}function YA(n,e){return TA(e)?Iv(e):Dh(n,e)}var nr=class{constructor(){this._=void 0}};function QA(n,e,t){return n instanceof ir?(function(r,o){let a={fields:{[ov]:{stringValue:rv},[av]:{timestampValue:{seconds:r.seconds,nanos:r.nanoseconds}}}};return o&&Sh(o)&&(o=Ya(o)),o&&(a.fields[sv]=o),{mapValue:a}})(t,e):n instanceof li?Av(n,e):n instanceof ui?Sv(n,e):(function(r,o){let a=Tv(r,o),c=d_(a)+d_(r.Ee);return Xu(a)&&Xu(r.Ee)?Iv(c):Dh(r.serializer,c)})(n,e)}function XA(n,e,t){return n instanceof li?Av(n,e):n instanceof ui?Sv(n,e):t}function Tv(n,e){return n instanceof rr?(function(i){return Xu(i)||(function(o){return!!o&&"doubleValue"in o})(i)})(e)?e:{integerValue:0}:null}var ir=class extends nr{},li=class extends nr{constructor(e){super(),this.elements=e}};function Av(n,e){let t=Cv(e);for(let i of n.elements)t.some(r=>Vt(r,i))||t.push(i);return{arrayValue:{values:t}}}var ui=class extends nr{constructor(e){super(),this.elements=e}};function Sv(n,e){let t=Cv(e);for(let i of n.elements)t=t.filter(r=>!Vt(r,i));return{arrayValue:{values:t}}}var rr=class extends nr{constructor(e,t){super(),this.serializer=e,this.Ee=t}};function d_(n){return le(n.integerValue||n.doubleValue)}function Cv(n){return Rh(n)&&n.arrayValue.values?n.arrayValue.values.slice():[]}function JA(n,e){return n.field.isEqual(e.field)&&(function(i,r){return i instanceof li&&r instanceof li||i instanceof ui&&r instanceof ui?Qi(i.elements,r.elements,Vt):i instanceof rr&&r instanceof rr?Vt(i.Ee,r.Ee):i instanceof ir&&r instanceof ir})(n.transform,e.transform)}var ud=class{constructor(e,t){this.version=e,this.transformResults=t}},kn=class n{constructor(e,t){this.updateTime=e,this.exists=t}static none(){return new n}static exists(e){return new n(void 0,e)}static updateTime(e){return new n(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}};function ha(n,e){return n.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(n.updateTime):n.exists===void 0||n.exists===e.isFoundDocument()}var or=class{};function xv(n,e){if(!n.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return n.isNoDocument()?new wa(n.key,kn.none()):new di(n.key,n.data,kn.none());{let t=n.data,i=st.empty(),r=new Oe(at.comparator);for(let o of e.fields)if(!r.has(o)){let a=t.field(o);a===null&&o.length>1&&(o=o.popLast(),a=t.field(o)),a===null?i.delete(o):i.set(o,a),r=r.add(o)}return new Ut(n.key,i,new dt(r.toArray()),kn.none())}}function ZA(n,e,t){n instanceof di?(function(r,o,a){let c=r.value.clone(),u=f_(r.fieldTransforms,o,a.transformResults);c.setAll(u),o.convertToFoundDocument(a.version,c).setHasCommittedMutations()})(n,e,t):n instanceof Ut?(function(r,o,a){if(!ha(r.precondition,o))return void o.convertToUnknownDocument(a.version);let c=f_(r.fieldTransforms,o,a.transformResults),u=o.data;u.setAll(Rv(r)),u.setAll(c),o.convertToFoundDocument(a.version,u).setHasCommittedMutations()})(n,e,t):(function(r,o,a){o.convertToNoDocument(a.version).setHasCommittedMutations()})(0,e,t)}function bo(n,e,t,i){return n instanceof di?(function(o,a,c,u){if(!ha(o.precondition,a))return c;let h=o.value.clone(),f=m_(o.fieldTransforms,u,a);return h.setAll(f),a.convertToFoundDocument(a.version,h).setHasLocalMutations(),null})(n,e,t,i):n instanceof Ut?(function(o,a,c,u){if(!ha(o.precondition,a))return c;let h=m_(o.fieldTransforms,u,a),f=a.data;return f.setAll(Rv(o)),f.setAll(h),a.convertToFoundDocument(a.version,f).setHasLocalMutations(),c===null?null:c.unionWith(o.fieldMask.fields).unionWith(o.fieldTransforms.map(p=>p.field))})(n,e,t,i):(function(o,a,c){return ha(o.precondition,a)?(a.convertToNoDocument(a.version).setHasLocalMutations(),null):c})(n,e,t)}function eS(n,e){let t=null;for(let i of n.fieldTransforms){let r=e.data.field(i.field),o=Tv(i.transform,r||null);o!=null&&(t===null&&(t=st.empty()),t.set(i.field,o))}return t||null}function h_(n,e){return n.type===e.type&&!!n.key.isEqual(e.key)&&!!n.precondition.isEqual(e.precondition)&&!!(function(i,r){return i===void 0&&r===void 0||!(!i||!r)&&Qi(i,r,(o,a)=>JA(o,a))})(n.fieldTransforms,e.fieldTransforms)&&(n.type===0?n.value.isEqual(e.value):n.type!==1||n.data.isEqual(e.data)&&n.fieldMask.isEqual(e.fieldMask))}var di=class extends or{constructor(e,t,i,r=[]){super(),this.key=e,this.value=t,this.precondition=i,this.fieldTransforms=r,this.type=0}getFieldMask(){return null}},Ut=class extends or{constructor(e,t,i,r,o=[]){super(),this.key=e,this.data=t,this.fieldMask=i,this.precondition=r,this.fieldTransforms=o,this.type=1}getFieldMask(){return this.fieldMask}};function Rv(n){let e=new Map;return n.fieldMask.fields.forEach(t=>{if(!t.isEmpty()){let i=n.data.field(t);e.set(t,i)}}),e}function f_(n,e,t){let i=new Map;ee(n.length===t.length,32656,{Ae:t.length,Re:n.length});for(let r=0;r<t.length;r++){let o=n[r],a=o.transform,c=e.data.field(o.field);i.set(o.field,XA(a,c,t[r]))}return i}function m_(n,e,t){let i=new Map;for(let r of n){let o=r.transform,a=t.data.field(r.field);i.set(r.field,QA(o,a,e))}return i}var wa=class extends or{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}},dd=class extends or{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}};var hd=class{constructor(e,t,i,r){this.batchId=e,this.localWriteTime=t,this.baseMutations=i,this.mutations=r}applyToRemoteDocument(e,t){let i=t.mutationResults;for(let r=0;r<this.mutations.length;r++){let o=this.mutations[r];o.key.isEqual(e.key)&&ZA(o,e,i[r])}}applyToLocalView(e,t){for(let i of this.baseMutations)i.key.isEqual(e.key)&&(t=bo(i,e,t,this.localWriteTime));for(let i of this.mutations)i.key.isEqual(e.key)&&(t=bo(i,e,t,this.localWriteTime));return t}applyToLocalDocumentSet(e,t){let i=Ev();return this.mutations.forEach(r=>{let o=e.get(r.key),a=o.overlayedDocument,c=this.applyToLocalView(a,o.mutatedFields);c=t.has(r.key)?null:c;let u=xv(a,c);u!==null&&i.set(r.key,u),a.isValidDocument()||a.convertToNoDocument(H.min())}),i}keys(){return this.mutations.reduce((e,t)=>e.add(t.key),Y())}isEqual(e){return this.batchId===e.batchId&&Qi(this.mutations,e.mutations,(t,i)=>h_(t,i))&&Qi(this.baseMutations,e.baseMutations,(t,i)=>h_(t,i))}},fd=class n{constructor(e,t,i,r){this.batch=e,this.commitVersion=t,this.mutationResults=i,this.docVersions=r}static from(e,t,i){ee(e.mutations.length===i.length,58842,{Ve:e.mutations.length,me:i.length});let r=(function(){return WA})(),o=e.mutations;for(let a=0;a<o.length;a++)r=r.insert(o[a].key,i[a].version);return new n(e,t,i,r)}};var md=class{constructor(e,t){this.largestBatchId=e,this.mutation=t}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}};var pd=class{constructor(e,t){this.count=e,this.unchangedNames=t}};var Te,X;function tS(n){switch(n){case R.OK:return V(64938);case R.CANCELLED:case R.UNKNOWN:case R.DEADLINE_EXCEEDED:case R.RESOURCE_EXHAUSTED:case R.INTERNAL:case R.UNAVAILABLE:case R.UNAUTHENTICATED:return!1;case R.INVALID_ARGUMENT:case R.NOT_FOUND:case R.ALREADY_EXISTS:case R.PERMISSION_DENIED:case R.FAILED_PRECONDITION:case R.ABORTED:case R.OUT_OF_RANGE:case R.UNIMPLEMENTED:case R.DATA_LOSS:return!0;default:return V(15467,{code:n})}}function kv(n){if(n===void 0)return tn("GRPC error has no .code"),R.UNKNOWN;switch(n){case Te.OK:return R.OK;case Te.CANCELLED:return R.CANCELLED;case Te.UNKNOWN:return R.UNKNOWN;case Te.DEADLINE_EXCEEDED:return R.DEADLINE_EXCEEDED;case Te.RESOURCE_EXHAUSTED:return R.RESOURCE_EXHAUSTED;case Te.INTERNAL:return R.INTERNAL;case Te.UNAVAILABLE:return R.UNAVAILABLE;case Te.UNAUTHENTICATED:return R.UNAUTHENTICATED;case Te.INVALID_ARGUMENT:return R.INVALID_ARGUMENT;case Te.NOT_FOUND:return R.NOT_FOUND;case Te.ALREADY_EXISTS:return R.ALREADY_EXISTS;case Te.PERMISSION_DENIED:return R.PERMISSION_DENIED;case Te.FAILED_PRECONDITION:return R.FAILED_PRECONDITION;case Te.ABORTED:return R.ABORTED;case Te.OUT_OF_RANGE:return R.OUT_OF_RANGE;case Te.UNIMPLEMENTED:return R.UNIMPLEMENTED;case Te.DATA_LOSS:return R.DATA_LOSS;default:return V(39323,{code:n})}}(X=Te||(Te={}))[X.OK=0]="OK",X[X.CANCELLED=1]="CANCELLED",X[X.UNKNOWN=2]="UNKNOWN",X[X.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",X[X.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",X[X.NOT_FOUND=5]="NOT_FOUND",X[X.ALREADY_EXISTS=6]="ALREADY_EXISTS",X[X.PERMISSION_DENIED=7]="PERMISSION_DENIED",X[X.UNAUTHENTICATED=16]="UNAUTHENTICATED",X[X.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",X[X.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",X[X.ABORTED=10]="ABORTED",X[X.OUT_OF_RANGE=11]="OUT_OF_RANGE",X[X.UNIMPLEMENTED=12]="UNIMPLEMENTED",X[X.INTERNAL=13]="INTERNAL",X[X.UNAVAILABLE=14]="UNAVAILABLE",X[X.DATA_LOSS=15]="DATA_LOSS";var p_=null;var nS=new Zt([4294967295,4294967295],0);function g_(n){let e=B_().encode(n),t=new ku;return t.update(e),new Uint8Array(t.digest())}function __(n){let e=new DataView(n.buffer),t=e.getUint32(0,!0),i=e.getUint32(4,!0),r=e.getUint32(8,!0),o=e.getUint32(12,!0);return[new Zt([t,i],0),new Zt([r,o],0)]}var gd=class n{constructor(e,t,i){if(this.bitmap=e,this.padding=t,this.hashCount=i,t<0||t>=8)throw new ni(`Invalid padding: ${t}`);if(i<0)throw new ni(`Invalid hash count: ${i}`);if(e.length>0&&this.hashCount===0)throw new ni(`Invalid hash count: ${i}`);if(e.length===0&&t!==0)throw new ni(`Invalid padding when bitmap length is 0: ${t}`);this.fe=8*e.length-t,this.ge=Zt.fromNumber(this.fe)}pe(e,t,i){let r=e.add(t.multiply(Zt.fromNumber(i)));return r.compare(nS)===1&&(r=new Zt([r.getBits(0),r.getBits(1)],0)),r.modulo(this.ge).toNumber()}ye(e){return!!(this.bitmap[Math.floor(e/8)]&1<<e%8)}mightContain(e){if(this.fe===0)return!1;let t=g_(e),[i,r]=__(t);for(let o=0;o<this.hashCount;o++){let a=this.pe(i,r,o);if(!this.ye(a))return!1}return!0}static create(e,t,i){let r=e%8==0?0:8-e%8,o=new Uint8Array(Math.ceil(e/8)),a=new n(o,r,t);return i.forEach(c=>a.insert(c)),a}insert(e){if(this.fe===0)return;let t=g_(e),[i,r]=__(t);for(let o=0;o<this.hashCount;o++){let a=this.pe(i,r,o);this.we(a)}}we(e){let t=Math.floor(e/8),i=e%8;this.bitmap[t]|=1<<i}},ni=class extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}};var Ea=class n{constructor(e,t,i,r,o){this.snapshotVersion=e,this.targetChanges=t,this.targetMismatches=i,this.documentUpdates=r,this.resolvedLimboDocuments=o}static createSynthesizedRemoteEventForCurrentChange(e,t,i){let r=new Map;return r.set(e,So.createSynthesizedTargetChangeForCurrentChange(e,t,i)),new n(H.min(),r,new ve(G),sn(),Y())}},So=class n{constructor(e,t,i,r,o){this.resumeToken=e,this.current=t,this.addedDocuments=i,this.modifiedDocuments=r,this.removedDocuments=o}static createSynthesizedTargetChangeForCurrentChange(e,t,i){return new n(i,t,Y(),Y(),Y())}};var Ki=class{constructor(e,t,i,r){this.Se=e,this.removedTargetIds=t,this.key=i,this.be=r}},Ia=class{constructor(e,t){this.targetId=e,this.De=t}},Ta=class{constructor(e,t,i=We.EMPTY_BYTE_STRING,r=null){this.state=e,this.targetIds=t,this.resumeToken=i,this.cause=r}},Aa=class{constructor(){this.ve=0,this.Ce=v_(),this.Fe=We.EMPTY_BYTE_STRING,this.Me=!1,this.xe=!0}get current(){return this.Me}get resumeToken(){return this.Fe}get Oe(){return this.ve!==0}get Ne(){return this.xe}Be(e){e.approximateByteSize()>0&&(this.xe=!0,this.Fe=e)}Le(){let e=Y(),t=Y(),i=Y();return this.Ce.forEach((r,o)=>{switch(o){case 0:e=e.add(r);break;case 2:t=t.add(r);break;case 1:i=i.add(r);break;default:V(38017,{changeType:o})}}),new So(this.Fe,this.Me,e,t,i)}ke(){this.xe=!1,this.Ce=v_()}qe(e,t){this.xe=!0,this.Ce=this.Ce.insert(e,t)}Qe(e){this.xe=!0,this.Ce=this.Ce.remove(e)}$e(){this.ve+=1}Ue(){this.ve-=1,ee(this.ve>=0,3241,{ve:this.ve})}Ke(){this.xe=!0,this.Me=!0}},_d=class{constructor(e){this.We=e,this.Ge=new Map,this.ze=sn(),this.je=ca(),this.Je=ca(),this.He=new ve(G)}Ye(e){for(let t of e.Se)e.be&&e.be.isFoundDocument()?this.Ze(t,e.be):this.Xe(t,e.key,e.be);for(let t of e.removedTargetIds)this.Xe(t,e.key,e.be)}et(e){this.forEachTarget(e,t=>{let i=this.tt(t);switch(e.state){case 0:this.nt(t)&&i.Be(e.resumeToken);break;case 1:i.Ue(),i.Oe||i.ke(),i.Be(e.resumeToken);break;case 2:i.Ue(),i.Oe||this.removeTarget(t);break;case 3:this.nt(t)&&(i.Ke(),i.Be(e.resumeToken));break;case 4:this.nt(t)&&(this.rt(t),i.Be(e.resumeToken));break;default:V(56790,{state:e.state})}})}forEachTarget(e,t){e.targetIds.length>0?e.targetIds.forEach(t):this.Ge.forEach((i,r)=>{this.nt(r)&&t(r)})}it(e){let t=e.targetId,i=e.De.count,r=this.st(t);if(r){let o=r.target;if(ad(o))if(i===0){let a=new L(o.path);this.Xe(t,a,At.newNoDocument(a,H.min()))}else ee(i===1,20013,{expectedCount:i});else{let a=this.ot(t);if(a!==i){let c=this._t(e),u=c?this.ut(c,e,a):1;if(u!==0){this.rt(t);let h=u===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.He=this.He.insert(t,h)}p_?.ct((function(f,p,v,C,k){var O,D,j,B,q,ne;let He={localCacheCount:f,existenceFilterCount:p.count,databaseId:v.database,projectId:v.projectId},te=p.unchangedNames;return te&&(He.bloomFilter={applied:k===0,hashCount:(O=te?.hashCount)!==null&&O!==void 0?O:0,bitmapLength:(B=(j=(D=te?.bits)===null||D===void 0?void 0:D.bitmap)===null||j===void 0?void 0:j.length)!==null&&B!==void 0?B:0,padding:(ne=(q=te?.bits)===null||q===void 0?void 0:q.padding)!==null&&ne!==void 0?ne:0,mightContain:E=>{var g;return(g=C?.mightContain(E))!==null&&g!==void 0&&g}}),He})(a,e.De,this.We.lt(),c,u))}}}}_t(e){let t=e.De.unchangedNames;if(!t||!t.bits)return null;let{bits:{bitmap:i="",padding:r=0},hashCount:o=0}=t,a,c;try{a=rn(i).toUint8Array()}catch(u){if(u instanceof _a)return Mn("Decoding the base64 bloom filter in existence filter failed ("+u.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw u}try{c=new gd(a,r,o)}catch(u){return Mn(u instanceof ni?"BloomFilter error: ":"Applying bloom filter failed: ",u),null}return c.fe===0?null:c}ut(e,t,i){return t.De.count===i-this.ht(e,t.targetId)?0:2}ht(e,t){let i=this.We.getRemoteKeysForTarget(t),r=0;return i.forEach(o=>{let a=this.We.lt(),c=`projects/${a.projectId}/databases/${a.database}/documents/${o.path.canonicalString()}`;e.mightContain(c)||(this.Xe(t,o,null),r++)}),r}Pt(e){let t=new Map;this.Ge.forEach((o,a)=>{let c=this.st(a);if(c){if(o.current&&ad(c.target)){let u=new L(c.target.path);this.Tt(u).has(a)||this.It(a,u)||this.Xe(a,u,At.newNoDocument(u,e))}o.Ne&&(t.set(a,o.Le()),o.ke())}});let i=Y();this.Je.forEach((o,a)=>{let c=!0;a.forEachWhile(u=>{let h=this.st(u);return!h||h.purpose==="TargetPurposeLimboResolution"||(c=!1,!1)}),c&&(i=i.add(o))}),this.ze.forEach((o,a)=>a.setReadTime(e));let r=new Ea(e,t,this.He,this.ze,i);return this.ze=sn(),this.je=ca(),this.Je=ca(),this.He=new ve(G),r}Ze(e,t){if(!this.nt(e))return;let i=this.It(e,t.key)?2:0;this.tt(e).qe(t.key,i),this.ze=this.ze.insert(t.key,t),this.je=this.je.insert(t.key,this.Tt(t.key).add(e)),this.Je=this.Je.insert(t.key,this.dt(t.key).add(e))}Xe(e,t,i){if(!this.nt(e))return;let r=this.tt(e);this.It(e,t)?r.qe(t,1):r.Qe(t),this.Je=this.Je.insert(t,this.dt(t).delete(e)),this.Je=this.Je.insert(t,this.dt(t).add(e)),i&&(this.ze=this.ze.insert(t,i))}removeTarget(e){this.Ge.delete(e)}ot(e){let t=this.tt(e).Le();return this.We.getRemoteKeysForTarget(e).size+t.addedDocuments.size-t.removedDocuments.size}$e(e){this.tt(e).$e()}tt(e){let t=this.Ge.get(e);return t||(t=new Aa,this.Ge.set(e,t)),t}dt(e){let t=this.Je.get(e);return t||(t=new Oe(G),this.Je=this.Je.insert(e,t)),t}Tt(e){let t=this.je.get(e);return t||(t=new Oe(G),this.je=this.je.insert(e,t)),t}nt(e){let t=this.st(e)!==null;return t||F("WatchChangeAggregator","Detected inactive target",e),t}st(e){let t=this.Ge.get(e);return t&&t.Oe?null:this.We.Et(e)}rt(e){this.Ge.set(e,new Aa),this.We.getRemoteKeysForTarget(e).forEach(t=>{this.Xe(e,t,null)})}It(e,t){return this.We.getRemoteKeysForTarget(e).has(t)}};function ca(){return new ve(L.comparator)}function v_(){return new ve(L.comparator)}var iS={asc:"ASCENDING",desc:"DESCENDING"},rS={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},oS={and:"AND",or:"OR"},vd=class{constructor(e,t){this.databaseId=e,this.useProto3Json=t}};function yd(n,e){return n.useProto3Json||Ka(e)?e:{value:e}}function Sa(n,e){return n.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function Pv(n,e){return n.useProto3Json?e.toBase64():e.toUint8Array()}function sS(n,e){return Sa(n,e.toTimestamp())}function Lt(n){return ee(!!n,49232),H.fromTimestamp((function(t){let i=nn(t);return new _e(i.seconds,i.nanos)})(n))}function Oh(n,e){return bd(n,e).canonicalString()}function bd(n,e){let t=(function(r){return new ue(["projects",r.projectId,"databases",r.database])})(n).child("documents");return e===void 0?t:t.child(e)}function Dv(n){let e=ue.fromString(n);return ee(Lv(e),10190,{key:e.toString()}),e}function wd(n,e){return Oh(n.databaseId,e.path)}function Fu(n,e){let t=Dv(e);if(t.get(1)!==n.databaseId.projectId)throw new M(R.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+t.get(1)+" vs "+n.databaseId.projectId);if(t.get(3)!==n.databaseId.database)throw new M(R.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+t.get(3)+" vs "+n.databaseId.database);return new L(Nv(t))}function Ov(n,e){return Oh(n.databaseId,e)}function aS(n){let e=Dv(n);return e.length===4?ue.emptyPath():Nv(e)}function Ed(n){return new ue(["projects",n.databaseId.projectId,"databases",n.databaseId.database]).canonicalString()}function Nv(n){return ee(n.length>4&&n.get(4)==="documents",29091,{key:n.toString()}),n.popFirst(5)}function y_(n,e,t){return{name:wd(n,e),fields:t.value.mapValue.fields}}function cS(n,e){let t;if("targetChange"in e){e.targetChange;let i=(function(h){return h==="NO_CHANGE"?0:h==="ADD"?1:h==="REMOVE"?2:h==="CURRENT"?3:h==="RESET"?4:V(39313,{state:h})})(e.targetChange.targetChangeType||"NO_CHANGE"),r=e.targetChange.targetIds||[],o=(function(h,f){return h.useProto3Json?(ee(f===void 0||typeof f=="string",58123),We.fromBase64String(f||"")):(ee(f===void 0||f instanceof Buffer||f instanceof Uint8Array,16193),We.fromUint8Array(f||new Uint8Array))})(n,e.targetChange.resumeToken),a=e.targetChange.cause,c=a&&(function(h){let f=h.code===void 0?R.UNKNOWN:kv(h.code);return new M(f,h.message||"")})(a);t=new Ta(i,r,o,c||null)}else if("documentChange"in e){e.documentChange;let i=e.documentChange;i.document,i.document.name,i.document.updateTime;let r=Fu(n,i.document.name),o=Lt(i.document.updateTime),a=i.document.createTime?Lt(i.document.createTime):H.min(),c=new st({mapValue:{fields:i.document.fields}}),u=At.newFoundDocument(r,o,a,c),h=i.targetIds||[],f=i.removedTargetIds||[];t=new Ki(h,f,u.key,u)}else if("documentDelete"in e){e.documentDelete;let i=e.documentDelete;i.document;let r=Fu(n,i.document),o=i.readTime?Lt(i.readTime):H.min(),a=At.newNoDocument(r,o),c=i.removedTargetIds||[];t=new Ki([],c,a.key,a)}else if("documentRemove"in e){e.documentRemove;let i=e.documentRemove;i.document;let r=Fu(n,i.document),o=i.removedTargetIds||[];t=new Ki([],o,r,null)}else{if(!("filter"in e))return V(11601,{At:e});{e.filter;let i=e.filter;i.targetId;let{count:r=0,unchangedNames:o}=i,a=new pd(r,o),c=i.targetId;t=new Ia(c,a)}}return t}function lS(n,e){let t;if(e instanceof di)t={update:y_(n,e.key,e.value)};else if(e instanceof wa)t={delete:wd(n,e.key)};else if(e instanceof Ut)t={update:y_(n,e.key,e.data),updateMask:vS(e.fieldMask)};else{if(!(e instanceof dd))return V(16599,{Rt:e.type});t={verify:wd(n,e.key)}}return e.fieldTransforms.length>0&&(t.updateTransforms=e.fieldTransforms.map(i=>(function(o,a){let c=a.transform;if(c instanceof ir)return{fieldPath:a.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(c instanceof li)return{fieldPath:a.field.canonicalString(),appendMissingElements:{values:c.elements}};if(c instanceof ui)return{fieldPath:a.field.canonicalString(),removeAllFromArray:{values:c.elements}};if(c instanceof rr)return{fieldPath:a.field.canonicalString(),increment:c.Ee};throw V(20930,{transform:a.transform})})(0,i))),e.precondition.isNone||(t.currentDocument=(function(r,o){return o.updateTime!==void 0?{updateTime:sS(r,o.updateTime)}:o.exists!==void 0?{exists:o.exists}:V(27497)})(n,e.precondition)),t}function uS(n,e){return n&&n.length>0?(ee(e!==void 0,14353),n.map(t=>(function(r,o){let a=r.updateTime?Lt(r.updateTime):Lt(o);return a.isEqual(H.min())&&(a=Lt(o)),new ud(a,r.transformResults||[])})(t,e))):[]}function dS(n,e){return{documents:[Ov(n,e.path)]}}function hS(n,e){let t={structuredQuery:{}},i=e.path,r;e.collectionGroup!==null?(r=i,t.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(r=i.popLast(),t.structuredQuery.from=[{collectionId:i.lastSegment()}]),t.parent=Ov(n,r);let o=(function(h){if(h.length!==0)return Fv(St.create(h,"and"))})(e.filters);o&&(t.structuredQuery.where=o);let a=(function(h){if(h.length!==0)return h.map(f=>(function(v){return{field:Wi(v.field),direction:pS(v.dir)}})(f))})(e.orderBy);a&&(t.structuredQuery.orderBy=a);let c=yd(n,e.limit);return c!==null&&(t.structuredQuery.limit=c),e.startAt&&(t.structuredQuery.startAt=(function(h){return{before:h.inclusive,values:h.position}})(e.startAt)),e.endAt&&(t.structuredQuery.endAt=(function(h){return{before:!h.inclusive,values:h.position}})(e.endAt)),{Vt:t,parent:r}}function fS(n){let e=aS(n.parent),t=n.structuredQuery,i=t.from?t.from.length:0,r=null;if(i>0){ee(i===1,65062);let f=t.from[0];f.allDescendants?r=f.collectionId:e=e.child(f.collectionId)}let o=[];t.where&&(o=(function(p){let v=Mv(p);return v instanceof St&&fv(v)?v.getFilters():[v]})(t.where));let a=[];t.orderBy&&(a=(function(p){return p.map(v=>(function(k){return new tr(Hi(k.field),(function(D){switch(D){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}})(k.direction))})(v))})(t.orderBy));let c=null;t.limit&&(c=(function(p){let v;return v=typeof p=="object"?p.value:p,Ka(v)?null:v})(t.limit));let u=null;t.startAt&&(u=(function(p){let v=!!p.before,C=p.values||[];return new er(C,v)})(t.startAt));let h=null;return t.endAt&&(h=(function(p){let v=!p.before,C=p.values||[];return new er(C,v)})(t.endAt)),BA(e,r,a,o,c,"F",u,h)}function mS(n,e){let t=(function(r){switch(r){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return V(28987,{purpose:r})}})(e.purpose);return t==null?null:{"goog-listen-tags":t}}function Mv(n){return n.unaryFilter!==void 0?(function(t){switch(t.unaryFilter.op){case"IS_NAN":let i=Hi(t.unaryFilter.field);return Se.create(i,"==",{doubleValue:NaN});case"IS_NULL":let r=Hi(t.unaryFilter.field);return Se.create(r,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":let o=Hi(t.unaryFilter.field);return Se.create(o,"!=",{doubleValue:NaN});case"IS_NOT_NULL":let a=Hi(t.unaryFilter.field);return Se.create(a,"!=",{nullValue:"NULL_VALUE"});case"OPERATOR_UNSPECIFIED":return V(61313);default:return V(60726)}})(n):n.fieldFilter!==void 0?(function(t){return Se.create(Hi(t.fieldFilter.field),(function(r){switch(r){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";case"OPERATOR_UNSPECIFIED":return V(58110);default:return V(50506)}})(t.fieldFilter.op),t.fieldFilter.value)})(n):n.compositeFilter!==void 0?(function(t){return St.create(t.compositeFilter.filters.map(i=>Mv(i)),(function(r){switch(r){case"AND":return"and";case"OR":return"or";default:return V(1026)}})(t.compositeFilter.op))})(n):V(30097,{filter:n})}function pS(n){return iS[n]}function gS(n){return rS[n]}function _S(n){return oS[n]}function Wi(n){return{fieldPath:n.canonicalString()}}function Hi(n){return at.fromServerFormat(n.fieldPath)}function Fv(n){return n instanceof Se?(function(t){if(t.op==="=="){if(s_(t.value))return{unaryFilter:{field:Wi(t.field),op:"IS_NAN"}};if(o_(t.value))return{unaryFilter:{field:Wi(t.field),op:"IS_NULL"}}}else if(t.op==="!="){if(s_(t.value))return{unaryFilter:{field:Wi(t.field),op:"IS_NOT_NAN"}};if(o_(t.value))return{unaryFilter:{field:Wi(t.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:Wi(t.field),op:gS(t.op),value:t.value}}})(n):n instanceof St?(function(t){let i=t.getFilters().map(r=>Fv(r));return i.length===1?i[0]:{compositeFilter:{op:_S(t.op),filters:i}}})(n):V(54877,{filter:n})}function vS(n){let e=[];return n.fields.forEach(t=>e.push(t.canonicalString())),{fieldPaths:e}}function Lv(n){return n.length>=4&&n.get(0)==="projects"&&n.get(2)==="databases"}var Co=class n{constructor(e,t,i,r,o=H.min(),a=H.min(),c=We.EMPTY_BYTE_STRING,u=null){this.target=e,this.targetId=t,this.purpose=i,this.sequenceNumber=r,this.snapshotVersion=o,this.lastLimboFreeSnapshotVersion=a,this.resumeToken=c,this.expectedCount=u}withSequenceNumber(e){return new n(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,t){return new n(this.target,this.targetId,this.purpose,this.sequenceNumber,t,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new n(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new n(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}};var Id=class{constructor(e){this.gt=e}};function yS(n){let e=fS({parent:n.parent,structuredQuery:n.structuredQuery});return n.limitType==="LAST"?ld(e,e.limit,"L"):e}var Ca=class{constructor(){}bt(e,t){this.Dt(e,t),t.vt()}Dt(e,t){if("nullValue"in e)this.Ct(t,5);else if("booleanValue"in e)this.Ct(t,10),t.Ft(e.booleanValue?1:0);else if("integerValue"in e)this.Ct(t,15),t.Ft(le(e.integerValue));else if("doubleValue"in e){let i=le(e.doubleValue);isNaN(i)?this.Ct(t,13):(this.Ct(t,15),Io(i)?t.Ft(0):t.Ft(i))}else if("timestampValue"in e){let i=e.timestampValue;this.Ct(t,20),typeof i=="string"&&(i=nn(i)),t.Mt(`${i.seconds||""}`),t.Ft(i.nanos||0)}else if("stringValue"in e)this.xt(e.stringValue,t),this.Ot(t);else if("bytesValue"in e)this.Ct(t,30),t.Nt(rn(e.bytesValue)),this.Ot(t);else if("referenceValue"in e)this.Bt(e.referenceValue,t);else if("geoPointValue"in e){let i=e.geoPointValue;this.Ct(t,45),t.Ft(i.latitude||0),t.Ft(i.longitude||0)}else"mapValue"in e?uv(e)?this.Ct(t,Number.MAX_SAFE_INTEGER):lv(e)?this.Lt(e.mapValue,t):(this.kt(e.mapValue,t),this.Ot(t)):"arrayValue"in e?(this.qt(e.arrayValue,t),this.Ot(t)):V(19022,{Qt:e})}xt(e,t){this.Ct(t,25),this.$t(e,t)}$t(e,t){t.Mt(e)}kt(e,t){let i=e.fields||{};this.Ct(t,55);for(let r of Object.keys(i))this.xt(r,t),this.Dt(i[r],t)}Lt(e,t){var i,r;let o=e.fields||{};this.Ct(t,53);let a=Xi,c=((r=(i=o[a].arrayValue)===null||i===void 0?void 0:i.values)===null||r===void 0?void 0:r.length)||0;this.Ct(t,15),t.Ft(le(c)),this.xt(a,t),this.Dt(o[a],t)}qt(e,t){let i=e.values||[];this.Ct(t,50);for(let r of i)this.Dt(r,t)}Bt(e,t){this.Ct(t,37),L.fromName(e).path.forEach(i=>{this.Ct(t,60),this.$t(i,t)})}Ct(e,t){e.Ft(t)}Ot(e){e.Ft(2)}};Ca.Ut=new Ca;var Td=class{constructor(){this.Dn=new Ad}addToCollectionParentIndex(e,t){return this.Dn.add(t),P.resolve()}getCollectionParents(e,t){return P.resolve(this.Dn.getEntries(t))}addFieldIndex(e,t){return P.resolve()}deleteFieldIndex(e,t){return P.resolve()}deleteAllFieldIndexes(e){return P.resolve()}createTargetIndexes(e,t){return P.resolve()}getDocumentsMatchingTarget(e,t){return P.resolve(null)}getIndexType(e,t){return P.resolve(0)}getFieldIndexes(e,t){return P.resolve([])}getNextCollectionGroupToUpdate(e){return P.resolve(null)}getMinOffset(e,t){return P.resolve(ai.min())}getMinOffsetFromCollectionGroup(e,t){return P.resolve(ai.min())}updateCollectionGroup(e,t,i){return P.resolve()}updateIndexEntries(e,t){return P.resolve()}},Ad=class{constructor(){this.index={}}add(e){let t=e.lastSegment(),i=e.popLast(),r=this.index[t]||new Oe(ue.comparator),o=!r.has(i);return this.index[t]=r.add(i),o}has(e){let t=e.lastSegment(),i=e.popLast(),r=this.index[t];return r&&r.has(i)}getEntries(e){return(this.index[e]||new Oe(ue.comparator)).toArray()}};var LP=new Uint8Array(0);var b_={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},Vv=41943040,ut=class n{static withCacheSize(e){return new n(e,n.DEFAULT_COLLECTION_PERCENTILE,n.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(e,t,i){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=t,this.maximumSequenceNumbersToCollect=i}};ut.DEFAULT_COLLECTION_PERCENTILE=10,ut.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,ut.DEFAULT=new ut(Vv,ut.DEFAULT_COLLECTION_PERCENTILE,ut.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),ut.DISABLED=new ut(-1,0,0);var xo=class n{constructor(e){this._r=e}next(){return this._r+=2,this._r}static ar(){return new n(0)}static ur(){return new n(-1)}};var w_="LruGarbageCollector",bS=1048576;function E_([n,e],[t,i]){let r=G(n,t);return r===0?G(e,i):r}var Sd=class{constructor(e){this.Tr=e,this.buffer=new Oe(E_),this.Ir=0}dr(){return++this.Ir}Er(e){let t=[e,this.dr()];if(this.buffer.size<this.Tr)this.buffer=this.buffer.add(t);else{let i=this.buffer.last();E_(t,i)<0&&(this.buffer=this.buffer.delete(i).add(t))}}get maxValue(){return this.buffer.last()[0]}},Cd=class{constructor(e,t,i){this.garbageCollector=e,this.asyncQueue=t,this.localStore=i,this.Ar=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.Rr(6e4)}stop(){this.Ar&&(this.Ar.cancel(),this.Ar=null)}get started(){return this.Ar!==null}Rr(e){F(w_,`Garbage collection scheduled in ${e}ms`),this.Ar=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,()=>_(this,null,function*(){this.Ar=null;try{yield this.localStore.collectGarbage(this.garbageCollector)}catch(t){dr(t)?F(w_,"Ignoring IndexedDB error during garbage collection: ",t):yield ur(t)}yield this.Rr(3e5)}))}},xd=class{constructor(e,t){this.Vr=e,this.params=t}calculateTargetCount(e,t){return this.Vr.mr(e).next(i=>Math.floor(t/100*i))}nthSequenceNumber(e,t){if(t===0)return P.resolve(Th.ue);let i=new Sd(t);return this.Vr.forEachTarget(e,r=>i.Er(r.sequenceNumber)).next(()=>this.Vr.gr(e,r=>i.Er(r))).next(()=>i.maxValue)}removeTargets(e,t,i){return this.Vr.removeTargets(e,t,i)}removeOrphanedDocuments(e,t){return this.Vr.removeOrphanedDocuments(e,t)}collect(e,t){return this.params.cacheSizeCollectionThreshold===-1?(F("LruGarbageCollector","Garbage collection skipped; disabled"),P.resolve(b_)):this.getCacheSize(e).next(i=>i<this.params.cacheSizeCollectionThreshold?(F("LruGarbageCollector",`Garbage collection skipped; Cache size ${i} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),b_):this.pr(e,t))}getCacheSize(e){return this.Vr.getCacheSize(e)}pr(e,t){let i,r,o,a,c,u,h,f=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next(p=>(p>this.params.maximumSequenceNumbersToCollect?(F("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${p}`),r=this.params.maximumSequenceNumbersToCollect):r=p,a=Date.now(),this.nthSequenceNumber(e,r))).next(p=>(i=p,c=Date.now(),this.removeTargets(e,i,t))).next(p=>(o=p,u=Date.now(),this.removeOrphanedDocuments(e,i))).next(p=>(h=Date.now(),qi()<=K.DEBUG&&F("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${a-f}ms
	Determined least recently used ${r} in `+(c-a)+`ms
	Removed ${o} targets in `+(u-c)+`ms
	Removed ${p} documents in `+(h-u)+`ms
Total Duration: ${h-f}ms`),P.resolve({didRun:!0,sequenceNumbersCollected:r,targetsRemoved:o,documentsRemoved:p})))}};function wS(n,e){return new xd(n,e)}var Rd=class{constructor(){this.changes=new on(e=>e.toString(),(e,t)=>e.isEqual(t)),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,t){this.assertNotApplied(),this.changes.set(e,At.newInvalidDocument(e).setReadTime(t))}getEntry(e,t){this.assertNotApplied();let i=this.changes.get(t);return i!==void 0?P.resolve(i):this.getFromCache(e,t)}getEntries(e,t){return this.getAllFromCache(e,t)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}};var kd=class{constructor(e,t){this.overlayedDocument=e,this.mutatedFields=t}};var Pd=class{constructor(e,t,i,r){this.remoteDocumentCache=e,this.mutationQueue=t,this.documentOverlayCache=i,this.indexManager=r}getDocument(e,t){let i=null;return this.documentOverlayCache.getOverlay(e,t).next(r=>(i=r,this.remoteDocumentCache.getEntry(e,t))).next(r=>(i!==null&&bo(i.mutation,r,dt.empty(),_e.now()),r))}getDocuments(e,t){return this.remoteDocumentCache.getEntries(e,t).next(i=>this.getLocalViewOfDocuments(e,i,Y()).next(()=>i))}getLocalViewOfDocuments(e,t,i=Y()){let r=ti();return this.populateOverlays(e,r,t).next(()=>this.computeViews(e,t,r,i).next(o=>{let a=go();return o.forEach((c,u)=>{a=a.insert(c,u.overlayedDocument)}),a}))}getOverlayedDocuments(e,t){let i=ti();return this.populateOverlays(e,i,t).next(()=>this.computeViews(e,t,i,Y()))}populateOverlays(e,t,i){let r=[];return i.forEach(o=>{t.has(o)||r.push(o)}),this.documentOverlayCache.getOverlays(e,r).next(o=>{o.forEach((a,c)=>{t.set(a,c)})})}computeViews(e,t,i,r){let o=sn(),a=yo(),c=(function(){return yo()})();return t.forEach((u,h)=>{let f=i.get(h.key);r.has(h.key)&&(f===void 0||f.mutation instanceof Ut)?o=o.insert(h.key,h):f!==void 0?(a.set(h.key,f.mutation.getFieldMask()),bo(f.mutation,h,f.mutation.getFieldMask(),_e.now())):a.set(h.key,dt.empty())}),this.recalculateAndSaveOverlays(e,o).next(u=>(u.forEach((h,f)=>a.set(h,f)),t.forEach((h,f)=>{var p;return c.set(h,new kd(f,(p=a.get(h))!==null&&p!==void 0?p:null))}),c))}recalculateAndSaveOverlays(e,t){let i=yo(),r=new ve((a,c)=>a-c),o=Y();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,t).next(a=>{for(let c of a)c.keys().forEach(u=>{let h=t.get(u);if(h===null)return;let f=i.get(u)||dt.empty();f=c.applyToLocalView(h,f),i.set(u,f);let p=(r.get(c.batchId)||Y()).add(u);r=r.insert(c.batchId,p)})}).next(()=>{let a=[],c=r.getReverseIterator();for(;c.hasNext();){let u=c.getNext(),h=u.key,f=u.value,p=Ev();f.forEach(v=>{if(!o.has(v)){let C=xv(t.get(v),i.get(v));C!==null&&p.set(v,C),o=o.add(v)}}),a.push(this.documentOverlayCache.saveOverlays(e,h,p))}return P.waitFor(a)}).next(()=>i)}recalculateAndSaveOverlaysForDocumentKeys(e,t){return this.remoteDocumentCache.getEntries(e,t).next(i=>this.recalculateAndSaveOverlays(e,i))}getDocumentsMatchingQuery(e,t,i,r){return(function(a){return L.isDocumentKey(a.path)&&a.collectionGroup===null&&a.filters.length===0})(t)?this.getDocumentsMatchingDocumentQuery(e,t.path):_v(t)?this.getDocumentsMatchingCollectionGroupQuery(e,t,i,r):this.getDocumentsMatchingCollectionQuery(e,t,i,r)}getNextDocuments(e,t,i,r){return this.remoteDocumentCache.getAllFromCollectionGroup(e,t,i,r).next(o=>{let a=r-o.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,t,i.largestBatchId,r-o.size):P.resolve(ti()),c=Eo,u=o;return a.next(h=>P.forEach(h,(f,p)=>(c<p.largestBatchId&&(c=p.largestBatchId),o.get(f)?P.resolve():this.remoteDocumentCache.getEntry(e,f).next(v=>{u=u.insert(f,v)}))).next(()=>this.populateOverlays(e,h,o)).next(()=>this.computeViews(e,u,h,Y())).next(f=>({batchId:c,changes:wv(f)})))})}getDocumentsMatchingDocumentQuery(e,t){return this.getDocument(e,new L(t)).next(i=>{let r=go();return i.isFoundDocument()&&(r=r.insert(i.key,i)),r})}getDocumentsMatchingCollectionGroupQuery(e,t,i,r){let o=t.collectionGroup,a=go();return this.indexManager.getCollectionParents(e,o).next(c=>P.forEach(c,u=>{let h=(function(p,v){return new ci(v,null,p.explicitOrderBy.slice(),p.filters.slice(),p.limit,p.limitType,p.startAt,p.endAt)})(t,u.child(o));return this.getDocumentsMatchingCollectionQuery(e,h,i,r).next(f=>{f.forEach((p,v)=>{a=a.insert(p,v)})})}).next(()=>a))}getDocumentsMatchingCollectionQuery(e,t,i,r){let o;return this.documentOverlayCache.getOverlaysForCollection(e,t.path,i.largestBatchId).next(a=>(o=a,this.remoteDocumentCache.getDocumentsMatchingQuery(e,t,i,o,r))).next(a=>{o.forEach((u,h)=>{let f=h.getKey();a.get(f)===null&&(a=a.insert(f,At.newInvalidDocument(f)))});let c=go();return a.forEach((u,h)=>{let f=o.get(u);f!==void 0&&bo(f.mutation,h,dt.empty(),_e.now()),Ja(t,h)&&(c=c.insert(u,h))}),c})}};var Dd=class{constructor(e){this.serializer=e,this.Br=new Map,this.Lr=new Map}getBundleMetadata(e,t){return P.resolve(this.Br.get(t))}saveBundleMetadata(e,t){return this.Br.set(t.id,(function(r){return{id:r.id,version:r.version,createTime:Lt(r.createTime)}})(t)),P.resolve()}getNamedQuery(e,t){return P.resolve(this.Lr.get(t))}saveNamedQuery(e,t){return this.Lr.set(t.name,(function(r){return{name:r.name,query:yS(r.bundledQuery),readTime:Lt(r.readTime)}})(t)),P.resolve()}};var Od=class{constructor(){this.overlays=new ve(L.comparator),this.kr=new Map}getOverlay(e,t){return P.resolve(this.overlays.get(t))}getOverlays(e,t){let i=ti();return P.forEach(t,r=>this.getOverlay(e,r).next(o=>{o!==null&&i.set(r,o)})).next(()=>i)}saveOverlays(e,t,i){return i.forEach((r,o)=>{this.wt(e,t,o)}),P.resolve()}removeOverlaysForBatchId(e,t,i){let r=this.kr.get(i);return r!==void 0&&(r.forEach(o=>this.overlays=this.overlays.remove(o)),this.kr.delete(i)),P.resolve()}getOverlaysForCollection(e,t,i){let r=ti(),o=t.length+1,a=new L(t.child("")),c=this.overlays.getIteratorFrom(a);for(;c.hasNext();){let u=c.getNext().value,h=u.getKey();if(!t.isPrefixOf(h.path))break;h.path.length===o&&u.largestBatchId>i&&r.set(u.getKey(),u)}return P.resolve(r)}getOverlaysForCollectionGroup(e,t,i,r){let o=new ve((h,f)=>h-f),a=this.overlays.getIterator();for(;a.hasNext();){let h=a.getNext().value;if(h.getKey().getCollectionGroup()===t&&h.largestBatchId>i){let f=o.get(h.largestBatchId);f===null&&(f=ti(),o=o.insert(h.largestBatchId,f)),f.set(h.getKey(),h)}}let c=ti(),u=o.getIterator();for(;u.hasNext()&&(u.getNext().value.forEach((h,f)=>c.set(h,f)),!(c.size()>=r)););return P.resolve(c)}wt(e,t,i){let r=this.overlays.get(i.key);if(r!==null){let a=this.kr.get(r.largestBatchId).delete(i.key);this.kr.set(r.largestBatchId,a)}this.overlays=this.overlays.insert(i.key,new md(t,i));let o=this.kr.get(t);o===void 0&&(o=Y(),this.kr.set(t,o)),this.kr.set(t,o.add(i.key))}};var Nd=class{constructor(){this.sessionToken=We.EMPTY_BYTE_STRING}getSessionToken(e){return P.resolve(this.sessionToken)}setSessionToken(e,t){return this.sessionToken=t,P.resolve()}};var Ro=class{constructor(){this.qr=new Oe(Ae.Qr),this.$r=new Oe(Ae.Ur)}isEmpty(){return this.qr.isEmpty()}addReference(e,t){let i=new Ae(e,t);this.qr=this.qr.add(i),this.$r=this.$r.add(i)}Kr(e,t){e.forEach(i=>this.addReference(i,t))}removeReference(e,t){this.Wr(new Ae(e,t))}Gr(e,t){e.forEach(i=>this.removeReference(i,t))}zr(e){let t=new L(new ue([])),i=new Ae(t,e),r=new Ae(t,e+1),o=[];return this.$r.forEachInRange([i,r],a=>{this.Wr(a),o.push(a.key)}),o}jr(){this.qr.forEach(e=>this.Wr(e))}Wr(e){this.qr=this.qr.delete(e),this.$r=this.$r.delete(e)}Jr(e){let t=new L(new ue([])),i=new Ae(t,e),r=new Ae(t,e+1),o=Y();return this.$r.forEachInRange([i,r],a=>{o=o.add(a.key)}),o}containsKey(e){let t=new Ae(e,0),i=this.qr.firstAfterOrEqual(t);return i!==null&&e.isEqual(i.key)}},Ae=class{constructor(e,t){this.key=e,this.Hr=t}static Qr(e,t){return L.comparator(e.key,t.key)||G(e.Hr,t.Hr)}static Ur(e,t){return G(e.Hr,t.Hr)||L.comparator(e.key,t.key)}};var Md=class{constructor(e,t){this.indexManager=e,this.referenceDelegate=t,this.mutationQueue=[],this.er=1,this.Yr=new Oe(Ae.Qr)}checkEmpty(e){return P.resolve(this.mutationQueue.length===0)}addMutationBatch(e,t,i,r){let o=this.er;this.er++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];let a=new hd(o,t,i,r);this.mutationQueue.push(a);for(let c of r)this.Yr=this.Yr.add(new Ae(c.key,o)),this.indexManager.addToCollectionParentIndex(e,c.key.path.popLast());return P.resolve(a)}lookupMutationBatch(e,t){return P.resolve(this.Zr(t))}getNextMutationBatchAfterBatchId(e,t){let i=t+1,r=this.Xr(i),o=r<0?0:r;return P.resolve(this.mutationQueue.length>o?this.mutationQueue[o]:null)}getHighestUnacknowledgedBatchId(){return P.resolve(this.mutationQueue.length===0?Ah:this.er-1)}getAllMutationBatches(e){return P.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,t){let i=new Ae(t,0),r=new Ae(t,Number.POSITIVE_INFINITY),o=[];return this.Yr.forEachInRange([i,r],a=>{let c=this.Zr(a.Hr);o.push(c)}),P.resolve(o)}getAllMutationBatchesAffectingDocumentKeys(e,t){let i=new Oe(G);return t.forEach(r=>{let o=new Ae(r,0),a=new Ae(r,Number.POSITIVE_INFINITY);this.Yr.forEachInRange([o,a],c=>{i=i.add(c.Hr)})}),P.resolve(this.ei(i))}getAllMutationBatchesAffectingQuery(e,t){let i=t.path,r=i.length+1,o=i;L.isDocumentKey(o)||(o=o.child(""));let a=new Ae(new L(o),0),c=new Oe(G);return this.Yr.forEachWhile(u=>{let h=u.key.path;return!!i.isPrefixOf(h)&&(h.length===r&&(c=c.add(u.Hr)),!0)},a),P.resolve(this.ei(c))}ei(e){let t=[];return e.forEach(i=>{let r=this.Zr(i);r!==null&&t.push(r)}),t}removeMutationBatch(e,t){ee(this.ti(t.batchId,"removed")===0,55003),this.mutationQueue.shift();let i=this.Yr;return P.forEach(t.mutations,r=>{let o=new Ae(r.key,t.batchId);return i=i.delete(o),this.referenceDelegate.markPotentiallyOrphaned(e,r.key)}).next(()=>{this.Yr=i})}rr(e){}containsKey(e,t){let i=new Ae(t,0),r=this.Yr.firstAfterOrEqual(i);return P.resolve(t.isEqual(r&&r.key))}performConsistencyCheck(e){return this.mutationQueue.length,P.resolve()}ti(e,t){return this.Xr(e)}Xr(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}Zr(e){let t=this.Xr(e);return t<0||t>=this.mutationQueue.length?null:this.mutationQueue[t]}};var Fd=class{constructor(e){this.ni=e,this.docs=(function(){return new ve(L.comparator)})(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,t){let i=t.key,r=this.docs.get(i),o=r?r.size:0,a=this.ni(t);return this.docs=this.docs.insert(i,{document:t.mutableCopy(),size:a}),this.size+=a-o,this.indexManager.addToCollectionParentIndex(e,i.path.popLast())}removeEntry(e){let t=this.docs.get(e);t&&(this.docs=this.docs.remove(e),this.size-=t.size)}getEntry(e,t){let i=this.docs.get(t);return P.resolve(i?i.document.mutableCopy():At.newInvalidDocument(t))}getEntries(e,t){let i=sn();return t.forEach(r=>{let o=this.docs.get(r);i=i.insert(r,o?o.document.mutableCopy():At.newInvalidDocument(r))}),P.resolve(i)}getDocumentsMatchingQuery(e,t,i,r){let o=sn(),a=t.path,c=new L(a.child("__id-9223372036854775808__")),u=this.docs.getIteratorFrom(c);for(;u.hasNext();){let{key:h,value:{document:f}}=u.getNext();if(!a.isPrefixOf(h.path))break;h.path.length>a.length+1||wA(bA(f),i)<=0||(r.has(f.key)||Ja(t,f))&&(o=o.insert(f.key,f.mutableCopy()))}return P.resolve(o)}getAllFromCollectionGroup(e,t,i,r){V(9500)}ri(e,t){return P.forEach(this.docs,i=>t(i))}newChangeBuffer(e){return new Ld(this)}getSize(e){return P.resolve(this.size)}},Ld=class extends Rd{constructor(e){super(),this.Or=e}applyChanges(e){let t=[];return this.changes.forEach((i,r)=>{r.isValidDocument()?t.push(this.Or.addEntry(e,r)):this.Or.removeEntry(i)}),P.waitFor(t)}getFromCache(e,t){return this.Or.getEntry(e,t)}getAllFromCache(e,t){return this.Or.getEntries(e,t)}};var Vd=class{constructor(e){this.persistence=e,this.ii=new on(t=>kh(t),Ph),this.lastRemoteSnapshotVersion=H.min(),this.highestTargetId=0,this.si=0,this.oi=new Ro,this.targetCount=0,this._i=xo.ar()}forEachTarget(e,t){return this.ii.forEach((i,r)=>t(r)),P.resolve()}getLastRemoteSnapshotVersion(e){return P.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return P.resolve(this.si)}allocateTargetId(e){return this.highestTargetId=this._i.next(),P.resolve(this.highestTargetId)}setTargetsMetadata(e,t,i){return i&&(this.lastRemoteSnapshotVersion=i),t>this.si&&(this.si=t),P.resolve()}hr(e){this.ii.set(e.target,e);let t=e.targetId;t>this.highestTargetId&&(this._i=new xo(t),this.highestTargetId=t),e.sequenceNumber>this.si&&(this.si=e.sequenceNumber)}addTargetData(e,t){return this.hr(t),this.targetCount+=1,P.resolve()}updateTargetData(e,t){return this.hr(t),P.resolve()}removeTargetData(e,t){return this.ii.delete(t.target),this.oi.zr(t.targetId),this.targetCount-=1,P.resolve()}removeTargets(e,t,i){let r=0,o=[];return this.ii.forEach((a,c)=>{c.sequenceNumber<=t&&i.get(c.targetId)===null&&(this.ii.delete(a),o.push(this.removeMatchingKeysForTargetId(e,c.targetId)),r++)}),P.waitFor(o).next(()=>r)}getTargetCount(e){return P.resolve(this.targetCount)}getTargetData(e,t){let i=this.ii.get(t)||null;return P.resolve(i)}addMatchingKeys(e,t,i){return this.oi.Kr(t,i),P.resolve()}removeMatchingKeys(e,t,i){this.oi.Gr(t,i);let r=this.persistence.referenceDelegate,o=[];return r&&t.forEach(a=>{o.push(r.markPotentiallyOrphaned(e,a))}),P.waitFor(o)}removeMatchingKeysForTargetId(e,t){return this.oi.zr(t),P.resolve()}getMatchingKeysForTargetId(e,t){let i=this.oi.Jr(t);return P.resolve(i)}containsKey(e,t){return P.resolve(this.oi.containsKey(t))}};var xa=class{constructor(e,t){this.ai={},this.overlays={},this.ui=new Th(0),this.ci=!1,this.ci=!0,this.li=new Nd,this.referenceDelegate=e(this),this.hi=new Vd(this),this.indexManager=new Td,this.remoteDocumentCache=(function(r){return new Fd(r)})(i=>this.referenceDelegate.Pi(i)),this.serializer=new Id(t),this.Ti=new Dd(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.ci=!1,Promise.resolve()}get started(){return this.ci}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let t=this.overlays[e.toKey()];return t||(t=new Od,this.overlays[e.toKey()]=t),t}getMutationQueue(e,t){let i=this.ai[e.toKey()];return i||(i=new Md(t,this.referenceDelegate),this.ai[e.toKey()]=i),i}getGlobalsCache(){return this.li}getTargetCache(){return this.hi}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Ti}runTransaction(e,t,i){F("MemoryPersistence","Starting transaction:",e);let r=new Ud(this.ui.next());return this.referenceDelegate.Ii(),i(r).next(o=>this.referenceDelegate.di(r).next(()=>o)).toPromise().then(o=>(r.raiseOnCommittedEvent(),o))}Ei(e,t){return P.or(Object.values(this.ai).map(i=>()=>i.containsKey(e,t)))}},Ud=class extends Ku{constructor(e){super(),this.currentSequenceNumber=e}},Bd=class n{constructor(e){this.persistence=e,this.Ai=new Ro,this.Ri=null}static Vi(e){return new n(e)}get mi(){if(this.Ri)return this.Ri;throw V(60996)}addReference(e,t,i){return this.Ai.addReference(i,t),this.mi.delete(i.toString()),P.resolve()}removeReference(e,t,i){return this.Ai.removeReference(i,t),this.mi.add(i.toString()),P.resolve()}markPotentiallyOrphaned(e,t){return this.mi.add(t.toString()),P.resolve()}removeTarget(e,t){this.Ai.zr(t.targetId).forEach(r=>this.mi.add(r.toString()));let i=this.persistence.getTargetCache();return i.getMatchingKeysForTargetId(e,t.targetId).next(r=>{r.forEach(o=>this.mi.add(o.toString()))}).next(()=>i.removeTargetData(e,t))}Ii(){this.Ri=new Set}di(e){let t=this.persistence.getRemoteDocumentCache().newChangeBuffer();return P.forEach(this.mi,i=>{let r=L.fromPath(i);return this.fi(e,r).next(o=>{o||t.removeEntry(r,H.min())})}).next(()=>(this.Ri=null,t.apply(e)))}updateLimboDocument(e,t){return this.fi(e,t).next(i=>{i?this.mi.delete(t.toString()):this.mi.add(t.toString())})}Pi(e){return 0}fi(e,t){return P.or([()=>P.resolve(this.Ai.containsKey(t)),()=>this.persistence.getTargetCache().containsKey(e,t),()=>this.persistence.Ei(e,t)])}},Ra=class n{constructor(e,t){this.persistence=e,this.gi=new on(i=>AA(i.path),(i,r)=>i.isEqual(r)),this.garbageCollector=wS(this,t)}static Vi(e,t){return new n(e,t)}Ii(){}di(e){return P.resolve()}forEachTarget(e,t){return this.persistence.getTargetCache().forEachTarget(e,t)}mr(e){let t=this.yr(e);return this.persistence.getTargetCache().getTargetCount(e).next(i=>t.next(r=>i+r))}yr(e){let t=0;return this.gr(e,i=>{t++}).next(()=>t)}gr(e,t){return P.forEach(this.gi,(i,r)=>this.Sr(e,i,r).next(o=>o?P.resolve():t(r)))}removeTargets(e,t,i){return this.persistence.getTargetCache().removeTargets(e,t,i)}removeOrphanedDocuments(e,t){let i=0,r=this.persistence.getRemoteDocumentCache(),o=r.newChangeBuffer();return r.ri(e,a=>this.Sr(e,a,t).next(c=>{c||(i++,o.removeEntry(a,H.min()))})).next(()=>o.apply(e)).next(()=>i)}markPotentiallyOrphaned(e,t){return this.gi.set(t,e.currentSequenceNumber),P.resolve()}removeTarget(e,t){let i=t.withSequenceNumber(e.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(e,i)}addReference(e,t,i){return this.gi.set(i,e.currentSequenceNumber),P.resolve()}removeReference(e,t,i){return this.gi.set(i,e.currentSequenceNumber),P.resolve()}updateLimboDocument(e,t){return this.gi.set(t,e.currentSequenceNumber),P.resolve()}Pi(e){let t=e.key.toString().length;return e.isFoundDocument()&&(t+=ua(e.data.value)),t}Sr(e,t,i){return P.or([()=>this.persistence.Ei(e,t),()=>this.persistence.getTargetCache().containsKey(e,t),()=>{let r=this.gi.get(t);return P.resolve(r!==void 0&&r>i)}])}getCacheSize(e){return this.persistence.getRemoteDocumentCache().getSize(e)}};var zd=class n{constructor(e,t,i,r){this.targetId=e,this.fromCache=t,this.Is=i,this.ds=r}static Es(e,t){let i=Y(),r=Y();for(let o of t.docChanges)switch(o.type){case 0:i=i.add(o.doc.key);break;case 1:r=r.add(o.doc.key)}return new n(e,t.fromCache,i,r)}};var jd=class{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}};var qd=class{constructor(){this.As=!1,this.Rs=!1,this.Vs=100,this.fs=(function(){return mp()?8:IA(Pe())>0?6:4})()}initialize(e,t){this.gs=e,this.indexManager=t,this.As=!0}getDocumentsMatchingQuery(e,t,i,r){let o={result:null};return this.ps(e,t).next(a=>{o.result=a}).next(()=>{if(!o.result)return this.ys(e,t,r,i).next(a=>{o.result=a})}).next(()=>{if(o.result)return;let a=new jd;return this.ws(e,t,a).next(c=>{if(o.result=c,this.Rs)return this.Ss(e,t,a,c.size)})}).next(()=>o.result)}Ss(e,t,i,r){return i.documentReadCount<this.Vs?(qi()<=K.DEBUG&&F("QueryEngine","SDK will not create cache indexes for query:",$i(t),"since it only creates cache indexes for collection contains","more than or equal to",this.Vs,"documents"),P.resolve()):(qi()<=K.DEBUG&&F("QueryEngine","Query:",$i(t),"scans",i.documentReadCount,"local documents and returns",r,"documents as results."),i.documentReadCount>this.fs*r?(qi()<=K.DEBUG&&F("QueryEngine","The SDK decides to create cache indexes for query:",$i(t),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,Ft(t))):P.resolve())}ps(e,t){if(u_(t))return P.resolve(null);let i=Ft(t);return this.indexManager.getIndexType(e,i).next(r=>r===0?null:(t.limit!==null&&r===1&&(t=ld(t,null,"F"),i=Ft(t)),this.indexManager.getDocumentsMatchingTarget(e,i).next(o=>{let a=Y(...o);return this.gs.getDocuments(e,a).next(c=>this.indexManager.getMinOffset(e,i).next(u=>{let h=this.bs(t,c);return this.Ds(t,h,a,u.readTime)?this.ps(e,ld(t,null,"F")):this.vs(e,h,t,u)}))})))}ys(e,t,i,r){return u_(t)||r.isEqual(H.min())?P.resolve(null):this.gs.getDocuments(e,i).next(o=>{let a=this.bs(t,o);return this.Ds(t,a,i,r)?P.resolve(null):(qi()<=K.DEBUG&&F("QueryEngine","Re-using previous result from %s to execute query: %s",r.toString(),$i(t)),this.vs(e,a,t,yA(r,Eo)).next(c=>c))})}bs(e,t){let i=new Oe(yv(e));return t.forEach((r,o)=>{Ja(e,o)&&(i=i.add(o))}),i}Ds(e,t,i,r){if(e.limit===null)return!1;if(i.size!==t.size)return!0;let o=e.limitType==="F"?t.last():t.first();return!!o&&(o.hasPendingWrites||o.version.compareTo(r)>0)}ws(e,t,i){return qi()<=K.DEBUG&&F("QueryEngine","Using full collection scan to execute query:",$i(t)),this.gs.getDocumentsMatchingQuery(e,t,ai.min(),i)}vs(e,t,i,r){return this.gs.getDocumentsMatchingQuery(e,i,r).next(o=>(t.forEach(a=>{o=o.insert(a.key,a)}),o))}};var Nh="LocalStore",ES=3e8,$d=class{constructor(e,t,i,r){this.persistence=e,this.Cs=t,this.serializer=r,this.Fs=new ve(G),this.Ms=new on(o=>kh(o),Ph),this.xs=new Map,this.Os=e.getRemoteDocumentCache(),this.hi=e.getTargetCache(),this.Ti=e.getBundleCache(),this.Ns(i)}Ns(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new Pd(this.Os,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.Os.setIndexManager(this.indexManager),this.Cs.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",t=>e.collect(t,this.Fs))}};function IS(n,e,t,i){return new $d(n,e,t,i)}function Uv(n,e){return _(this,null,function*(){let t=z(n);return yield t.persistence.runTransaction("Handle user change","readonly",i=>{let r;return t.mutationQueue.getAllMutationBatches(i).next(o=>(r=o,t.Ns(e),t.mutationQueue.getAllMutationBatches(i))).next(o=>{let a=[],c=[],u=Y();for(let h of r){a.push(h.batchId);for(let f of h.mutations)u=u.add(f.key)}for(let h of o){c.push(h.batchId);for(let f of h.mutations)u=u.add(f.key)}return t.localDocuments.getDocuments(i,u).next(h=>({Bs:h,removedBatchIds:a,addedBatchIds:c}))})})})}function TS(n,e){let t=z(n);return t.persistence.runTransaction("Acknowledge batch","readwrite-primary",i=>{let r=e.batch.keys(),o=t.Os.newChangeBuffer({trackRemovals:!0});return(function(c,u,h,f){let p=h.batch,v=p.keys(),C=P.resolve();return v.forEach(k=>{C=C.next(()=>f.getEntry(u,k)).next(O=>{let D=h.docVersions.get(k);ee(D!==null,48541),O.version.compareTo(D)<0&&(p.applyToRemoteDocument(O,h),O.isValidDocument()&&(O.setReadTime(h.commitVersion),f.addEntry(O)))})}),C.next(()=>c.mutationQueue.removeMutationBatch(u,p))})(t,i,e,o).next(()=>o.apply(i)).next(()=>t.mutationQueue.performConsistencyCheck(i)).next(()=>t.documentOverlayCache.removeOverlaysForBatchId(i,r,e.batch.batchId)).next(()=>t.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(i,(function(c){let u=Y();for(let h=0;h<c.mutationResults.length;++h)c.mutationResults[h].transformResults.length>0&&(u=u.add(c.batch.mutations[h].key));return u})(e))).next(()=>t.localDocuments.getDocuments(i,r))})}function Bv(n){let e=z(n);return e.persistence.runTransaction("Get last remote snapshot version","readonly",t=>e.hi.getLastRemoteSnapshotVersion(t))}function AS(n,e){let t=z(n),i=e.snapshotVersion,r=t.Fs;return t.persistence.runTransaction("Apply remote event","readwrite-primary",o=>{let a=t.Os.newChangeBuffer({trackRemovals:!0});r=t.Fs;let c=[];e.targetChanges.forEach((f,p)=>{let v=r.get(p);if(!v)return;c.push(t.hi.removeMatchingKeys(o,f.removedDocuments,p).next(()=>t.hi.addMatchingKeys(o,f.addedDocuments,p)));let C=v.withSequenceNumber(o.currentSequenceNumber);e.targetMismatches.get(p)!==null?C=C.withResumeToken(We.EMPTY_BYTE_STRING,H.min()).withLastLimboFreeSnapshotVersion(H.min()):f.resumeToken.approximateByteSize()>0&&(C=C.withResumeToken(f.resumeToken,i)),r=r.insert(p,C),(function(O,D,j){return O.resumeToken.approximateByteSize()===0||D.snapshotVersion.toMicroseconds()-O.snapshotVersion.toMicroseconds()>=ES?!0:j.addedDocuments.size+j.modifiedDocuments.size+j.removedDocuments.size>0})(v,C,f)&&c.push(t.hi.updateTargetData(o,C))});let u=sn(),h=Y();if(e.documentUpdates.forEach(f=>{e.resolvedLimboDocuments.has(f)&&c.push(t.persistence.referenceDelegate.updateLimboDocument(o,f))}),c.push(SS(o,a,e.documentUpdates).next(f=>{u=f.Ls,h=f.ks})),!i.isEqual(H.min())){let f=t.hi.getLastRemoteSnapshotVersion(o).next(p=>t.hi.setTargetsMetadata(o,o.currentSequenceNumber,i));c.push(f)}return P.waitFor(c).next(()=>a.apply(o)).next(()=>t.localDocuments.getLocalViewOfDocuments(o,u,h)).next(()=>u)}).then(o=>(t.Fs=r,o))}function SS(n,e,t){let i=Y(),r=Y();return t.forEach(o=>i=i.add(o)),e.getEntries(n,i).next(o=>{let a=sn();return t.forEach((c,u)=>{let h=o.get(c);u.isFoundDocument()!==h.isFoundDocument()&&(r=r.add(c)),u.isNoDocument()&&u.version.isEqual(H.min())?(e.removeEntry(c,u.readTime),a=a.insert(c,u)):!h.isValidDocument()||u.version.compareTo(h.version)>0||u.version.compareTo(h.version)===0&&h.hasPendingWrites?(e.addEntry(u),a=a.insert(c,u)):F(Nh,"Ignoring outdated watch update for ",c,". Current version:",h.version," Watch version:",u.version)}),{Ls:a,ks:r}})}function CS(n,e){let t=z(n);return t.persistence.runTransaction("Get next mutation batch","readonly",i=>(e===void 0&&(e=Ah),t.mutationQueue.getNextMutationBatchAfterBatchId(i,e)))}function xS(n,e){let t=z(n);return t.persistence.runTransaction("Allocate target","readwrite",i=>{let r;return t.hi.getTargetData(i,e).next(o=>o?(r=o,P.resolve(r)):t.hi.allocateTargetId(i).next(a=>(r=new Co(e,a,"TargetPurposeListen",i.currentSequenceNumber),t.hi.addTargetData(i,r).next(()=>r))))}).then(i=>{let r=t.Fs.get(i.targetId);return(r===null||i.snapshotVersion.compareTo(r.snapshotVersion)>0)&&(t.Fs=t.Fs.insert(i.targetId,i),t.Ms.set(e,i.targetId)),i})}function Wd(n,e,t){return _(this,null,function*(){let i=z(n),r=i.Fs.get(e),o=t?"readwrite":"readwrite-primary";try{t||(yield i.persistence.runTransaction("Release target",o,a=>i.persistence.referenceDelegate.removeTarget(a,r)))}catch(a){if(!dr(a))throw a;F(Nh,`Failed to update sequence numbers for target ${e}: ${a}`)}i.Fs=i.Fs.remove(e),i.Ms.delete(r.target)})}function I_(n,e,t){let i=z(n),r=H.min(),o=Y();return i.persistence.runTransaction("Execute query","readwrite",a=>(function(u,h,f){let p=z(u),v=p.Ms.get(f);return v!==void 0?P.resolve(p.Fs.get(v)):p.hi.getTargetData(h,f)})(i,a,Ft(e)).next(c=>{if(c)return r=c.lastLimboFreeSnapshotVersion,i.hi.getMatchingKeysForTargetId(a,c.targetId).next(u=>{o=u})}).next(()=>i.Cs.getDocumentsMatchingQuery(a,e,t?r:H.min(),t?o:Y())).next(c=>(RS(i,jA(e),c),{documents:c,qs:o})))}function RS(n,e,t){let i=n.xs.get(e)||H.min();t.forEach((r,o)=>{o.readTime.compareTo(i)>0&&(i=o.readTime)}),n.xs.set(e,i)}var ka=class{constructor(){this.activeTargetIds=KA()}Gs(e){this.activeTargetIds=this.activeTargetIds.add(e)}zs(e){this.activeTargetIds=this.activeTargetIds.delete(e)}Ws(){let e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}};var Hd=class{constructor(){this.Fo=new ka,this.Mo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,t,i){}addLocalQueryTarget(e,t=!0){return t&&this.Fo.Gs(e),this.Mo[e]||"not-current"}updateQueryState(e,t,i){this.Mo[e]=t}removeLocalQueryTarget(e){this.Fo.zs(e)}isLocalQueryTarget(e){return this.Fo.activeTargetIds.has(e)}clearQueryState(e){delete this.Mo[e]}getAllActiveQueryTargets(){return this.Fo.activeTargetIds}isActiveQueryTarget(e){return this.Fo.activeTargetIds.has(e)}start(){return this.Fo=new ka,Promise.resolve()}handleUserChange(e,t,i){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}};var Gd=class{xo(e){}shutdown(){}};var T_="ConnectivityMonitor",Pa=class{constructor(){this.Oo=()=>this.No(),this.Bo=()=>this.Lo(),this.ko=[],this.qo()}xo(e){this.ko.push(e)}shutdown(){window.removeEventListener("online",this.Oo),window.removeEventListener("offline",this.Bo)}qo(){window.addEventListener("online",this.Oo),window.addEventListener("offline",this.Bo)}No(){F(T_,"Network connectivity changed: AVAILABLE");for(let e of this.ko)e(0)}Lo(){F(T_,"Network connectivity changed: UNAVAILABLE");for(let e of this.ko)e(1)}static C(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}};var la=null;function Kd(){return la===null?la=(function(){return 268435456+Math.round(2147483648*Math.random())})():la++,"0x"+la.toString(16)}var Lu="RestConnection",kS={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"},Yd=class{get Qo(){return!1}constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId;let t=e.ssl?"https":"http",i=encodeURIComponent(this.databaseId.projectId),r=encodeURIComponent(this.databaseId.database);this.$o=t+"://"+e.host,this.Uo=`projects/${i}/databases/${r}`,this.Ko=this.databaseId.database===va?`project_id=${i}`:`project_id=${i}&database_id=${r}`}Wo(e,t,i,r,o){let a=Kd(),c=this.Go(e,t.toUriEncodedString());F(Lu,`Sending RPC '${e}' ${a}:`,c,i);let u={"google-cloud-resource-prefix":this.Uo,"x-goog-request-params":this.Ko};this.zo(u,r,o);let{host:h}=new URL(c),f=yn(h);return this.jo(e,c,u,i,f).then(p=>(F(Lu,`Received RPC '${e}' ${a}: `,p),p),p=>{throw Mn(Lu,`RPC '${e}' ${a} failed with error: `,p,"url: ",c,"request:",i),p})}Jo(e,t,i,r,o,a){return this.Wo(e,t,i,r,o)}zo(e,t,i){e["X-Goog-Api-Client"]=(function(){return"gl-js/ fire/"+lr})(),e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),t&&t.headers.forEach((r,o)=>e[o]=r),i&&i.headers.forEach((r,o)=>e[o]=r)}Go(e,t){let i=kS[e];return`${this.$o}/v1/${t}:${i}`}terminate(){}};var Qd=class{constructor(e){this.Ho=e.Ho,this.Yo=e.Yo}Zo(e){this.Xo=e}e_(e){this.t_=e}n_(e){this.r_=e}onMessage(e){this.i_=e}close(){this.Yo()}send(e){this.Ho(e)}s_(){this.Xo()}o_(){this.t_()}__(e){this.r_(e)}a_(e){this.i_(e)}};var $e="WebChannelConnection",Xd=class extends Yd{constructor(e){super(e),this.u_=[],this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}jo(e,t,i,r,o){let a=Kd();return new Promise((c,u)=>{let h=new Pu;h.setWithCredentials(!0),h.listenOnce(Du.COMPLETE,()=>{try{switch(h.getLastErrorCode()){case po.NO_ERROR:let p=h.getResponseJson();F($e,`XHR for RPC '${e}' ${a} received:`,JSON.stringify(p)),c(p);break;case po.TIMEOUT:F($e,`RPC '${e}' ${a} timed out`),u(new M(R.DEADLINE_EXCEEDED,"Request time out"));break;case po.HTTP_ERROR:let v=h.getStatus();if(F($e,`RPC '${e}' ${a} failed with status:`,v,"response text:",h.getResponseText()),v>0){let C=h.getResponseJson();Array.isArray(C)&&(C=C[0]);let k=C?.error;if(k&&k.status&&k.message){let O=(function(j){let B=j.toLowerCase().replace(/_/g,"-");return Object.values(R).indexOf(B)>=0?B:R.UNKNOWN})(k.status);u(new M(O,k.message))}else u(new M(R.UNKNOWN,"Server responded with status "+h.getStatus()))}else u(new M(R.UNAVAILABLE,"Connection failed."));break;default:V(9055,{c_:e,streamId:a,l_:h.getLastErrorCode(),h_:h.getLastError()})}}finally{F($e,`RPC '${e}' ${a} completed.`)}});let f=JSON.stringify(r);F($e,`RPC '${e}' ${a} sending request:`,r),h.send(t,"POST",f,i,15)})}P_(e,t,i){let r=Kd(),o=[this.$o,"/","google.firestore.v1.Firestore","/",e,"/channel"],a=Mu(),c=Nu(),u={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},h=this.longPollingOptions.timeoutSeconds;h!==void 0&&(u.longPollingTimeout=Math.round(1e3*h)),this.useFetchStreams&&(u.useFetchStreams=!0),this.zo(u.initMessageHeaders,t,i),u.encodeInitMessageHeaders=!0;let f=o.join("");F($e,`Creating RPC '${e}' stream ${r}: ${f}`,u);let p=a.createWebChannel(f,u);this.T_(p);let v=!1,C=!1,k=new Qd({Ho:D=>{C?F($e,`Not sending because RPC '${e}' stream ${r} is closed:`,D):(v||(F($e,`Opening RPC '${e}' stream ${r} transport.`),p.open(),v=!0),F($e,`RPC '${e}' stream ${r} sending:`,D),p.send(D))},Yo:()=>p.close()}),O=(D,j,B)=>{D.listen(j,q=>{try{B(q)}catch(ne){setTimeout(()=>{throw ne},0)}})};return O(p,ji.EventType.OPEN,()=>{C||(F($e,`RPC '${e}' stream ${r} transport opened.`),k.s_())}),O(p,ji.EventType.CLOSE,()=>{C||(C=!0,F($e,`RPC '${e}' stream ${r} transport closed`),k.__(),this.I_(p))}),O(p,ji.EventType.ERROR,D=>{C||(C=!0,Mn($e,`RPC '${e}' stream ${r} transport errored. Name:`,D.name,"Message:",D.message),k.__(new M(R.UNAVAILABLE,"The operation could not be completed")))}),O(p,ji.EventType.MESSAGE,D=>{var j;if(!C){let B=D.data[0];ee(!!B,16349);let q=B,ne=q?.error||((j=q[0])===null||j===void 0?void 0:j.error);if(ne){F($e,`RPC '${e}' stream ${r} received error:`,ne);let He=ne.status,te=(function(b){let w=Te[b];if(w!==void 0)return kv(w)})(He),E=ne.message;te===void 0&&(te=R.INTERNAL,E="Unknown error status: "+He+" with message "+ne.message),C=!0,k.__(new M(te,E)),p.close()}else F($e,`RPC '${e}' stream ${r} received:`,B),k.a_(B)}}),O(c,Ou.STAT_EVENT,D=>{D.stat===sa.PROXY?F($e,`RPC '${e}' stream ${r} detected buffering proxy`):D.stat===sa.NOPROXY&&F($e,`RPC '${e}' stream ${r} detected no buffering proxy`)}),setTimeout(()=>{k.o_()},0),k}terminate(){this.u_.forEach(e=>e.close()),this.u_=[]}T_(e){this.u_.push(e)}I_(e){this.u_=this.u_.filter(t=>t===e)}};function Vu(){return typeof document<"u"?document:null}function Za(n){return new vd(n,!0)}var Da=class{constructor(e,t,i=1e3,r=1.5,o=6e4){this.Fi=e,this.timerId=t,this.d_=i,this.E_=r,this.A_=o,this.R_=0,this.V_=null,this.m_=Date.now(),this.reset()}reset(){this.R_=0}f_(){this.R_=this.A_}g_(e){this.cancel();let t=Math.floor(this.R_+this.p_()),i=Math.max(0,Date.now()-this.m_),r=Math.max(0,t-i);r>0&&F("ExponentialBackoff",`Backing off for ${r} ms (base delay: ${this.R_} ms, delay with jitter: ${t} ms, last attempt: ${i} ms ago)`),this.V_=this.Fi.enqueueAfterDelay(this.timerId,r,()=>(this.m_=Date.now(),e())),this.R_*=this.E_,this.R_<this.d_&&(this.R_=this.d_),this.R_>this.A_&&(this.R_=this.A_)}y_(){this.V_!==null&&(this.V_.skipDelay(),this.V_=null)}cancel(){this.V_!==null&&(this.V_.cancel(),this.V_=null)}p_(){return(Math.random()-.5)*this.R_}};var A_="PersistentStream",Oa=class{constructor(e,t,i,r,o,a,c,u){this.Fi=e,this.w_=i,this.S_=r,this.connection=o,this.authCredentialsProvider=a,this.appCheckCredentialsProvider=c,this.listener=u,this.state=0,this.b_=0,this.D_=null,this.v_=null,this.stream=null,this.C_=0,this.F_=new Da(e,t)}M_(){return this.state===1||this.state===5||this.x_()}x_(){return this.state===2||this.state===3}start(){this.C_=0,this.state!==4?this.auth():this.O_()}stop(){return _(this,null,function*(){this.M_()&&(yield this.close(0))})}N_(){this.state=0,this.F_.reset()}B_(){this.x_()&&this.D_===null&&(this.D_=this.Fi.enqueueAfterDelay(this.w_,6e4,()=>this.L_()))}k_(e){this.q_(),this.stream.send(e)}L_(){return _(this,null,function*(){if(this.x_())return this.close(0)})}q_(){this.D_&&(this.D_.cancel(),this.D_=null)}Q_(){this.v_&&(this.v_.cancel(),this.v_=null)}close(e,t){return _(this,null,function*(){this.q_(),this.Q_(),this.F_.cancel(),this.b_++,e!==4?this.F_.reset():t&&t.code===R.RESOURCE_EXHAUSTED?(tn(t.toString()),tn("Using maximum backoff delay to prevent overloading the backend."),this.F_.f_()):t&&t.code===R.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.U_(),this.stream.close(),this.stream=null),this.state=e,yield this.listener.n_(t)})}U_(){}auth(){this.state=1;let e=this.K_(this.b_),t=this.b_;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([i,r])=>{this.b_===t&&this.W_(i,r)},i=>{e(()=>{let r=new M(R.UNKNOWN,"Fetching auth token failed: "+i.message);return this.G_(r)})})}W_(e,t){let i=this.K_(this.b_);this.stream=this.z_(e,t),this.stream.Zo(()=>{i(()=>this.listener.Zo())}),this.stream.e_(()=>{i(()=>(this.state=2,this.v_=this.Fi.enqueueAfterDelay(this.S_,1e4,()=>(this.x_()&&(this.state=3),Promise.resolve())),this.listener.e_()))}),this.stream.n_(r=>{i(()=>this.G_(r))}),this.stream.onMessage(r=>{i(()=>++this.C_==1?this.j_(r):this.onNext(r))})}O_(){this.state=5,this.F_.g_(()=>_(this,null,function*(){this.state=0,this.start()}))}G_(e){return F(A_,`close with error: ${e}`),this.stream=null,this.close(4,e)}K_(e){return t=>{this.Fi.enqueueAndForget(()=>this.b_===e?t():(F(A_,"stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}},Jd=class extends Oa{constructor(e,t,i,r,o,a){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",t,i,r,a),this.serializer=o}z_(e,t){return this.connection.P_("Listen",e,t)}j_(e){return this.onNext(e)}onNext(e){this.F_.reset();let t=cS(this.serializer,e),i=(function(o){if(!("targetChange"in o))return H.min();let a=o.targetChange;return a.targetIds&&a.targetIds.length?H.min():a.readTime?Lt(a.readTime):H.min()})(e);return this.listener.J_(t,i)}H_(e){let t={};t.database=Ed(this.serializer),t.addTarget=(function(o,a){let c,u=a.target;if(c=ad(u)?{documents:dS(o,u)}:{query:hS(o,u).Vt},c.targetId=a.targetId,a.resumeToken.approximateByteSize()>0){c.resumeToken=Pv(o,a.resumeToken);let h=yd(o,a.expectedCount);h!==null&&(c.expectedCount=h)}else if(a.snapshotVersion.compareTo(H.min())>0){c.readTime=Sa(o,a.snapshotVersion.toTimestamp());let h=yd(o,a.expectedCount);h!==null&&(c.expectedCount=h)}return c})(this.serializer,e);let i=mS(this.serializer,e);i&&(t.labels=i),this.k_(t)}Y_(e){let t={};t.database=Ed(this.serializer),t.removeTarget=e,this.k_(t)}},Zd=class extends Oa{constructor(e,t,i,r,o,a){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",t,i,r,a),this.serializer=o}get Z_(){return this.C_>0}start(){this.lastStreamToken=void 0,super.start()}U_(){this.Z_&&this.X_([])}z_(e,t){return this.connection.P_("Write",e,t)}j_(e){return ee(!!e.streamToken,31322),this.lastStreamToken=e.streamToken,ee(!e.writeResults||e.writeResults.length===0,55816),this.listener.ea()}onNext(e){ee(!!e.streamToken,12678),this.lastStreamToken=e.streamToken,this.F_.reset();let t=uS(e.writeResults,e.commitTime),i=Lt(e.commitTime);return this.listener.ta(i,t)}na(){let e={};e.database=Ed(this.serializer),this.k_(e)}X_(e){let t={streamToken:this.lastStreamToken,writes:e.map(i=>lS(this.serializer,i))};this.k_(t)}};var eh=class{},th=class extends eh{constructor(e,t,i,r){super(),this.authCredentials=e,this.appCheckCredentials=t,this.connection=i,this.serializer=r,this.ra=!1}ia(){if(this.ra)throw new M(R.FAILED_PRECONDITION,"The client has already been terminated.")}Wo(e,t,i,r){return this.ia(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([o,a])=>this.connection.Wo(e,bd(t,i),r,o,a)).catch(o=>{throw o.name==="FirebaseError"?(o.code===R.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),o):new M(R.UNKNOWN,o.toString())})}Jo(e,t,i,r,o){return this.ia(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([a,c])=>this.connection.Jo(e,bd(t,i),r,a,c,o)).catch(a=>{throw a.name==="FirebaseError"?(a.code===R.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),a):new M(R.UNKNOWN,a.toString())})}terminate(){this.ra=!0,this.connection.terminate()}},nh=class{constructor(e,t){this.asyncQueue=e,this.onlineStateHandler=t,this.state="Unknown",this.sa=0,this.oa=null,this._a=!0}aa(){this.sa===0&&(this.ua("Unknown"),this.oa=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this.oa=null,this.ca("Backend didn't respond within 10 seconds."),this.ua("Offline"),Promise.resolve())))}la(e){this.state==="Online"?this.ua("Unknown"):(this.sa++,this.sa>=1&&(this.ha(),this.ca(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.ua("Offline")))}set(e){this.ha(),this.sa=0,e==="Online"&&(this._a=!1),this.ua(e)}ua(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}ca(e){let t=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this._a?(tn(t),this._a=!1):F("OnlineStateTracker",t)}ha(){this.oa!==null&&(this.oa.cancel(),this.oa=null)}};var hi="RemoteStore",ih=class{constructor(e,t,i,r,o){this.localStore=e,this.datastore=t,this.asyncQueue=i,this.remoteSyncer={},this.Pa=[],this.Ta=new Map,this.Ia=new Set,this.da=[],this.Ea=o,this.Ea.xo(a=>{i.enqueueAndForget(()=>_(this,null,function*(){mi(this)&&(F(hi,"Restarting streams for network reachability change."),yield(function(u){return _(this,null,function*(){let h=z(u);h.Ia.add(4),yield Fo(h),h.Aa.set("Unknown"),h.Ia.delete(4),yield ec(h)})})(this))}))}),this.Aa=new nh(i,r)}};function ec(n){return _(this,null,function*(){if(mi(n))for(let e of n.da)yield e(!0)})}function Fo(n){return _(this,null,function*(){for(let e of n.da)yield e(!1)})}function zv(n,e){let t=z(n);t.Ta.has(e.targetId)||(t.Ta.set(e.targetId,e),Vh(t)?Lh(t):hr(t).x_()&&Fh(t,e))}function Mh(n,e){let t=z(n),i=hr(t);t.Ta.delete(e),i.x_()&&jv(t,e),t.Ta.size===0&&(i.x_()?i.B_():mi(t)&&t.Aa.set("Unknown"))}function Fh(n,e){if(n.Ra.$e(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(H.min())>0){let t=n.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(t)}hr(n).H_(e)}function jv(n,e){n.Ra.$e(e),hr(n).Y_(e)}function Lh(n){n.Ra=new _d({getRemoteKeysForTarget:e=>n.remoteSyncer.getRemoteKeysForTarget(e),Et:e=>n.Ta.get(e)||null,lt:()=>n.datastore.serializer.databaseId}),hr(n).start(),n.Aa.aa()}function Vh(n){return mi(n)&&!hr(n).M_()&&n.Ta.size>0}function mi(n){return z(n).Ia.size===0}function qv(n){n.Ra=void 0}function PS(n){return _(this,null,function*(){n.Aa.set("Online")})}function DS(n){return _(this,null,function*(){n.Ta.forEach((e,t)=>{Fh(n,e)})})}function OS(n,e){return _(this,null,function*(){qv(n),Vh(n)?(n.Aa.la(e),Lh(n)):n.Aa.set("Unknown")})}function NS(n,e,t){return _(this,null,function*(){if(n.Aa.set("Online"),e instanceof Ta&&e.state===2&&e.cause)try{yield(function(r,o){return _(this,null,function*(){let a=o.cause;for(let c of o.targetIds)r.Ta.has(c)&&(yield r.remoteSyncer.rejectListen(c,a),r.Ta.delete(c),r.Ra.removeTarget(c))})})(n,e)}catch(i){F(hi,"Failed to remove targets %s: %s ",e.targetIds.join(","),i),yield Na(n,i)}else if(e instanceof Ki?n.Ra.Ye(e):e instanceof Ia?n.Ra.it(e):n.Ra.et(e),!t.isEqual(H.min()))try{let i=yield Bv(n.localStore);t.compareTo(i)>=0&&(yield(function(o,a){let c=o.Ra.Pt(a);return c.targetChanges.forEach((u,h)=>{if(u.resumeToken.approximateByteSize()>0){let f=o.Ta.get(h);f&&o.Ta.set(h,f.withResumeToken(u.resumeToken,a))}}),c.targetMismatches.forEach((u,h)=>{let f=o.Ta.get(u);if(!f)return;o.Ta.set(u,f.withResumeToken(We.EMPTY_BYTE_STRING,f.snapshotVersion)),jv(o,u);let p=new Co(f.target,u,h,f.sequenceNumber);Fh(o,p)}),o.remoteSyncer.applyRemoteEvent(c)})(n,t))}catch(i){F(hi,"Failed to raise snapshot:",i),yield Na(n,i)}})}function Na(n,e,t){return _(this,null,function*(){if(!dr(e))throw e;n.Ia.add(1),yield Fo(n),n.Aa.set("Offline"),t||(t=()=>Bv(n.localStore)),n.asyncQueue.enqueueRetryable(()=>_(null,null,function*(){F(hi,"Retrying IndexedDB access"),yield t(),n.Ia.delete(1),yield ec(n)}))})}function $v(n,e){return e().catch(t=>Na(n,t,e))}function tc(n){return _(this,null,function*(){let e=z(n),t=Ln(e),i=e.Pa.length>0?e.Pa[e.Pa.length-1].batchId:Ah;for(;MS(e);)try{let r=yield CS(e.localStore,i);if(r===null){e.Pa.length===0&&t.B_();break}i=r.batchId,FS(e,r)}catch(r){yield Na(e,r)}Wv(e)&&Hv(e)})}function MS(n){return mi(n)&&n.Pa.length<10}function FS(n,e){n.Pa.push(e);let t=Ln(n);t.x_()&&t.Z_&&t.X_(e.mutations)}function Wv(n){return mi(n)&&!Ln(n).M_()&&n.Pa.length>0}function Hv(n){Ln(n).start()}function LS(n){return _(this,null,function*(){Ln(n).na()})}function VS(n){return _(this,null,function*(){let e=Ln(n);for(let t of n.Pa)e.X_(t.mutations)})}function US(n,e,t){return _(this,null,function*(){let i=n.Pa.shift(),r=fd.from(i,e,t);yield $v(n,()=>n.remoteSyncer.applySuccessfulWrite(r)),yield tc(n)})}function BS(n,e){return _(this,null,function*(){e&&Ln(n).Z_&&(yield(function(i,r){return _(this,null,function*(){if((function(a){return tS(a)&&a!==R.ABORTED})(r.code)){let o=i.Pa.shift();Ln(i).N_(),yield $v(i,()=>i.remoteSyncer.rejectFailedWrite(o.batchId,r)),yield tc(i)}})})(n,e)),Wv(n)&&Hv(n)})}function S_(n,e){return _(this,null,function*(){let t=z(n);t.asyncQueue.verifyOperationInProgress(),F(hi,"RemoteStore received new credentials");let i=mi(t);t.Ia.add(3),yield Fo(t),i&&t.Aa.set("Unknown"),yield t.remoteSyncer.handleCredentialChange(e),t.Ia.delete(3),yield ec(t)})}function zS(n,e){return _(this,null,function*(){let t=z(n);e?(t.Ia.delete(2),yield ec(t)):e||(t.Ia.add(2),yield Fo(t),t.Aa.set("Unknown"))})}function hr(n){return n.Va||(n.Va=(function(t,i,r){let o=z(t);return o.ia(),new Jd(i,o.connection,o.authCredentials,o.appCheckCredentials,o.serializer,r)})(n.datastore,n.asyncQueue,{Zo:PS.bind(null,n),e_:DS.bind(null,n),n_:OS.bind(null,n),J_:NS.bind(null,n)}),n.da.push(e=>_(null,null,function*(){e?(n.Va.N_(),Vh(n)?Lh(n):n.Aa.set("Unknown")):(yield n.Va.stop(),qv(n))}))),n.Va}function Ln(n){return n.ma||(n.ma=(function(t,i,r){let o=z(t);return o.ia(),new Zd(i,o.connection,o.authCredentials,o.appCheckCredentials,o.serializer,r)})(n.datastore,n.asyncQueue,{Zo:()=>Promise.resolve(),e_:LS.bind(null,n),n_:BS.bind(null,n),ea:VS.bind(null,n),ta:US.bind(null,n)}),n.da.push(e=>_(null,null,function*(){e?(n.ma.N_(),yield tc(n)):(yield n.ma.stop(),n.Pa.length>0&&(F(hi,`Stopping write stream with ${n.Pa.length} pending writes`),n.Pa=[]))}))),n.ma}var rh=class n{constructor(e,t,i,r,o){this.asyncQueue=e,this.timerId=t,this.targetTimeMs=i,this.op=r,this.removalCallback=o,this.deferred=new Tt,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(a=>{})}get promise(){return this.deferred.promise}static createAndSchedule(e,t,i,r,o){let a=Date.now()+i,c=new n(e,t,a,r,o);return c.start(i),c}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new M(R.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}};function Uh(n,e){if(tn("AsyncQueue",`${e}: ${n}`),dr(n))return new M(R.UNAVAILABLE,`${e}: ${n}`);throw n}var Ma=class n{static emptySet(e){return new n(e.comparator)}constructor(e){this.comparator=e?(t,i)=>e(t,i)||L.comparator(t.key,i.key):(t,i)=>L.comparator(t.key,i.key),this.keyedMap=go(),this.sortedSet=new ve(this.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){let t=this.keyedMap.get(e);return t?this.sortedSet.indexOf(t):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal((t,i)=>(e(t),!1))}add(e){let t=this.delete(e.key);return t.copy(t.keyedMap.insert(e.key,e),t.sortedSet.insert(e,null))}delete(e){let t=this.get(e);return t?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(t)):this}isEqual(e){if(!(e instanceof n)||this.size!==e.size)return!1;let t=this.sortedSet.getIterator(),i=e.sortedSet.getIterator();for(;t.hasNext();){let r=t.getNext().key,o=i.getNext().key;if(!r.isEqual(o))return!1}return!0}toString(){let e=[];return this.forEach(t=>{e.push(t.toString())}),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,t){let i=new n;return i.comparator=this.comparator,i.keyedMap=e,i.sortedSet=t,i}};var Fa=class{constructor(){this.fa=new ve(L.comparator)}track(e){let t=e.doc.key,i=this.fa.get(t);i?e.type!==0&&i.type===3?this.fa=this.fa.insert(t,e):e.type===3&&i.type!==1?this.fa=this.fa.insert(t,{type:i.type,doc:e.doc}):e.type===2&&i.type===2?this.fa=this.fa.insert(t,{type:2,doc:e.doc}):e.type===2&&i.type===0?this.fa=this.fa.insert(t,{type:0,doc:e.doc}):e.type===1&&i.type===0?this.fa=this.fa.remove(t):e.type===1&&i.type===2?this.fa=this.fa.insert(t,{type:1,doc:i.doc}):e.type===0&&i.type===1?this.fa=this.fa.insert(t,{type:2,doc:e.doc}):V(63341,{At:e,ga:i}):this.fa=this.fa.insert(t,e)}pa(){let e=[];return this.fa.inorderTraversal((t,i)=>{e.push(i)}),e}},sr=class n{constructor(e,t,i,r,o,a,c,u,h){this.query=e,this.docs=t,this.oldDocs=i,this.docChanges=r,this.mutatedKeys=o,this.fromCache=a,this.syncStateChanged=c,this.excludesMetadataChanges=u,this.hasCachedResults=h}static fromInitialDocuments(e,t,i,r,o){let a=[];return t.forEach(c=>{a.push({type:0,doc:c})}),new n(e,t,Ma.emptySet(t),a,i,r,!0,!1,o)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&Xa(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;let t=this.docChanges,i=e.docChanges;if(t.length!==i.length)return!1;for(let r=0;r<t.length;r++)if(t[r].type!==i[r].type||!t[r].doc.isEqual(i[r].doc))return!1;return!0}};var oh=class{constructor(){this.ya=void 0,this.wa=[]}Sa(){return this.wa.some(e=>e.ba())}},sh=class{constructor(){this.queries=C_(),this.onlineState="Unknown",this.Da=new Set}terminate(){(function(t,i){let r=z(t),o=r.queries;r.queries=C_(),o.forEach((a,c)=>{for(let u of c.wa)u.onError(i)})})(this,new M(R.ABORTED,"Firestore shutting down"))}};function C_(){return new on(n=>vv(n),Xa)}function Bh(n,e){return _(this,null,function*(){let t=z(n),i=3,r=e.query,o=t.queries.get(r);o?!o.Sa()&&e.ba()&&(i=2):(o=new oh,i=e.ba()?0:1);try{switch(i){case 0:o.ya=yield t.onListen(r,!0);break;case 1:o.ya=yield t.onListen(r,!1);break;case 2:yield t.onFirstRemoteStoreListen(r)}}catch(a){let c=Uh(a,`Initialization of query '${$i(e.query)}' failed`);return void e.onError(c)}t.queries.set(r,o),o.wa.push(e),e.va(t.onlineState),o.ya&&e.Ca(o.ya)&&jh(t)})}function zh(n,e){return _(this,null,function*(){let t=z(n),i=e.query,r=3,o=t.queries.get(i);if(o){let a=o.wa.indexOf(e);a>=0&&(o.wa.splice(a,1),o.wa.length===0?r=e.ba()?0:1:!o.Sa()&&e.ba()&&(r=2))}switch(r){case 0:return t.queries.delete(i),t.onUnlisten(i,!0);case 1:return t.queries.delete(i),t.onUnlisten(i,!1);case 2:return t.onLastRemoteStoreUnlisten(i);default:return}})}function jS(n,e){let t=z(n),i=!1;for(let r of e){let o=r.query,a=t.queries.get(o);if(a){for(let c of a.wa)c.Ca(r)&&(i=!0);a.ya=r}}i&&jh(t)}function qS(n,e,t){let i=z(n),r=i.queries.get(e);if(r)for(let o of r.wa)o.onError(t);i.queries.delete(e)}function jh(n){n.Da.forEach(e=>{e.next()})}var ah,x_;(x_=ah||(ah={})).Fa="default",x_.Cache="cache";var ko=class{constructor(e,t,i){this.query=e,this.Ma=t,this.xa=!1,this.Oa=null,this.onlineState="Unknown",this.options=i||{}}Ca(e){if(!this.options.includeMetadataChanges){let i=[];for(let r of e.docChanges)r.type!==3&&i.push(r);e=new sr(e.query,e.docs,e.oldDocs,i,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let t=!1;return this.xa?this.Na(e)&&(this.Ma.next(e),t=!0):this.Ba(e,this.onlineState)&&(this.La(e),t=!0),this.Oa=e,t}onError(e){this.Ma.error(e)}va(e){this.onlineState=e;let t=!1;return this.Oa&&!this.xa&&this.Ba(this.Oa,e)&&(this.La(this.Oa),t=!0),t}Ba(e,t){if(!e.fromCache||!this.ba())return!0;let i=t!=="Offline";return(!this.options.ka||!i)&&(!e.docs.isEmpty()||e.hasCachedResults||t==="Offline")}Na(e){if(e.docChanges.length>0)return!0;let t=this.Oa&&this.Oa.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!t)&&this.options.includeMetadataChanges===!0}La(e){e=sr.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.xa=!0,this.Ma.next(e)}ba(){return this.options.source!==ah.Cache}};var La=class{constructor(e){this.key=e}},Va=class{constructor(e){this.key=e}},ch=class{constructor(e,t){this.query=e,this.Ha=t,this.Ya=null,this.hasCachedResults=!1,this.current=!1,this.Za=Y(),this.mutatedKeys=Y(),this.Xa=yv(e),this.eu=new Ma(this.Xa)}get tu(){return this.Ha}nu(e,t){let i=t?t.ru:new Fa,r=t?t.eu:this.eu,o=t?t.mutatedKeys:this.mutatedKeys,a=r,c=!1,u=this.query.limitType==="F"&&r.size===this.query.limit?r.last():null,h=this.query.limitType==="L"&&r.size===this.query.limit?r.first():null;if(e.inorderTraversal((f,p)=>{let v=r.get(f),C=Ja(this.query,p)?p:null,k=!!v&&this.mutatedKeys.has(v.key),O=!!C&&(C.hasLocalMutations||this.mutatedKeys.has(C.key)&&C.hasCommittedMutations),D=!1;v&&C?v.data.isEqual(C.data)?k!==O&&(i.track({type:3,doc:C}),D=!0):this.iu(v,C)||(i.track({type:2,doc:C}),D=!0,(u&&this.Xa(C,u)>0||h&&this.Xa(C,h)<0)&&(c=!0)):!v&&C?(i.track({type:0,doc:C}),D=!0):v&&!C&&(i.track({type:1,doc:v}),D=!0,(u||h)&&(c=!0)),D&&(C?(a=a.add(C),o=O?o.add(f):o.delete(f)):(a=a.delete(f),o=o.delete(f)))}),this.query.limit!==null)for(;a.size>this.query.limit;){let f=this.query.limitType==="F"?a.last():a.first();a=a.delete(f.key),o=o.delete(f.key),i.track({type:1,doc:f})}return{eu:a,ru:i,Ds:c,mutatedKeys:o}}iu(e,t){return e.hasLocalMutations&&t.hasCommittedMutations&&!t.hasLocalMutations}applyChanges(e,t,i,r){let o=this.eu;this.eu=e.eu,this.mutatedKeys=e.mutatedKeys;let a=e.ru.pa();a.sort((f,p)=>(function(C,k){let O=D=>{switch(D){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return V(20277,{At:D})}};return O(C)-O(k)})(f.type,p.type)||this.Xa(f.doc,p.doc)),this.su(i),r=r!=null&&r;let c=t&&!r?this.ou():[],u=this.Za.size===0&&this.current&&!r?1:0,h=u!==this.Ya;return this.Ya=u,a.length!==0||h?{snapshot:new sr(this.query,e.eu,o,a,e.mutatedKeys,u===0,h,!1,!!i&&i.resumeToken.approximateByteSize()>0),_u:c}:{_u:c}}va(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({eu:this.eu,ru:new Fa,mutatedKeys:this.mutatedKeys,Ds:!1},!1)):{_u:[]}}au(e){return!this.Ha.has(e)&&!!this.eu.has(e)&&!this.eu.get(e).hasLocalMutations}su(e){e&&(e.addedDocuments.forEach(t=>this.Ha=this.Ha.add(t)),e.modifiedDocuments.forEach(t=>{}),e.removedDocuments.forEach(t=>this.Ha=this.Ha.delete(t)),this.current=e.current)}ou(){if(!this.current)return[];let e=this.Za;this.Za=Y(),this.eu.forEach(i=>{this.au(i.key)&&(this.Za=this.Za.add(i.key))});let t=[];return e.forEach(i=>{this.Za.has(i)||t.push(new Va(i))}),this.Za.forEach(i=>{e.has(i)||t.push(new La(i))}),t}uu(e){this.Ha=e.qs,this.Za=Y();let t=this.nu(e.documents);return this.applyChanges(t,!0)}cu(){return sr.fromInitialDocuments(this.query,this.eu,this.mutatedKeys,this.Ya===0,this.hasCachedResults)}},qh="SyncEngine",lh=class{constructor(e,t,i){this.query=e,this.targetId=t,this.view=i}},uh=class{constructor(e){this.key=e,this.lu=!1}},dh=class{constructor(e,t,i,r,o,a){this.localStore=e,this.remoteStore=t,this.eventManager=i,this.sharedClientState=r,this.currentUser=o,this.maxConcurrentLimboResolutions=a,this.hu={},this.Pu=new on(c=>vv(c),Xa),this.Tu=new Map,this.Iu=new Set,this.du=new ve(L.comparator),this.Eu=new Map,this.Au=new Ro,this.Ru={},this.Vu=new Map,this.mu=xo.ur(),this.onlineState="Unknown",this.fu=void 0}get isPrimaryClient(){return this.fu===!0}};function $S(n,e,t=!0){return _(this,null,function*(){let i=Jv(n),r,o=i.Pu.get(e);return o?(i.sharedClientState.addLocalQueryTarget(o.targetId),r=o.view.cu()):r=yield Gv(i,e,t,!0),r})}function WS(n,e){return _(this,null,function*(){let t=Jv(n);yield Gv(t,e,!0,!1)})}function Gv(n,e,t,i){return _(this,null,function*(){let r=yield xS(n.localStore,Ft(e)),o=r.targetId,a=n.sharedClientState.addLocalQueryTarget(o,t),c;return i&&(c=yield HS(n,e,o,a==="current",r.resumeToken)),n.isPrimaryClient&&t&&zv(n.remoteStore,r),c})}function HS(n,e,t,i,r){return _(this,null,function*(){n.gu=(p,v,C)=>(function(O,D,j,B){return _(this,null,function*(){let q=D.view.nu(j);q.Ds&&(q=yield I_(O.localStore,D.query,!1).then(({documents:E})=>D.view.nu(E,q)));let ne=B&&B.targetChanges.get(D.targetId),He=B&&B.targetMismatches.get(D.targetId)!=null,te=D.view.applyChanges(q,O.isPrimaryClient,ne,He);return k_(O,D.targetId,te._u),te.snapshot})})(n,p,v,C);let o=yield I_(n.localStore,e,!0),a=new ch(e,o.qs),c=a.nu(o.documents),u=So.createSynthesizedTargetChangeForCurrentChange(t,i&&n.onlineState!=="Offline",r),h=a.applyChanges(c,n.isPrimaryClient,u);k_(n,t,h._u);let f=new lh(e,t,a);return n.Pu.set(e,f),n.Tu.has(t)?n.Tu.get(t).push(e):n.Tu.set(t,[e]),h.snapshot})}function GS(n,e,t){return _(this,null,function*(){let i=z(n),r=i.Pu.get(e),o=i.Tu.get(r.targetId);if(o.length>1)return i.Tu.set(r.targetId,o.filter(a=>!Xa(a,e))),void i.Pu.delete(e);i.isPrimaryClient?(i.sharedClientState.removeLocalQueryTarget(r.targetId),i.sharedClientState.isActiveQueryTarget(r.targetId)||(yield Wd(i.localStore,r.targetId,!1).then(()=>{i.sharedClientState.clearQueryState(r.targetId),t&&Mh(i.remoteStore,r.targetId),hh(i,r.targetId)}).catch(ur))):(hh(i,r.targetId),yield Wd(i.localStore,r.targetId,!0))})}function KS(n,e){return _(this,null,function*(){let t=z(n),i=t.Pu.get(e),r=t.Tu.get(i.targetId);t.isPrimaryClient&&r.length===1&&(t.sharedClientState.removeLocalQueryTarget(i.targetId),Mh(t.remoteStore,i.targetId))})}function YS(n,e,t){return _(this,null,function*(){let i=nC(n);try{let r=yield(function(a,c){let u=z(a),h=_e.now(),f=c.reduce((C,k)=>C.add(k.key),Y()),p,v;return u.persistence.runTransaction("Locally write mutations","readwrite",C=>{let k=sn(),O=Y();return u.Os.getEntries(C,f).next(D=>{k=D,k.forEach((j,B)=>{B.isValidDocument()||(O=O.add(j))})}).next(()=>u.localDocuments.getOverlayedDocuments(C,k)).next(D=>{p=D;let j=[];for(let B of c){let q=eS(B,p.get(B.key).overlayedDocument);q!=null&&j.push(new Ut(B.key,q,dv(q.value.mapValue),kn.exists(!0)))}return u.mutationQueue.addMutationBatch(C,h,j,c)}).next(D=>{v=D;let j=D.applyToLocalDocumentSet(p,O);return u.documentOverlayCache.saveOverlays(C,D.batchId,j)})}).then(()=>({batchId:v.batchId,changes:wv(p)}))})(i.localStore,e);i.sharedClientState.addPendingMutation(r.batchId),(function(a,c,u){let h=a.Ru[a.currentUser.toKey()];h||(h=new ve(G)),h=h.insert(c,u),a.Ru[a.currentUser.toKey()]=h})(i,r.batchId,t),yield Lo(i,r.changes),yield tc(i.remoteStore)}catch(r){let o=Uh(r,"Failed to persist write");t.reject(o)}})}function Kv(n,e){return _(this,null,function*(){let t=z(n);try{let i=yield AS(t.localStore,e);e.targetChanges.forEach((r,o)=>{let a=t.Eu.get(o);a&&(ee(r.addedDocuments.size+r.modifiedDocuments.size+r.removedDocuments.size<=1,22616),r.addedDocuments.size>0?a.lu=!0:r.modifiedDocuments.size>0?ee(a.lu,14607):r.removedDocuments.size>0&&(ee(a.lu,42227),a.lu=!1))}),yield Lo(t,i,e)}catch(i){yield ur(i)}})}function R_(n,e,t){let i=z(n);if(i.isPrimaryClient&&t===0||!i.isPrimaryClient&&t===1){let r=[];i.Pu.forEach((o,a)=>{let c=a.view.va(e);c.snapshot&&r.push(c.snapshot)}),(function(a,c){let u=z(a);u.onlineState=c;let h=!1;u.queries.forEach((f,p)=>{for(let v of p.wa)v.va(c)&&(h=!0)}),h&&jh(u)})(i.eventManager,e),r.length&&i.hu.J_(r),i.onlineState=e,i.isPrimaryClient&&i.sharedClientState.setOnlineState(e)}}function QS(n,e,t){return _(this,null,function*(){let i=z(n);i.sharedClientState.updateQueryState(e,"rejected",t);let r=i.Eu.get(e),o=r&&r.key;if(o){let a=new ve(L.comparator);a=a.insert(o,At.newNoDocument(o,H.min()));let c=Y().add(o),u=new Ea(H.min(),new Map,new ve(G),a,c);yield Kv(i,u),i.du=i.du.remove(o),i.Eu.delete(e),$h(i)}else yield Wd(i.localStore,e,!1).then(()=>hh(i,e,t)).catch(ur)})}function XS(n,e){return _(this,null,function*(){let t=z(n),i=e.batch.batchId;try{let r=yield TS(t.localStore,e);Qv(t,i,null),Yv(t,i),t.sharedClientState.updateMutationState(i,"acknowledged"),yield Lo(t,r)}catch(r){yield ur(r)}})}function JS(n,e,t){return _(this,null,function*(){let i=z(n);try{let r=yield(function(a,c){let u=z(a);return u.persistence.runTransaction("Reject batch","readwrite-primary",h=>{let f;return u.mutationQueue.lookupMutationBatch(h,c).next(p=>(ee(p!==null,37113),f=p.keys(),u.mutationQueue.removeMutationBatch(h,p))).next(()=>u.mutationQueue.performConsistencyCheck(h)).next(()=>u.documentOverlayCache.removeOverlaysForBatchId(h,f,c)).next(()=>u.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(h,f)).next(()=>u.localDocuments.getDocuments(h,f))})})(i.localStore,e);Qv(i,e,t),Yv(i,e),i.sharedClientState.updateMutationState(e,"rejected",t),yield Lo(i,r)}catch(r){yield ur(r)}})}function Yv(n,e){(n.Vu.get(e)||[]).forEach(t=>{t.resolve()}),n.Vu.delete(e)}function Qv(n,e,t){let i=z(n),r=i.Ru[i.currentUser.toKey()];if(r){let o=r.get(e);o&&(t?o.reject(t):o.resolve(),r=r.remove(e)),i.Ru[i.currentUser.toKey()]=r}}function hh(n,e,t=null){n.sharedClientState.removeLocalQueryTarget(e);for(let i of n.Tu.get(e))n.Pu.delete(i),t&&n.hu.pu(i,t);n.Tu.delete(e),n.isPrimaryClient&&n.Au.zr(e).forEach(i=>{n.Au.containsKey(i)||Xv(n,i)})}function Xv(n,e){n.Iu.delete(e.path.canonicalString());let t=n.du.get(e);t!==null&&(Mh(n.remoteStore,t),n.du=n.du.remove(e),n.Eu.delete(t),$h(n))}function k_(n,e,t){for(let i of t)i instanceof La?(n.Au.addReference(i.key,e),ZS(n,i)):i instanceof Va?(F(qh,"Document no longer in limbo: "+i.key),n.Au.removeReference(i.key,e),n.Au.containsKey(i.key)||Xv(n,i.key)):V(19791,{yu:i})}function ZS(n,e){let t=e.key,i=t.path.canonicalString();n.du.get(t)||n.Iu.has(i)||(F(qh,"New document in limbo: "+t),n.Iu.add(i),$h(n))}function $h(n){for(;n.Iu.size>0&&n.du.size<n.maxConcurrentLimboResolutions;){let e=n.Iu.values().next().value;n.Iu.delete(e);let t=new L(ue.fromString(e)),i=n.mu.next();n.Eu.set(i,new uh(t)),n.du=n.du.insert(t,i),zv(n.remoteStore,new Co(Ft(Qa(t.path)),i,"TargetPurposeLimboResolution",Th.ue))}}function Lo(n,e,t){return _(this,null,function*(){let i=z(n),r=[],o=[],a=[];i.Pu.isEmpty()||(i.Pu.forEach((c,u)=>{a.push(i.gu(u,e,t).then(h=>{var f;if((h||t)&&i.isPrimaryClient){let p=h?!h.fromCache:(f=t?.targetChanges.get(u.targetId))===null||f===void 0?void 0:f.current;i.sharedClientState.updateQueryState(u.targetId,p?"current":"not-current")}if(h){r.push(h);let p=zd.Es(u.targetId,h);o.push(p)}}))}),yield Promise.all(a),i.hu.J_(r),yield(function(u,h){return _(this,null,function*(){let f=z(u);try{yield f.persistence.runTransaction("notifyLocalViewChanges","readwrite",p=>P.forEach(h,v=>P.forEach(v.Is,C=>f.persistence.referenceDelegate.addReference(p,v.targetId,C)).next(()=>P.forEach(v.ds,C=>f.persistence.referenceDelegate.removeReference(p,v.targetId,C)))))}catch(p){if(!dr(p))throw p;F(Nh,"Failed to update sequence numbers: "+p)}for(let p of h){let v=p.targetId;if(!p.fromCache){let C=f.Fs.get(v),k=C.snapshotVersion,O=C.withLastLimboFreeSnapshotVersion(k);f.Fs=f.Fs.insert(v,O)}}})})(i.localStore,o))})}function eC(n,e){return _(this,null,function*(){let t=z(n);if(!t.currentUser.isEqual(e)){F(qh,"User change. New user:",e.toKey());let i=yield Uv(t.localStore,e);t.currentUser=e,(function(o,a){o.Vu.forEach(c=>{c.forEach(u=>{u.reject(new M(R.CANCELLED,a))})}),o.Vu.clear()})(t,"'waitForPendingWrites' promise is rejected due to a user change."),t.sharedClientState.handleUserChange(e,i.removedBatchIds,i.addedBatchIds),yield Lo(t,i.Bs)}})}function tC(n,e){let t=z(n),i=t.Eu.get(e);if(i&&i.lu)return Y().add(i.key);{let r=Y(),o=t.Tu.get(e);if(!o)return r;for(let a of o){let c=t.Pu.get(a);r=r.unionWith(c.view.tu)}return r}}function Jv(n){let e=z(n);return e.remoteStore.remoteSyncer.applyRemoteEvent=Kv.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=tC.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=QS.bind(null,e),e.hu.J_=jS.bind(null,e.eventManager),e.hu.pu=qS.bind(null,e.eventManager),e}function nC(n){let e=z(n);return e.remoteStore.remoteSyncer.applySuccessfulWrite=XS.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=JS.bind(null,e),e}var Zv=(()=>{class n{constructor(){this.kind="memory",this.synchronizeTabs=!1}initialize(t){return _(this,null,function*(){this.serializer=Za(t.databaseInfo.databaseId),this.sharedClientState=this.bu(t),this.persistence=this.Du(t),yield this.persistence.start(),this.localStore=this.vu(t),this.gcScheduler=this.Cu(t,this.localStore),this.indexBackfillerScheduler=this.Fu(t,this.localStore)})}Cu(t,i){return null}Fu(t,i){return null}vu(t){return IS(this.persistence,new qd,t.initialUser,this.serializer)}Du(t){return new xa(Bd.Vi,this.serializer)}bu(t){return new Hd}terminate(){return _(this,null,function*(){var t,i;(t=this.gcScheduler)===null||t===void 0||t.stop(),(i=this.indexBackfillerScheduler)===null||i===void 0||i.stop(),this.sharedClientState.shutdown(),yield this.persistence.shutdown()})}}return n.provider={build:()=>new n},n})(),fh=class extends Zv{constructor(e){super(),this.cacheSizeBytes=e}Cu(e,t){ee(this.persistence.referenceDelegate instanceof Ra,46915);let i=this.persistence.referenceDelegate.garbageCollector;return new Cd(i,e.asyncQueue,t)}Du(e){let t=this.cacheSizeBytes!==void 0?ut.withCacheSize(this.cacheSizeBytes):ut.DEFAULT;return new xa(i=>Ra.Vi(i,t),this.serializer)}};var iC=(()=>{class n{initialize(t,i){return _(this,null,function*(){this.localStore||(this.localStore=t.localStore,this.sharedClientState=t.sharedClientState,this.datastore=this.createDatastore(i),this.remoteStore=this.createRemoteStore(i),this.eventManager=this.createEventManager(i),this.syncEngine=this.createSyncEngine(i,!t.synchronizeTabs),this.sharedClientState.onlineStateHandler=r=>R_(this.syncEngine,r,1),this.remoteStore.remoteSyncer.handleCredentialChange=eC.bind(null,this.syncEngine),yield zS(this.remoteStore,this.syncEngine.isPrimaryClient))})}createEventManager(t){return(function(){return new sh})()}createDatastore(t){let i=Za(t.databaseInfo.databaseId),r=(function(a){return new Xd(a)})(t.databaseInfo);return(function(a,c,u,h){return new th(a,c,u,h)})(t.authCredentials,t.appCheckCredentials,r,i)}createRemoteStore(t){return(function(r,o,a,c,u){return new ih(r,o,a,c,u)})(this.localStore,this.datastore,t.asyncQueue,i=>R_(this.syncEngine,i,0),(function(){return Pa.C()?new Pa:new Gd})())}createSyncEngine(t,i){return(function(o,a,c,u,h,f,p){let v=new dh(o,a,c,u,h,f);return p&&(v.fu=!0),v})(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,t.initialUser,t.maxConcurrentLimboResolutions,i)}terminate(){return _(this,null,function*(){var t,i;yield(function(o){return _(this,null,function*(){let a=z(o);F(hi,"RemoteStore shutting down."),a.Ia.add(5),yield Fo(a),a.Ea.shutdown(),a.Aa.set("Unknown")})})(this.remoteStore),(t=this.datastore)===null||t===void 0||t.terminate(),(i=this.eventManager)===null||i===void 0||i.terminate()})}}return n.provider={build:()=>new n},n})();var Po=class{constructor(e){this.observer=e,this.muted=!1}next(e){this.muted||this.observer.next&&this.xu(this.observer.next,e)}error(e){this.muted||(this.observer.error?this.xu(this.observer.error,e):tn("Uncaught Error in snapshot listener:",e.toString()))}Ou(){this.muted=!0}xu(e,t){setTimeout(()=>{this.muted||e(t)},0)}};var Vn="FirestoreClient",mh=class{constructor(e,t,i,r,o){this.authCredentials=e,this.appCheckCredentials=t,this.asyncQueue=i,this.databaseInfo=r,this.user=De.UNAUTHENTICATED,this.clientId=wo.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=o,this.authCredentials.start(i,a=>_(this,null,function*(){F(Vn,"Received user=",a.uid),yield this.authCredentialListener(a),this.user=a})),this.appCheckCredentials.start(i,a=>(F(Vn,"Received new app check token=",a),this.appCheckCredentialListener(a,this.user)))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}terminate(){this.asyncQueue.enterRestrictedMode();let e=new Tt;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(()=>_(this,null,function*(){try{this._onlineComponents&&(yield this._onlineComponents.terminate()),this._offlineComponents&&(yield this._offlineComponents.terminate()),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(t){let i=Uh(t,"Failed to shutdown persistence");e.reject(i)}})),e.promise}};function Uu(n,e){return _(this,null,function*(){n.asyncQueue.verifyOperationInProgress(),F(Vn,"Initializing OfflineComponentProvider");let t=n.configuration;yield e.initialize(t);let i=t.initialUser;n.setCredentialChangeListener(r=>_(null,null,function*(){i.isEqual(r)||(yield Uv(e.localStore,r),i=r)})),e.persistence.setDatabaseDeletedListener(()=>{Mn("Terminating Firestore due to IndexedDb database deletion"),n.terminate().then(()=>{F("Terminating Firestore due to IndexedDb database deletion completed successfully")}).catch(r=>{Mn("Terminating Firestore due to IndexedDb database deletion failed",r)})}),n._offlineComponents=e})}function P_(n,e){return _(this,null,function*(){n.asyncQueue.verifyOperationInProgress();let t=yield rC(n);F(Vn,"Initializing OnlineComponentProvider"),yield e.initialize(t,n.configuration),n.setCredentialChangeListener(i=>S_(e.remoteStore,i)),n.setAppCheckTokenChangeListener((i,r)=>S_(e.remoteStore,r)),n._onlineComponents=e})}function rC(n){return _(this,null,function*(){if(!n._offlineComponents)if(n._uninitializedComponentsProvider){F(Vn,"Using user provided OfflineComponentProvider");try{yield Uu(n,n._uninitializedComponentsProvider._offline)}catch(e){let t=e;if(!(function(r){return r.name==="FirebaseError"?r.code===R.FAILED_PRECONDITION||r.code===R.UNIMPLEMENTED:!(typeof DOMException<"u"&&r instanceof DOMException)||r.code===22||r.code===20||r.code===11})(t))throw t;Mn("Error using user provided cache. Falling back to memory cache: "+t),yield Uu(n,new Zv)}}else F(Vn,"Using default OfflineComponentProvider"),yield Uu(n,new fh(void 0));return n._offlineComponents})}function ey(n){return _(this,null,function*(){return n._onlineComponents||(n._uninitializedComponentsProvider?(F(Vn,"Using user provided OnlineComponentProvider"),yield P_(n,n._uninitializedComponentsProvider._online)):(F(Vn,"Using default OnlineComponentProvider"),yield P_(n,new iC))),n._onlineComponents})}function oC(n){return ey(n).then(e=>e.syncEngine)}function Ua(n){return _(this,null,function*(){let e=yield ey(n),t=e.eventManager;return t.onListen=$S.bind(null,e.syncEngine),t.onUnlisten=GS.bind(null,e.syncEngine),t.onFirstRemoteStoreListen=WS.bind(null,e.syncEngine),t.onLastRemoteStoreUnlisten=KS.bind(null,e.syncEngine),t})}function sC(n,e,t={}){let i=new Tt;return n.asyncQueue.enqueueAndForget(()=>_(null,null,function*(){return(function(o,a,c,u,h){let f=new Po({next:v=>{f.Ou(),a.enqueueAndForget(()=>zh(o,p));let C=v.docs.has(c);!C&&v.fromCache?h.reject(new M(R.UNAVAILABLE,"Failed to get document because the client is offline.")):C&&v.fromCache&&u&&u.source==="server"?h.reject(new M(R.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):h.resolve(v)},error:v=>h.reject(v)}),p=new ko(Qa(c.path),f,{includeMetadataChanges:!0,ka:!0});return Bh(o,p)})(yield Ua(n),n.asyncQueue,e,t,i)})),i.promise}function aC(n,e,t={}){let i=new Tt;return n.asyncQueue.enqueueAndForget(()=>_(null,null,function*(){return(function(o,a,c,u,h){let f=new Po({next:v=>{f.Ou(),a.enqueueAndForget(()=>zh(o,p)),v.fromCache&&u.source==="server"?h.reject(new M(R.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):h.resolve(v)},error:v=>h.reject(v)}),p=new ko(c,f,{includeMetadataChanges:!0,ka:!0});return Bh(o,p)})(yield Ua(n),n.asyncQueue,e,t,i)})),i.promise}function ty(n){let e={};return n.timeoutSeconds!==void 0&&(e.timeoutSeconds=n.timeoutSeconds),e}var D_=new Map;var ny="firestore.googleapis.com",O_=!0,Ba=class{constructor(e){var t,i;if(e.host===void 0){if(e.ssl!==void 0)throw new M(R.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=ny,this.ssl=O_}else this.host=e.host,this.ssl=(t=e.ssl)!==null&&t!==void 0?t:O_;if(this.isUsingEmulator=e.emulatorOptions!==void 0,this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=Vv;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<bS)throw new M(R.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}vA("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=ty((i=e.experimentalLongPollingOptions)!==null&&i!==void 0?i:{}),(function(o){if(o.timeoutSeconds!==void 0){if(isNaN(o.timeoutSeconds))throw new M(R.INVALID_ARGUMENT,`invalid long polling timeout: ${o.timeoutSeconds} (must not be NaN)`);if(o.timeoutSeconds<5)throw new M(R.INVALID_ARGUMENT,`invalid long polling timeout: ${o.timeoutSeconds} (minimum allowed value is 5)`);if(o.timeoutSeconds>30)throw new M(R.INVALID_ARGUMENT,`invalid long polling timeout: ${o.timeoutSeconds} (maximum allowed value is 30)`)}})(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&(function(i,r){return i.timeoutSeconds===r.timeoutSeconds})(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}},ar=class{constructor(e,t,i,r){this._authCredentials=e,this._appCheckCredentials=t,this._databaseId=i,this._app=r,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new Ba({}),this._settingsFrozen=!1,this._emulatorOptions={},this._terminateTask="notTerminated"}get app(){if(!this._app)throw new M(R.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(e){if(this._settingsFrozen)throw new M(R.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new Ba(e),this._emulatorOptions=e.emulatorOptions||{},e.credentials!==void 0&&(this._authCredentials=(function(i){if(!i)return new Bu;switch(i.type){case"firstParty":return new $u(i.sessionIndex||"0",i.iamToken||null,i.authTokenFactory||null);case"provider":return i.client;default:throw new M(R.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}})(e.credentials))}_getSettings(){return this._settings}_getEmulatorOptions(){return this._emulatorOptions}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}_restart(){return _(this,null,function*(){this._terminateTask==="notTerminated"?yield this._terminate():this._terminateTask="notTerminated"})}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return(function(t){let i=D_.get(t);i&&(F("ComponentProvider","Removing Datastore"),D_.delete(t),i.terminate())})(this),Promise.resolve()}};function iy(n,e,t,i={}){var r;n=ht(n,ar);let o=yn(e),a=n._getSettings(),c=Object.assign(Object.assign({},a),{emulatorOptions:n._getEmulatorOptions()}),u=`${e}:${t}`;o&&(Ps(`https://${u}`),Ds("Firestore",!0)),a.host!==ny&&a.host!==u&&Mn("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used.");let h=Object.assign(Object.assign({},a),{host:u,ssl:o,emulatorOptions:i});if(!Pt(h,c)&&(n._setSettings(h),i.mockUserToken)){let f,p;if(typeof i.mockUserToken=="string")f=i.mockUserToken,p=De.MOCK_USER;else{f=cp(i.mockUserToken,(r=n._app)===null||r===void 0?void 0:r.options.projectId);let v=i.mockUserToken.sub||i.mockUserToken.user_id;if(!v)throw new M(R.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");p=new De(v)}n._authCredentials=new zu(new fa(f,p))}}var fi=class n{constructor(e,t,i){this.converter=t,this._query=i,this.type="query",this.firestore=e}withConverter(e){return new n(this.firestore,e,this._query)}},xe=class n{constructor(e,t,i){this.converter=t,this._key=i,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new Pn(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new n(this.firestore,e,this._key)}toJSON(){return{type:n._jsonSchemaVersion,referencePath:this._key.toString()}}static fromJSON(e,t,i){if(Mo(t,n._jsonSchema))return new n(e,i||null,new L(ue.fromString(t.referencePath)))}};xe._jsonSchemaVersion="firestore/documentReference/1.0",xe._jsonSchema={type:Ce("string",xe._jsonSchemaVersion),referencePath:Ce("string")};var Pn=class n extends fi{constructor(e,t,i){super(e,t,Qa(i)),this._path=i,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){let e=this._path.popLast();return e.isEmpty()?null:new xe(this.firestore,null,new L(e))}withConverter(e){return new n(this.firestore,e,this._path)}};function ry(n,e,...t){if(n=be(n),z_("collection","path",e),n instanceof ar){let i=ue.fromString(e,...t);return Xg(i),new Pn(n,null,i)}{if(!(n instanceof xe||n instanceof Pn))throw new M(R.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");let i=n._path.child(ue.fromString(e,...t));return Xg(i),new Pn(n.firestore,null,i)}}function oy(n,e,...t){if(n=be(n),arguments.length===1&&(e=wo.newId()),z_("doc","path",e),n instanceof ar){let i=ue.fromString(e,...t);return Qg(i),new xe(n,null,new L(i))}{if(!(n instanceof xe||n instanceof Pn))throw new M(R.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");let i=n._path.child(ue.fromString(e,...t));return Qg(i),new xe(n.firestore,n instanceof Pn?n.converter:null,new L(i))}}var N_="AsyncQueue",za=class{constructor(e=Promise.resolve()){this.Zu=[],this.Xu=!1,this.ec=[],this.tc=null,this.nc=!1,this.rc=!1,this.sc=[],this.F_=new Da(this,"async_queue_retry"),this.oc=()=>{let i=Vu();i&&F(N_,"Visibility state changed to "+i.visibilityState),this.F_.y_()},this._c=e;let t=Vu();t&&typeof t.addEventListener=="function"&&t.addEventListener("visibilitychange",this.oc)}get isShuttingDown(){return this.Xu}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.ac(),this.uc(e)}enterRestrictedMode(e){if(!this.Xu){this.Xu=!0,this.rc=e||!1;let t=Vu();t&&typeof t.removeEventListener=="function"&&t.removeEventListener("visibilitychange",this.oc)}}enqueue(e){if(this.ac(),this.Xu)return new Promise(()=>{});let t=new Tt;return this.uc(()=>this.Xu&&this.rc?Promise.resolve():(e().then(t.resolve,t.reject),t.promise)).then(()=>t.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.Zu.push(e),this.cc()))}cc(){return _(this,null,function*(){if(this.Zu.length!==0){try{yield this.Zu[0](),this.Zu.shift(),this.F_.reset()}catch(e){if(!dr(e))throw e;F(N_,"Operation failed with retryable error: "+e)}this.Zu.length>0&&this.F_.g_(()=>this.cc())}})}uc(e){let t=this._c.then(()=>(this.nc=!0,e().catch(i=>{throw this.tc=i,this.nc=!1,tn("INTERNAL UNHANDLED ERROR: ",M_(i)),i}).then(i=>(this.nc=!1,i))));return this._c=t,t}enqueueAfterDelay(e,t,i){this.ac(),this.sc.indexOf(e)>-1&&(t=0);let r=rh.createAndSchedule(this,e,t,i,o=>this.lc(o));return this.ec.push(r),r}ac(){this.tc&&V(47125,{hc:M_(this.tc)})}verifyOperationInProgress(){}Pc(){return _(this,null,function*(){let e;do e=this._c,yield e;while(e!==this._c)})}Tc(e){for(let t of this.ec)if(t.timerId===e)return!0;return!1}Ic(e){return this.Pc().then(()=>{this.ec.sort((t,i)=>t.targetTimeMs-i.targetTimeMs);for(let t of this.ec)if(t.skipDelay(),e!=="all"&&t.timerId===e)break;return this.Pc()})}dc(e){this.sc.push(e)}lc(e){let t=this.ec.indexOf(e);this.ec.splice(t,1)}};function M_(n){let e=n.message||"";return n.stack&&(e=n.stack.includes(n.message)?n.stack:n.message+`
`+n.stack),e}function F_(n){return(function(t,i){if(typeof t!="object"||t===null)return!1;let r=t;for(let o of i)if(o in r&&typeof r[o]=="function")return!0;return!1})(n,["next","error","complete"])}var an=class extends ar{constructor(e,t,i,r){super(e,t,i,r),this.type="firestore",this._queue=new za,this._persistenceKey=r?.name||"[DEFAULT]"}_terminate(){return _(this,null,function*(){if(this._firestoreClient){let e=this._firestoreClient.terminate();this._queue=new za(e),this._firestoreClient=void 0,yield e}})}};function sy(n,e){let t=typeof n=="object"?n:Yn(),i=typeof n=="string"?n:e||va,r=Mi(t,"firestore").getImmediate({identifier:i});if(!r._initialized){let o=ap("firestore");o&&iy(r,...o)}return r}function nc(n){if(n._terminated)throw new M(R.FAILED_PRECONDITION,"The client has already been terminated.");return n._firestoreClient||cC(n),n._firestoreClient}function cC(n){var e,t,i;let r=n._freezeSettings(),o=(function(c,u,h,f){return new Yu(c,u,h,f.host,f.ssl,f.experimentalForceLongPolling,f.experimentalAutoDetectLongPolling,ty(f.experimentalLongPollingOptions),f.useFetchStreams,f.isUsingEmulator)})(n._databaseId,((e=n._app)===null||e===void 0?void 0:e.options.appId)||"",n._persistenceKey,r);n._componentsProvider||!((t=r.localCache)===null||t===void 0)&&t._offlineComponentProvider&&(!((i=r.localCache)===null||i===void 0)&&i._onlineComponentProvider)&&(n._componentsProvider={_offline:r.localCache._offlineComponentProvider,_online:r.localCache._onlineComponentProvider}),n._firestoreClient=new mh(n._authCredentials,n._appCheckCredentials,n._queue,o,n._componentsProvider&&(function(c){let u=c?._online.build();return{_offline:c?._offline.build(u),_online:u}})(n._componentsProvider))}var Dn=class n{constructor(e){this._byteString=e}static fromBase64String(e){try{return new n(We.fromBase64String(e))}catch(t){throw new M(R.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+t)}}static fromUint8Array(e){return new n(We.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}toJSON(){return{type:n._jsonSchemaVersion,bytes:this.toBase64()}}static fromJSON(e){if(Mo(e,n._jsonSchema))return n.fromBase64String(e.bytes)}};Dn._jsonSchemaVersion="firestore/bytes/1.0",Dn._jsonSchema={type:Ce("string",Dn._jsonSchemaVersion),bytes:Ce("string")};var cr=class{constructor(...e){for(let t=0;t<e.length;++t)if(e[t].length===0)throw new M(R.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new at(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}};var Do=class{constructor(e){this._methodName=e}};var On=class n{constructor(e,t){if(!isFinite(e)||e<-90||e>90)throw new M(R.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(t)||t<-180||t>180)throw new M(R.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+t);this._lat=e,this._long=t}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}_compareTo(e){return G(this._lat,e._lat)||G(this._long,e._long)}toJSON(){return{latitude:this._lat,longitude:this._long,type:n._jsonSchemaVersion}}static fromJSON(e){if(Mo(e,n._jsonSchema))return new n(e.latitude,e.longitude)}};On._jsonSchemaVersion="firestore/geoPoint/1.0",On._jsonSchema={type:Ce("string",On._jsonSchemaVersion),latitude:Ce("number"),longitude:Ce("number")};var Nn=class n{constructor(e){this._values=(e||[]).map(t=>t)}toArray(){return this._values.map(e=>e)}isEqual(e){return(function(i,r){if(i.length!==r.length)return!1;for(let o=0;o<i.length;++o)if(i[o]!==r[o])return!1;return!0})(this._values,e._values)}toJSON(){return{type:n._jsonSchemaVersion,vectorValues:this._values}}static fromJSON(e){if(Mo(e,n._jsonSchema)){if(Array.isArray(e.vectorValues)&&e.vectorValues.every(t=>typeof t=="number"))return new n(e.vectorValues);throw new M(R.INVALID_ARGUMENT,"Expected 'vectorValues' field to be a number array")}}};Nn._jsonSchemaVersion="firestore/vectorValue/1.0",Nn._jsonSchema={type:Ce("string",Nn._jsonSchemaVersion),vectorValues:Ce("object")};var lC=/^__.*__$/,ph=class{constructor(e,t,i){this.data=e,this.fieldMask=t,this.fieldTransforms=i}toMutation(e,t){return this.fieldMask!==null?new Ut(e,this.data,this.fieldMask,t,this.fieldTransforms):new di(e,this.data,t,this.fieldTransforms)}},ja=class{constructor(e,t,i){this.data=e,this.fieldMask=t,this.fieldTransforms=i}toMutation(e,t){return new Ut(e,this.data,this.fieldMask,t,this.fieldTransforms)}};function ay(n){switch(n){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw V(40011,{Ec:n})}}var gh=class n{constructor(e,t,i,r,o,a){this.settings=e,this.databaseId=t,this.serializer=i,this.ignoreUndefinedProperties=r,o===void 0&&this.Ac(),this.fieldTransforms=o||[],this.fieldMask=a||[]}get path(){return this.settings.path}get Ec(){return this.settings.Ec}Rc(e){return new n(Object.assign(Object.assign({},this.settings),e),this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}Vc(e){var t;let i=(t=this.path)===null||t===void 0?void 0:t.child(e),r=this.Rc({path:i,mc:!1});return r.fc(e),r}gc(e){var t;let i=(t=this.path)===null||t===void 0?void 0:t.child(e),r=this.Rc({path:i,mc:!1});return r.Ac(),r}yc(e){return this.Rc({path:void 0,mc:!0})}wc(e){return $a(e,this.settings.methodName,this.settings.Sc||!1,this.path,this.settings.bc)}contains(e){return this.fieldMask.find(t=>e.isPrefixOf(t))!==void 0||this.fieldTransforms.find(t=>e.isPrefixOf(t.field))!==void 0}Ac(){if(this.path)for(let e=0;e<this.path.length;e++)this.fc(this.path.get(e))}fc(e){if(e.length===0)throw this.wc("Document fields must not be empty");if(ay(this.Ec)&&lC.test(e))throw this.wc('Document fields cannot begin and end with "__"')}},_h=class{constructor(e,t,i){this.databaseId=e,this.ignoreUndefinedProperties=t,this.serializer=i||Za(e)}Dc(e,t,i,r=!1){return new gh({Ec:e,methodName:t,bc:i,path:at.emptyPath(),mc:!1,Sc:r},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}};function Wh(n){let e=n._freezeSettings(),t=Za(n._databaseId);return new _h(n._databaseId,!!e.ignoreUndefinedProperties,t)}function uC(n,e,t,i,r,o={}){let a=n.Dc(o.merge||o.mergeFields?2:0,e,t,r);Hh("Data must be an object, but it was:",a,i);let c=cy(i,a),u,h;if(o.merge)u=new dt(a.fieldMask),h=a.fieldTransforms;else if(o.mergeFields){let f=[];for(let p of o.mergeFields){let v=vh(e,p,t);if(!a.contains(v))throw new M(R.INVALID_ARGUMENT,`Field '${v}' is specified in your field mask but missing from your input data.`);uy(f,v)||f.push(v)}u=new dt(f),h=a.fieldTransforms.filter(p=>u.covers(p.field))}else u=null,h=a.fieldTransforms;return new ph(new st(c),u,h)}var qa=class n extends Do{_toFieldTransform(e){if(e.Ec!==2)throw e.Ec===1?e.wc(`${this._methodName}() can only appear at the top level of your update data`):e.wc(`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof n}};function dC(n,e,t,i){let r=n.Dc(1,e,t);Hh("Data must be an object, but it was:",r,i);let o=[],a=st.empty();Un(i,(u,h)=>{let f=Gh(e,u,t);h=be(h);let p=r.gc(f);if(h instanceof qa)o.push(f);else{let v=Vo(h,p);v!=null&&(o.push(f),a.set(f,v))}});let c=new dt(o);return new ja(a,c,r.fieldTransforms)}function hC(n,e,t,i,r,o){let a=n.Dc(1,e,t),c=[vh(e,i,t)],u=[r];if(o.length%2!=0)throw new M(R.INVALID_ARGUMENT,`Function ${e}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let v=0;v<o.length;v+=2)c.push(vh(e,o[v])),u.push(o[v+1]);let h=[],f=st.empty();for(let v=c.length-1;v>=0;--v)if(!uy(h,c[v])){let C=c[v],k=u[v];k=be(k);let O=a.gc(C);if(k instanceof qa)h.push(C);else{let D=Vo(k,O);D!=null&&(h.push(C),f.set(C,D))}}let p=new dt(h);return new ja(f,p,a.fieldTransforms)}function fC(n,e,t,i=!1){return Vo(t,n.Dc(i?4:3,e))}function Vo(n,e){if(ly(n=be(n)))return Hh("Unsupported field value:",e,n),cy(n,e);if(n instanceof Do)return(function(i,r){if(!ay(r.Ec))throw r.wc(`${i._methodName}() can only be used with update() and set()`);if(!r.path)throw r.wc(`${i._methodName}() is not currently supported inside arrays`);let o=i._toFieldTransform(r);o&&r.fieldTransforms.push(o)})(n,e),null;if(n===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),n instanceof Array){if(e.settings.mc&&e.Ec!==4)throw e.wc("Nested arrays are not supported");return(function(i,r){let o=[],a=0;for(let c of i){let u=Vo(c,r.yc(a));u==null&&(u={nullValue:"NULL_VALUE"}),o.push(u),a++}return{arrayValue:{values:o}}})(n,e)}return(function(i,r){if((i=be(i))===null)return{nullValue:"NULL_VALUE"};if(typeof i=="number")return YA(r.serializer,i);if(typeof i=="boolean")return{booleanValue:i};if(typeof i=="string")return{stringValue:i};if(i instanceof Date){let o=_e.fromDate(i);return{timestampValue:Sa(r.serializer,o)}}if(i instanceof _e){let o=new _e(i.seconds,1e3*Math.floor(i.nanoseconds/1e3));return{timestampValue:Sa(r.serializer,o)}}if(i instanceof On)return{geoPointValue:{latitude:i.latitude,longitude:i.longitude}};if(i instanceof Dn)return{bytesValue:Pv(r.serializer,i._byteString)};if(i instanceof xe){let o=r.databaseId,a=i.firestore._databaseId;if(!a.isEqual(o))throw r.wc(`Document reference is for database ${a.projectId}/${a.database} but should be for database ${o.projectId}/${o.database}`);return{referenceValue:Oh(i.firestore._databaseId||r.databaseId,i._key.path)}}if(i instanceof Nn)return(function(a,c){return{mapValue:{fields:{[Ch]:{stringValue:xh},[Xi]:{arrayValue:{values:a.toArray().map(h=>{if(typeof h!="number")throw c.wc("VectorValues must only contain numeric values.");return Dh(c.serializer,h)})}}}}}})(i,r);throw r.wc(`Unsupported field value: ${Ga(i)}`)})(n,e)}function cy(n,e){let t={};return iv(n)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):Un(n,(i,r)=>{let o=Vo(r,e.Vc(i));o!=null&&(t[i]=o)}),{mapValue:{fields:t}}}function ly(n){return!(typeof n!="object"||n===null||n instanceof Array||n instanceof Date||n instanceof _e||n instanceof On||n instanceof Dn||n instanceof xe||n instanceof Do||n instanceof Nn)}function Hh(n,e,t){if(!ly(t)||!j_(t)){let i=Ga(t);throw i==="an object"?e.wc(n+" a custom object"):e.wc(n+" "+i)}}function vh(n,e,t){if((e=be(e))instanceof cr)return e._internalPath;if(typeof e=="string")return Gh(n,e);throw $a("Field path arguments must be of type string or ",n,!1,void 0,t)}var mC=new RegExp("[~\\*/\\[\\]]");function Gh(n,e,t){if(e.search(mC)>=0)throw $a(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,n,!1,void 0,t);try{return new cr(...e.split("."))._internalPath}catch{throw $a(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,n,!1,void 0,t)}}function $a(n,e,t,i,r){let o=i&&!i.isEmpty(),a=r!==void 0,c=`Function ${e}() called with invalid data`;t&&(c+=" (via `toFirestore()`)"),c+=". ";let u="";return(o||a)&&(u+=" (found",o&&(u+=` in field ${i}`),a&&(u+=` in document ${r}`),u+=")"),new M(R.INVALID_ARGUMENT,c+n+u)}function uy(n,e){return n.some(t=>t.isEqual(e))}var Wa=class{constructor(e,t,i,r,o){this._firestore=e,this._userDataWriter=t,this._key=i,this._document=r,this._converter=o}get id(){return this._key.path.lastSegment()}get ref(){return new xe(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){let e=new yh(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){let t=this._document.data.field(Kh("DocumentSnapshot.get",e));if(t!==null)return this._userDataWriter.convertValue(t)}}},yh=class extends Wa{data(){return super.data()}};function Kh(n,e){return typeof e=="string"?Gh(n,e):e instanceof cr?e._internalPath:e._delegate._internalPath}function dy(n){if(n.limitType==="L"&&n.explicitOrderBy.length===0)throw new M(R.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}var Oo=class{},bh=class extends Oo{};function hy(n,e,...t){let i=[];e instanceof Oo&&i.push(e),i=i.concat(t),(function(o){let a=o.filter(u=>u instanceof wh).length,c=o.filter(u=>u instanceof Ha).length;if(a>1||a>0&&c>0)throw new M(R.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")})(i);for(let r of i)n=r._apply(n);return n}var Ha=class n extends bh{constructor(e,t,i){super(),this._field=e,this._op=t,this._value=i,this.type="where"}static _create(e,t,i){return new n(e,t,i)}_apply(e){let t=this._parse(e);return my(e._query,t),new fi(e.firestore,e.converter,cd(e._query,t))}_parse(e){let t=Wh(e.firestore);return(function(o,a,c,u,h,f,p){let v;if(h.isKeyField()){if(f==="array-contains"||f==="array-contains-any")throw new M(R.INVALID_ARGUMENT,`Invalid Query. You can't perform '${f}' queries on documentId().`);if(f==="in"||f==="not-in"){V_(p,f);let k=[];for(let O of p)k.push(L_(u,o,O));v={arrayValue:{values:k}}}else v=L_(u,o,p)}else f!=="in"&&f!=="not-in"&&f!=="array-contains-any"||V_(p,f),v=fC(c,a,p,f==="in"||f==="not-in");return Se.create(h,f,v)})(e._query,"where",t,e.firestore._databaseId,this._field,this._op,this._value)}};function fy(n,e,t){let i=e,r=Kh("where",n);return Ha._create(r,i,t)}var wh=class n extends Oo{constructor(e,t){super(),this.type=e,this._queryConstraints=t}static _create(e,t){return new n(e,t)}_parse(e){let t=this._queryConstraints.map(i=>i._parse(e)).filter(i=>i.getFilters().length>0);return t.length===1?t[0]:St.create(t,this._getOperator())}_apply(e){let t=this._parse(e);return t.getFilters().length===0?e:((function(r,o){let a=r,c=o.getFlattenedFilters();for(let u of c)my(a,u),a=cd(a,u)})(e._query,t),new fi(e.firestore,e.converter,cd(e._query,t)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return this.type==="and"?"and":"or"}};function L_(n,e,t){if(typeof(t=be(t))=="string"){if(t==="")throw new M(R.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!_v(e)&&t.indexOf("/")!==-1)throw new M(R.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${t}' contains a '/' character.`);let i=e.path.child(ue.fromString(t));if(!L.isDocumentKey(i))throw new M(R.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${i}' is not because it has an odd number of segments (${i.length}).`);return r_(n,new L(i))}if(t instanceof xe)return r_(n,t._key);throw new M(R.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${Ga(t)}.`)}function V_(n,e){if(!Array.isArray(n)||n.length===0)throw new M(R.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${e.toString()}' filters.`)}function my(n,e){let t=(function(r,o){for(let a of r)for(let c of a.getFlattenedFilters())if(o.indexOf(c.op)>=0)return c.op;return null})(n.filters,(function(r){switch(r){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}})(e.op));if(t!==null)throw t===e.op?new M(R.INVALID_ARGUMENT,`Invalid query. You cannot use more than one '${e.op.toString()}' filter.`):new M(R.INVALID_ARGUMENT,`Invalid query. You cannot use '${e.op.toString()}' filters with '${t.toString()}' filters.`)}var Eh=class{convertValue(e,t="none"){switch(Fn(e)){case 0:return null;case 1:return e.booleanValue;case 2:return le(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,t);case 5:return e.stringValue;case 6:return this.convertBytes(rn(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,t);case 11:return this.convertObject(e.mapValue,t);case 10:return this.convertVectorValue(e.mapValue);default:throw V(62114,{value:e})}}convertObject(e,t){return this.convertObjectMap(e.fields,t)}convertObjectMap(e,t="none"){let i={};return Un(e,(r,o)=>{i[r]=this.convertValue(o,t)}),i}convertVectorValue(e){var t,i,r;let o=(r=(i=(t=e.fields)===null||t===void 0?void 0:t[Xi].arrayValue)===null||i===void 0?void 0:i.values)===null||r===void 0?void 0:r.map(a=>le(a.doubleValue));return new Nn(o)}convertGeoPoint(e){return new On(le(e.latitude),le(e.longitude))}convertArray(e,t){return(e.values||[]).map(i=>this.convertValue(i,t))}convertServerTimestamp(e,t){switch(t){case"previous":let i=Ya(e);return i==null?null:this.convertValue(i,t);case"estimate":return this.convertTimestamp(To(e));default:return null}}convertTimestamp(e){let t=nn(e);return new _e(t.seconds,t.nanos)}convertDocumentKey(e,t){let i=ue.fromString(e);ee(Lv(i),9688,{name:e});let r=new ya(i.get(1),i.get(3)),o=new L(i.popFirst(5));return r.isEqual(t)||tn(`Document ${o} contains a document reference within a different database (${r.projectId}/${r.database}) which is not supported. It will be treated as a reference in the current database (${t.projectId}/${t.database}) instead.`),o}};function pC(n,e,t){let i;return i=n?t&&(t.merge||t.mergeFields)?n.toFirestore(e,t):n.toFirestore(e):e,i}var ii=class{constructor(e,t){this.hasPendingWrites=e,this.fromCache=t}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}},ri=class n extends Wa{constructor(e,t,i,r,o,a){super(e,t,i,r,a),this._firestore=e,this._firestoreImpl=e,this.metadata=o}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){let t=new Yi(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(t,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,t={}){if(this._document){let i=this._document.data.field(Kh("DocumentSnapshot.get",e));if(i!==null)return this._userDataWriter.convertValue(i,t.serverTimestamps)}}toJSON(){if(this.metadata.hasPendingWrites)throw new M(R.FAILED_PRECONDITION,"DocumentSnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");let e=this._document,t={};return t.type=n._jsonSchemaVersion,t.bundle="",t.bundleSource="DocumentSnapshot",t.bundleName=this._key.toString(),!e||!e.isValidDocument()||!e.isFoundDocument()?t:(this._userDataWriter.convertObjectMap(e.data.value.mapValue.fields,"previous"),t.bundle=(this._firestore,this.ref.path,"NOT SUPPORTED"),t)}};ri._jsonSchemaVersion="firestore/documentSnapshot/1.0",ri._jsonSchema={type:Ce("string",ri._jsonSchemaVersion),bundleSource:Ce("string","DocumentSnapshot"),bundleName:Ce("string"),bundle:Ce("string")};var Yi=class extends ri{data(e={}){return super.data(e)}},oi=class n{constructor(e,t,i,r){this._firestore=e,this._userDataWriter=t,this._snapshot=r,this.metadata=new ii(r.hasPendingWrites,r.fromCache),this.query=i}get docs(){let e=[];return this.forEach(t=>e.push(t)),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,t){this._snapshot.docs.forEach(i=>{e.call(t,new Yi(this._firestore,this._userDataWriter,i.key,i,new ii(this._snapshot.mutatedKeys.has(i.key),this._snapshot.fromCache),this.query.converter))})}docChanges(e={}){let t=!!e.includeMetadataChanges;if(t&&this._snapshot.excludesMetadataChanges)throw new M(R.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===t||(this._cachedChanges=(function(r,o){if(r._snapshot.oldDocs.isEmpty()){let a=0;return r._snapshot.docChanges.map(c=>{let u=new Yi(r._firestore,r._userDataWriter,c.doc.key,c.doc,new ii(r._snapshot.mutatedKeys.has(c.doc.key),r._snapshot.fromCache),r.query.converter);return c.doc,{type:"added",doc:u,oldIndex:-1,newIndex:a++}})}{let a=r._snapshot.oldDocs;return r._snapshot.docChanges.filter(c=>o||c.type!==3).map(c=>{let u=new Yi(r._firestore,r._userDataWriter,c.doc.key,c.doc,new ii(r._snapshot.mutatedKeys.has(c.doc.key),r._snapshot.fromCache),r.query.converter),h=-1,f=-1;return c.type!==0&&(h=a.indexOf(c.doc.key),a=a.delete(c.doc.key)),c.type!==1&&(a=a.add(c.doc),f=a.indexOf(c.doc.key)),{type:gC(c.type),doc:u,oldIndex:h,newIndex:f}})}})(this,t),this._cachedChangesIncludeMetadataChanges=t),this._cachedChanges}toJSON(){if(this.metadata.hasPendingWrites)throw new M(R.FAILED_PRECONDITION,"QuerySnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");let e={};e.type=n._jsonSchemaVersion,e.bundleSource="QuerySnapshot",e.bundleName=wo.newId(),this._firestore._databaseId.database,this._firestore._databaseId.projectId;let t=[],i=[],r=[];return this.docs.forEach(o=>{o._document!==null&&(t.push(o._document),i.push(this._userDataWriter.convertObjectMap(o._document.data.value.mapValue.fields,"previous")),r.push(o.ref.path))}),e.bundle=(this._firestore,this.query._query,e.bundleName,"NOT SUPPORTED"),e}};function gC(n){switch(n){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return V(61501,{type:n})}}function py(n){n=ht(n,xe);let e=ht(n.firestore,an);return sC(nc(e),n._key).then(t=>by(e,n,t))}oi._jsonSchemaVersion="firestore/querySnapshot/1.0",oi._jsonSchema={type:Ce("string",oi._jsonSchemaVersion),bundleSource:Ce("string","QuerySnapshot"),bundleName:Ce("string"),bundle:Ce("string")};var No=class extends Eh{constructor(e){super(),this.firestore=e}convertBytes(e){return new Dn(e)}convertReference(e){let t=this.convertDocumentKey(e,this.firestore._databaseId);return new xe(this.firestore,null,t)}};function gy(n){n=ht(n,fi);let e=ht(n.firestore,an),t=nc(e),i=new No(e);return dy(n._query),aC(t,n._query).then(r=>new oi(e,i,n,r))}function _y(n,e,t){n=ht(n,xe);let i=ht(n.firestore,an),r=pC(n.converter,e,t);return yy(i,[uC(Wh(i),"setDoc",n._key,r,n.converter!==null,t).toMutation(n._key,kn.none())])}function vy(n,e,t,...i){n=ht(n,xe);let r=ht(n.firestore,an),o=Wh(r),a;return a=typeof(e=be(e))=="string"||e instanceof cr?hC(o,"updateDoc",n._key,e,t,i):dC(o,"updateDoc",n._key,e),yy(r,[a.toMutation(n._key,kn.exists(!0))])}function Yh(n,...e){var t,i,r;n=be(n);let o={includeMetadataChanges:!1,source:"default"},a=0;typeof e[a]!="object"||F_(e[a])||(o=e[a++]);let c={includeMetadataChanges:o.includeMetadataChanges,source:o.source};if(F_(e[a])){let p=e[a];e[a]=(t=p.next)===null||t===void 0?void 0:t.bind(p),e[a+1]=(i=p.error)===null||i===void 0?void 0:i.bind(p),e[a+2]=(r=p.complete)===null||r===void 0?void 0:r.bind(p)}let u,h,f;if(n instanceof xe)h=ht(n.firestore,an),f=Qa(n._key.path),u={next:p=>{e[a]&&e[a](by(h,n,p))},error:e[a+1],complete:e[a+2]};else{let p=ht(n,fi);h=ht(p.firestore,an),f=p._query;let v=new No(h);u={next:C=>{e[a]&&e[a](new oi(h,v,p,C))},error:e[a+1],complete:e[a+2]},dy(n._query)}return(function(v,C,k,O){let D=new Po(O),j=new ko(C,D,k);return v.asyncQueue.enqueueAndForget(()=>_(null,null,function*(){return Bh(yield Ua(v),j)})),()=>{D.Ou(),v.asyncQueue.enqueueAndForget(()=>_(null,null,function*(){return zh(yield Ua(v),j)}))}})(nc(h),f,c,u)}function yy(n,e){return(function(i,r){let o=new Tt;return i.asyncQueue.enqueueAndForget(()=>_(null,null,function*(){return YS(yield oC(i),r,o)})),o.promise})(nc(n),e)}function by(n,e,t){let i=t.docs.get(e._key),r=new No(n);return new ri(n,r,e._key,i,new ii(t.hasPendingWrites,t.fromCache),e.converter)}(function(e,t=!0){(function(r){lr=r})(wn),wt(new Ye("firestore",(i,{instanceIdentifier:r,options:o})=>{let a=i.getProvider("app").getImmediate(),c=new an(new ju(i.getProvider("auth-internal")),new Wu(a,i.getProvider("app-check-internal")),(function(h,f){if(!Object.prototype.hasOwnProperty.apply(h.options,["projectId"]))throw new M(R.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new ya(h.options.projectId,f)})(a,r),a);return o=Object.assign({useFetchStreams:t},o),c._setSettings(o),c},"PUBLIC").setMultipleInstances(!0)),ge(Hg,Gg,e),ge(Hg,Gg,"esm2017")})();var ic=function(){return ic=Object.assign||function(e){for(var t,i=1,r=arguments.length;i<r;i++){t=arguments[i];for(var o in t)Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o])}return e},ic.apply(this,arguments)};var yC={includeMetadataChanges:!1};function wy(n,e){return e===void 0&&(e=yC),new Me(function(t){var i=Yh(n,e,{next:t.next.bind(t),error:t.error.bind(t),complete:t.complete.bind(t)});return{unsubscribe:i}})}function Ey(n,e){var t;e===void 0&&(e={});var i=n.data(e);return!n.exists()||typeof i!="object"||i===null||!e.idField?i:ic(ic({},i),(t={},t[e.idField]=n.id,t))}function Iy(n){return wy(n,{includeMetadataChanges:!0}).pipe(Re(function(e){return e.docs}))}function Ty(n,e){return e===void 0&&(e={}),Iy(n).pipe(Re(function(t){return t.map(function(i){return Ey(i,e)})}))}var pi=class{constructor(e){return e}},Ay="firestore",Qh=class{constructor(){return Li(Ay)}};var Xh=new Q("angularfire2.firestore-instances");function bC(n,e){let t=Zr(Ay,n,e);return t&&new pi(t)}function wC(n){return(e,t)=>{let i=e.runOutsideAngular(()=>n(t));return new pi(i)}}var EC={provide:Qh,deps:[[new Xe,Xh]]},IC={provide:pi,useFactory:bC,deps:[[new Xe,Xh],Kt]};function tO(n,...e){return ge("angularfire",En.full,"fst"),Ci([IC,EC,{provide:Xh,useFactory:wC(n),multi:!0,deps:[W,se,In,Xn,[new Xe,mo],[new Xe,Vi],...e]}])}var nO=Ie(Ty,!0);var iO=Ie(ry,!0,2);var Sy=Ie(oy,!0,2);var Cy=Ie(py,!0);var rO=Ie(gy,!0);var oO=Ie(sy,!0);var sO=Ie(hy,!0,2);var xy=Ie(_y,!0,2);var aO=Ie(vy,!0,2);var cO=Ie(fy,!0,2);var pO=(()=>{let e=class e{constructor(){this.auth=S(ei),this.firestore=S(pi),this.authState$=Bg(this.auth),this.usuarioActual=null}getUsuarioActual(){return this.usuarioActual}signUpWithEmailAndPassword(i){return zg(this.auth,i.email,i.password)}logInWithEmailAndPassword(i){return jg(this.auth,i.email,i.password)}logOut(){return this.auth.signOut()}signInWithGoogleProvider(){let i=new yu;return this.callPopUp(i)}signInWithGithubProvider(){let i=new bu;return this.callPopUp(i)}callPopUp(i){return _(this,null,function*(){try{let r=yield qg(this.auth,i),o=r.user,a=Sy(this.firestore,`usuarios/${o.uid}`),c=yield Cy(a);return this.usuarioActual={nombre:o.displayName||"",correo:o.email||""},c.exists()||(console.log("[AuthService] Creando documento en Firestore para nuevo usuario:",o.uid),yield xy(a,{uid:o.uid,name:o.displayName||"",email:o.email||"",rol:"estudiante",activo:!1,fecha_creacion:_e.fromDate(new Date)})),r}catch(r){return r}})}};e.\u0275fac=function(r){return new(r||e)},e.\u0275prov=$({token:e,factory:e.\u0275fac,providedIn:"root"});let n=e;return n})();function Uo(n){return n.buttons===0||n.detail===0}function Bo(n){let e=n.touches&&n.touches[0]||n.changedTouches&&n.changedTouches[0];return!!e&&e.identifier===-1&&(e.radiusX==null||e.radiusX===1)&&(e.radiusY==null||e.radiusY===1)}var Jh;function Ry(){if(Jh==null){let n=typeof document<"u"?document.head:null;Jh=!!(n&&(n.createShadowRoot||n.attachShadow))}return Jh}function Zh(n){if(Ry()){let e=n.getRootNode?n.getRootNode():null;if(typeof ShadowRoot<"u"&&ShadowRoot&&e instanceof ShadowRoot)return e}return null}function TC(){let n=typeof document<"u"&&document?document.activeElement:null;for(;n&&n.shadowRoot;){let e=n.shadowRoot.activeElement;if(e===n)break;n=e}return n}function nt(n){return n.composedPath?n.composedPath()[0]:n.target}var ef;try{ef=typeof Intl<"u"&&Intl.v8BreakIterator}catch{ef=!1}var ye=(()=>{class n{_platformId=S(ws);isBrowser=this._platformId?ep(this._platformId):typeof document=="object"&&!!document;EDGE=this.isBrowser&&/(edge)/i.test(navigator.userAgent);TRIDENT=this.isBrowser&&/(msie|trident)/i.test(navigator.userAgent);BLINK=this.isBrowser&&!!(window.chrome||ef)&&typeof CSS<"u"&&!this.EDGE&&!this.TRIDENT;WEBKIT=this.isBrowser&&/AppleWebKit/i.test(navigator.userAgent)&&!this.BLINK&&!this.EDGE&&!this.TRIDENT;IOS=this.isBrowser&&/iPad|iPhone|iPod/.test(navigator.userAgent)&&!("MSStream"in window);FIREFOX=this.isBrowser&&/(firefox|minefield)/i.test(navigator.userAgent);ANDROID=this.isBrowser&&/android/i.test(navigator.userAgent)&&!this.TRIDENT;SAFARI=this.isBrowser&&/safari/i.test(navigator.userAgent)&&this.WEBKIT;constructor(){}static \u0275fac=function(i){return new(i||n)};static \u0275prov=$({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();var zo;function ky(){if(zo==null&&typeof window<"u")try{window.addEventListener("test",null,Object.defineProperty({},"passive",{get:()=>zo=!0}))}finally{zo=zo||!1}return zo}function fr(n){return ky()?n:!!n.capture}function rc(n,e=0){return Py(n)?Number(n):arguments.length===2?e:0}function Py(n){return!isNaN(parseFloat(n))&&!isNaN(Number(n))}function ft(n){return n instanceof ce?n.nativeElement:n}var Dy=new Q("cdk-input-modality-detector-options"),Oy={ignoreKeys:[18,17,224,91,16]},Ny=650,tf={passive:!0,capture:!0},My=(()=>{class n{_platform=S(ye);_listenerCleanups;modalityDetected;modalityChanged;get mostRecentModality(){return this._modality.value}_mostRecentTarget=null;_modality=new Tm(null);_options;_lastTouchMs=0;_onKeydown=t=>{this._options?.ignoreKeys?.some(i=>i===t.keyCode)||(this._modality.next("keyboard"),this._mostRecentTarget=nt(t))};_onMousedown=t=>{Date.now()-this._lastTouchMs<Ny||(this._modality.next(Uo(t)?"keyboard":"mouse"),this._mostRecentTarget=nt(t))};_onTouchstart=t=>{if(Bo(t)){this._modality.next("keyboard");return}this._lastTouchMs=Date.now(),this._modality.next("touch"),this._mostRecentTarget=nt(t)};constructor(){let t=S(W),i=S(ae),r=S(Dy,{optional:!0});if(this._options=me(me({},Oy),r),this.modalityDetected=this._modality.pipe(_s(1)),this.modalityChanged=this.modalityDetected.pipe(ps()),this._platform.isBrowser){let o=S(vt).createRenderer(null,null);this._listenerCleanups=t.runOutsideAngular(()=>[o.listen(i,"keydown",this._onKeydown,tf),o.listen(i,"mousedown",this._onMousedown,tf),o.listen(i,"touchstart",this._onTouchstart,tf)])}}ngOnDestroy(){this._modality.complete(),this._listenerCleanups?.forEach(t=>t())}static \u0275fac=function(i){return new(i||n)};static \u0275prov=$({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})(),jo=(function(n){return n[n.IMMEDIATE=0]="IMMEDIATE",n[n.EVENTUAL=1]="EVENTUAL",n})(jo||{}),Fy=new Q("cdk-focus-monitor-default-options"),oc=fr({passive:!0,capture:!0}),sc=(()=>{class n{_ngZone=S(W);_platform=S(ye);_inputModalityDetector=S(My);_origin=null;_lastFocusOrigin;_windowFocused=!1;_windowFocusTimeoutId;_originTimeoutId;_originFromTouchInteraction=!1;_elementInfo=new Map;_monitoredElementCount=0;_rootNodeFocusListenerCount=new Map;_detectionMode;_windowFocusListener=()=>{this._windowFocused=!0,this._windowFocusTimeoutId=setTimeout(()=>this._windowFocused=!1)};_document=S(ae);_stopInputModalityDetector=new Z;constructor(){let t=S(Fy,{optional:!0});this._detectionMode=t?.detectionMode||jo.IMMEDIATE}_rootNodeFocusAndBlurListener=t=>{let i=nt(t);for(let r=i;r;r=r.parentElement)t.type==="focus"?this._onFocus(t,r):this._onBlur(t,r)};monitor(t,i=!1){let r=ft(t);if(!this._platform.isBrowser||r.nodeType!==1)return _t();let o=Zh(r)||this._document,a=this._elementInfo.get(r);if(a)return i&&(a.checkChildren=!0),a.subject;let c={checkChildren:i,subject:new Z,rootNode:o};return this._elementInfo.set(r,c),this._registerGlobalListeners(c),c.subject}stopMonitoring(t){let i=ft(t),r=this._elementInfo.get(i);r&&(r.subject.complete(),this._setClasses(i),this._elementInfo.delete(i),this._removeGlobalListeners(r))}focusVia(t,i,r){let o=ft(t),a=this._document.activeElement;o===a?this._getClosestElementsInfo(o).forEach(([c,u])=>this._originChanged(c,i,u)):(this._setOrigin(i),typeof o.focus=="function"&&o.focus(r))}ngOnDestroy(){this._elementInfo.forEach((t,i)=>this.stopMonitoring(i))}_getWindow(){return this._document.defaultView||window}_getFocusOrigin(t){return this._origin?this._originFromTouchInteraction?this._shouldBeAttributedToTouch(t)?"touch":"program":this._origin:this._windowFocused&&this._lastFocusOrigin?this._lastFocusOrigin:t&&this._isLastInteractionFromInputLabel(t)?"mouse":"program"}_shouldBeAttributedToTouch(t){return this._detectionMode===jo.EVENTUAL||!!t?.contains(this._inputModalityDetector._mostRecentTarget)}_setClasses(t,i){t.classList.toggle("cdk-focused",!!i),t.classList.toggle("cdk-touch-focused",i==="touch"),t.classList.toggle("cdk-keyboard-focused",i==="keyboard"),t.classList.toggle("cdk-mouse-focused",i==="mouse"),t.classList.toggle("cdk-program-focused",i==="program")}_setOrigin(t,i=!1){this._ngZone.runOutsideAngular(()=>{if(this._origin=t,this._originFromTouchInteraction=t==="touch"&&i,this._detectionMode===jo.IMMEDIATE){clearTimeout(this._originTimeoutId);let r=this._originFromTouchInteraction?Ny:1;this._originTimeoutId=setTimeout(()=>this._origin=null,r)}})}_onFocus(t,i){let r=this._elementInfo.get(i),o=nt(t);!r||!r.checkChildren&&i!==o||this._originChanged(i,this._getFocusOrigin(o),r)}_onBlur(t,i){let r=this._elementInfo.get(i);!r||r.checkChildren&&t.relatedTarget instanceof Node&&i.contains(t.relatedTarget)||(this._setClasses(i),this._emitOrigin(r,null))}_emitOrigin(t,i){t.subject.observers.length&&this._ngZone.run(()=>t.subject.next(i))}_registerGlobalListeners(t){if(!this._platform.isBrowser)return;let i=t.rootNode,r=this._rootNodeFocusListenerCount.get(i)||0;r||this._ngZone.runOutsideAngular(()=>{i.addEventListener("focus",this._rootNodeFocusAndBlurListener,oc),i.addEventListener("blur",this._rootNodeFocusAndBlurListener,oc)}),this._rootNodeFocusListenerCount.set(i,r+1),++this._monitoredElementCount===1&&(this._ngZone.runOutsideAngular(()=>{this._getWindow().addEventListener("focus",this._windowFocusListener)}),this._inputModalityDetector.modalityDetected.pipe($t(this._stopInputModalityDetector)).subscribe(o=>{this._setOrigin(o,!0)}))}_removeGlobalListeners(t){let i=t.rootNode;if(this._rootNodeFocusListenerCount.has(i)){let r=this._rootNodeFocusListenerCount.get(i);r>1?this._rootNodeFocusListenerCount.set(i,r-1):(i.removeEventListener("focus",this._rootNodeFocusAndBlurListener,oc),i.removeEventListener("blur",this._rootNodeFocusAndBlurListener,oc),this._rootNodeFocusListenerCount.delete(i))}--this._monitoredElementCount||(this._getWindow().removeEventListener("focus",this._windowFocusListener),this._stopInputModalityDetector.next(),clearTimeout(this._windowFocusTimeoutId),clearTimeout(this._originTimeoutId))}_originChanged(t,i,r){this._setClasses(t,i),this._emitOrigin(r,i),this._lastFocusOrigin=i}_getClosestElementsInfo(t){let i=[];return this._elementInfo.forEach((r,o)=>{(o===t||r.checkChildren&&o.contains(t))&&i.push([o,r])}),i}_isLastInteractionFromInputLabel(t){let{_mostRecentTarget:i,mostRecentModality:r}=this._inputModalityDetector;if(r!=="mouse"||!i||i===t||t.nodeName!=="INPUT"&&t.nodeName!=="TEXTAREA"||t.disabled)return!1;let o=t.labels;if(o){for(let a=0;a<o.length;a++)if(o[a].contains(i))return!0}return!1}static \u0275fac=function(i){return new(i||n)};static \u0275prov=$({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})(),AC=(()=>{class n{_elementRef=S(ce);_focusMonitor=S(sc);_monitorSubscription;_focusOrigin=null;cdkFocusChange=new Ht;constructor(){}get focusOrigin(){return this._focusOrigin}ngAfterViewInit(){let t=this._elementRef.nativeElement;this._monitorSubscription=this._focusMonitor.monitor(t,t.nodeType===1&&t.hasAttribute("cdkMonitorSubtreeFocus")).subscribe(i=>{this._focusOrigin=i,this.cdkFocusChange.emit(i)})}ngOnDestroy(){this._focusMonitor.stopMonitoring(this._elementRef),this._monitorSubscription&&this._monitorSubscription.unsubscribe()}static \u0275fac=function(i){return new(i||n)};static \u0275dir=pe({type:n,selectors:[["","cdkMonitorElementFocus",""],["","cdkMonitorSubtreeFocus",""]],outputs:{cdkFocusChange:"cdkFocusChange"},exportAs:["cdkMonitorFocus"]})}return n})();var ac=new WeakMap,Bt=(()=>{class n{_appRef;_injector=S(se);_environmentInjector=S(mn);load(t){let i=this._appRef=this._appRef||this._injector.get(Br),r=ac.get(i);r||(r={loaders:new Set,refs:[]},ac.set(i,r),i.onDestroy(()=>{ac.get(i)?.refs.forEach(o=>o.destroy()),ac.delete(i)})),r.loaders.has(t)||(r.loaders.add(t),r.refs.push(Cs(t,{environmentInjector:this._environmentInjector})))}static \u0275fac=function(i){return new(i||n)};static \u0275prov=$({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();var Ly=(()=>{class n{static \u0275fac=function(i){return new(i||n)};static \u0275cmp=ke({type:n,selectors:[["ng-component"]],exportAs:["cdkVisuallyHidden"],decls:0,vars:0,template:function(i,r){},styles:[`.cdk-visually-hidden{border:0;clip:rect(0 0 0 0);height:1px;margin:-1px;overflow:hidden;padding:0;position:absolute;width:1px;white-space:nowrap;outline:0;-webkit-appearance:none;-moz-appearance:none;left:0}[dir=rtl] .cdk-visually-hidden{left:auto;right:0}
`],encapsulation:2,changeDetection:0})}return n})();function mr(n){return Array.isArray(n)?n:[n]}var Vy=new Set,gi,cc=(()=>{class n{_platform=S(ye);_nonce=S(Bm,{optional:!0});_matchMedia;constructor(){this._matchMedia=this._platform.isBrowser&&window.matchMedia?window.matchMedia.bind(window):CC}matchMedia(t){return(this._platform.WEBKIT||this._platform.BLINK)&&SC(t,this._nonce),this._matchMedia(t)}static \u0275fac=function(i){return new(i||n)};static \u0275prov=$({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();function SC(n,e){if(!Vy.has(n))try{gi||(gi=document.createElement("style"),e&&gi.setAttribute("nonce",e),gi.setAttribute("type","text/css"),document.head.appendChild(gi)),gi.sheet&&(gi.sheet.insertRule(`@media ${n} {body{ }}`,0),Vy.add(n))}catch(t){console.error(t)}}function CC(n){return{matches:n==="all"||n==="",media:n,addListener:()=>{},removeListener:()=>{}}}var nf=(()=>{class n{_mediaMatcher=S(cc);_zone=S(W);_queries=new Map;_destroySubject=new Z;constructor(){}ngOnDestroy(){this._destroySubject.next(),this._destroySubject.complete()}isMatched(t){return Uy(mr(t)).some(r=>this._registerQuery(r).mql.matches)}observe(t){let r=Uy(mr(t)).map(a=>this._registerQuery(a).observable),o=xm(r);return o=Rm(o.pipe(ms(1)),o.pipe(_s(1),Ti(0))),o.pipe(Re(a=>{let c={matches:!1,breakpoints:{}};return a.forEach(({matches:u,query:h})=>{c.matches=c.matches||u,c.breakpoints[h]=u}),c}))}_registerQuery(t){if(this._queries.has(t))return this._queries.get(t);let i=this._mediaMatcher.matchMedia(t),o={observable:new Me(a=>{let c=u=>this._zone.run(()=>a.next(u));return i.addListener(c),()=>{i.removeListener(c)}}).pipe(Ai(i),Re(({matches:a})=>({query:t,matches:a})),$t(this._destroySubject)),mql:i};return this._queries.set(t,o),o}static \u0275fac=function(i){return new(i||n)};static \u0275prov=$({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();function Uy(n){return n.map(e=>e.split(",")).reduce((e,t)=>e.concat(t)).map(e=>e.trim())}function xC(n){if(n.type==="characterData"&&n.target instanceof Comment)return!0;if(n.type==="childList"){for(let e=0;e<n.addedNodes.length;e++)if(!(n.addedNodes[e]instanceof Comment))return!1;for(let e=0;e<n.removedNodes.length;e++)if(!(n.removedNodes[e]instanceof Comment))return!1;return!0}return!1}var By=(()=>{class n{create(t){return typeof MutationObserver>"u"?null:new MutationObserver(t)}static \u0275fac=function(i){return new(i||n)};static \u0275prov=$({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})(),zy=(()=>{class n{_mutationObserverFactory=S(By);_observedElements=new Map;_ngZone=S(W);constructor(){}ngOnDestroy(){this._observedElements.forEach((t,i)=>this._cleanupObserver(i))}observe(t){let i=ft(t);return new Me(r=>{let a=this._observeElement(i).pipe(Re(c=>c.filter(u=>!xC(u))),rt(c=>!!c.length)).subscribe(c=>{this._ngZone.run(()=>{r.next(c)})});return()=>{a.unsubscribe(),this._unobserveElement(i)}})}_observeElement(t){return this._ngZone.runOutsideAngular(()=>{if(this._observedElements.has(t))this._observedElements.get(t).count++;else{let i=new Z,r=this._mutationObserverFactory.create(o=>i.next(o));r&&r.observe(t,{characterData:!0,childList:!0,subtree:!0}),this._observedElements.set(t,{observer:r,stream:i,count:1})}return this._observedElements.get(t).stream})}_unobserveElement(t){this._observedElements.has(t)&&(this._observedElements.get(t).count--,this._observedElements.get(t).count||this._cleanupObserver(t))}_cleanupObserver(t){if(this._observedElements.has(t)){let{observer:i,stream:r}=this._observedElements.get(t);i&&i.disconnect(),r.complete(),this._observedElements.delete(t)}}static \u0275fac=function(i){return new(i||n)};static \u0275prov=$({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})(),fN=(()=>{class n{_contentObserver=S(zy);_elementRef=S(ce);event=new Ht;get disabled(){return this._disabled}set disabled(t){this._disabled=t,this._disabled?this._unsubscribe():this._subscribe()}_disabled=!1;get debounce(){return this._debounce}set debounce(t){this._debounce=rc(t),this._subscribe()}_debounce;_currentSubscription=null;constructor(){}ngAfterContentInit(){!this._currentSubscription&&!this.disabled&&this._subscribe()}ngOnDestroy(){this._unsubscribe()}_subscribe(){this._unsubscribe();let t=this._contentObserver.observe(this._elementRef);this._currentSubscription=(this.debounce?t.pipe(Ti(this.debounce)):t).subscribe(this.event)}_unsubscribe(){this._currentSubscription?.unsubscribe()}static \u0275fac=function(i){return new(i||n)};static \u0275dir=pe({type:n,selectors:[["","cdkObserveContent",""]],inputs:{disabled:[2,"cdkObserveContentDisabled","disabled",ct],debounce:"debounce"},outputs:{event:"cdkObserveContent"},exportAs:["cdkObserveContent"]})}return n})(),lc=(()=>{class n{static \u0275fac=function(i){return new(i||n)};static \u0275mod=he({type:n});static \u0275inj=de({providers:[By]})}return n})();var Hy=(()=>{class n{_platform=S(ye);constructor(){}isDisabled(t){return t.hasAttribute("disabled")}isVisible(t){return kC(t)&&getComputedStyle(t).visibility==="visible"}isTabbable(t){if(!this._platform.isBrowser)return!1;let i=RC(VC(t));if(i&&(jy(i)===-1||!this.isVisible(i)))return!1;let r=t.nodeName.toLowerCase(),o=jy(t);return t.hasAttribute("contenteditable")?o!==-1:r==="iframe"||r==="object"||this._platform.WEBKIT&&this._platform.IOS&&!FC(t)?!1:r==="audio"?t.hasAttribute("controls")?o!==-1:!1:r==="video"?o===-1?!1:o!==null?!0:this._platform.FIREFOX||t.hasAttribute("controls"):t.tabIndex>=0}isFocusable(t,i){return LC(t)&&!this.isDisabled(t)&&(i?.ignoreVisibility||this.isVisible(t))}static \u0275fac=function(i){return new(i||n)};static \u0275prov=$({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();function RC(n){try{return n.frameElement}catch{return null}}function kC(n){return!!(n.offsetWidth||n.offsetHeight||typeof n.getClientRects=="function"&&n.getClientRects().length)}function PC(n){let e=n.nodeName.toLowerCase();return e==="input"||e==="select"||e==="button"||e==="textarea"}function DC(n){return NC(n)&&n.type=="hidden"}function OC(n){return MC(n)&&n.hasAttribute("href")}function NC(n){return n.nodeName.toLowerCase()=="input"}function MC(n){return n.nodeName.toLowerCase()=="a"}function Gy(n){if(!n.hasAttribute("tabindex")||n.tabIndex===void 0)return!1;let e=n.getAttribute("tabindex");return!!(e&&!isNaN(parseInt(e,10)))}function jy(n){if(!Gy(n))return null;let e=parseInt(n.getAttribute("tabindex")||"",10);return isNaN(e)?-1:e}function FC(n){let e=n.nodeName.toLowerCase(),t=e==="input"&&n.type;return t==="text"||t==="password"||e==="select"||e==="textarea"}function LC(n){return DC(n)?!1:PC(n)||OC(n)||n.hasAttribute("contenteditable")||Gy(n)}function VC(n){return n.ownerDocument&&n.ownerDocument.defaultView||window}var uc=class{_element;_checker;_ngZone;_document;_injector;_startAnchor;_endAnchor;_hasAttached=!1;startAnchorListener=()=>this.focusLastTabbableElement();endAnchorListener=()=>this.focusFirstTabbableElement();get enabled(){return this._enabled}set enabled(e){this._enabled=e,this._startAnchor&&this._endAnchor&&(this._toggleAnchorTabIndex(e,this._startAnchor),this._toggleAnchorTabIndex(e,this._endAnchor))}_enabled=!0;constructor(e,t,i,r,o=!1,a){this._element=e,this._checker=t,this._ngZone=i,this._document=r,this._injector=a,o||this.attachAnchors()}destroy(){let e=this._startAnchor,t=this._endAnchor;e&&(e.removeEventListener("focus",this.startAnchorListener),e.remove()),t&&(t.removeEventListener("focus",this.endAnchorListener),t.remove()),this._startAnchor=this._endAnchor=null,this._hasAttached=!1}attachAnchors(){return this._hasAttached?!0:(this._ngZone.runOutsideAngular(()=>{this._startAnchor||(this._startAnchor=this._createAnchor(),this._startAnchor.addEventListener("focus",this.startAnchorListener)),this._endAnchor||(this._endAnchor=this._createAnchor(),this._endAnchor.addEventListener("focus",this.endAnchorListener))}),this._element.parentNode&&(this._element.parentNode.insertBefore(this._startAnchor,this._element),this._element.parentNode.insertBefore(this._endAnchor,this._element.nextSibling),this._hasAttached=!0),this._hasAttached)}focusInitialElementWhenReady(e){return new Promise(t=>{this._executeOnStable(()=>t(this.focusInitialElement(e)))})}focusFirstTabbableElementWhenReady(e){return new Promise(t=>{this._executeOnStable(()=>t(this.focusFirstTabbableElement(e)))})}focusLastTabbableElementWhenReady(e){return new Promise(t=>{this._executeOnStable(()=>t(this.focusLastTabbableElement(e)))})}_getRegionBoundary(e){let t=this._element.querySelectorAll(`[cdk-focus-region-${e}], [cdkFocusRegion${e}], [cdk-focus-${e}]`);return e=="start"?t.length?t[0]:this._getFirstTabbableElement(this._element):t.length?t[t.length-1]:this._getLastTabbableElement(this._element)}focusInitialElement(e){let t=this._element.querySelector("[cdk-focus-initial], [cdkFocusInitial]");if(t){if(!this._checker.isFocusable(t)){let i=this._getFirstTabbableElement(t);return i?.focus(e),!!i}return t.focus(e),!0}return this.focusFirstTabbableElement(e)}focusFirstTabbableElement(e){let t=this._getRegionBoundary("start");return t&&t.focus(e),!!t}focusLastTabbableElement(e){let t=this._getRegionBoundary("end");return t&&t.focus(e),!!t}hasAttached(){return this._hasAttached}_getFirstTabbableElement(e){if(this._checker.isFocusable(e)&&this._checker.isTabbable(e))return e;let t=e.children;for(let i=0;i<t.length;i++){let r=t[i].nodeType===this._document.ELEMENT_NODE?this._getFirstTabbableElement(t[i]):null;if(r)return r}return null}_getLastTabbableElement(e){if(this._checker.isFocusable(e)&&this._checker.isTabbable(e))return e;let t=e.children;for(let i=t.length-1;i>=0;i--){let r=t[i].nodeType===this._document.ELEMENT_NODE?this._getLastTabbableElement(t[i]):null;if(r)return r}return null}_createAnchor(){let e=this._document.createElement("div");return this._toggleAnchorTabIndex(this._enabled,e),e.classList.add("cdk-visually-hidden"),e.classList.add("cdk-focus-trap-anchor"),e.setAttribute("aria-hidden","true"),e}_toggleAnchorTabIndex(e,t){e?t.setAttribute("tabindex","0"):t.removeAttribute("tabindex")}toggleAnchors(e){this._startAnchor&&this._endAnchor&&(this._toggleAnchorTabIndex(e,this._startAnchor),this._toggleAnchorTabIndex(e,this._endAnchor))}_executeOnStable(e){this._injector?Ri(e,{injector:this._injector}):setTimeout(e)}},UC=(()=>{class n{_checker=S(Hy);_ngZone=S(W);_document=S(ae);_injector=S(se);constructor(){S(Bt).load(Ly)}create(t,i=!1){return new uc(t,this._checker,this._ngZone,this._document,i,this._injector)}static \u0275fac=function(i){return new(i||n)};static \u0275prov=$({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();var Ky=new Q("liveAnnouncerElement",{providedIn:"root",factory:Yy});function Yy(){return null}var Qy=new Q("LIVE_ANNOUNCER_DEFAULT_OPTIONS"),BC=0,zC=(()=>{class n{_ngZone=S(W);_defaultOptions=S(Qy,{optional:!0});_liveElement;_document=S(ae);_previousTimeout;_currentPromise;_currentResolve;constructor(){let t=S(Ky,{optional:!0});this._liveElement=t||this._createLiveElement()}announce(t,...i){let r=this._defaultOptions,o,a;return i.length===1&&typeof i[0]=="number"?a=i[0]:[o,a]=i,this.clear(),clearTimeout(this._previousTimeout),o||(o=r&&r.politeness?r.politeness:"polite"),a==null&&r&&(a=r.duration),this._liveElement.setAttribute("aria-live",o),this._liveElement.id&&this._exposeAnnouncerToModals(this._liveElement.id),this._ngZone.runOutsideAngular(()=>(this._currentPromise||(this._currentPromise=new Promise(c=>this._currentResolve=c)),clearTimeout(this._previousTimeout),this._previousTimeout=setTimeout(()=>{this._liveElement.textContent=t,typeof a=="number"&&(this._previousTimeout=setTimeout(()=>this.clear(),a)),this._currentResolve?.(),this._currentPromise=this._currentResolve=void 0},100),this._currentPromise))}clear(){this._liveElement&&(this._liveElement.textContent="")}ngOnDestroy(){clearTimeout(this._previousTimeout),this._liveElement?.remove(),this._liveElement=null,this._currentResolve?.(),this._currentPromise=this._currentResolve=void 0}_createLiveElement(){let t="cdk-live-announcer-element",i=this._document.getElementsByClassName(t),r=this._document.createElement("div");for(let o=0;o<i.length;o++)i[o].remove();return r.classList.add(t),r.classList.add("cdk-visually-hidden"),r.setAttribute("aria-atomic","true"),r.setAttribute("aria-live","polite"),r.id=`cdk-live-announcer-${BC++}`,this._document.body.appendChild(r),r}_exposeAnnouncerToModals(t){let i=this._document.querySelectorAll('body > .cdk-overlay-container [aria-modal="true"]');for(let r=0;r<i.length;r++){let o=i[r],a=o.getAttribute("aria-owns");a?a.indexOf(t)===-1&&o.setAttribute("aria-owns",a+" "+t):o.setAttribute("aria-owns",t)}}static \u0275fac=function(i){return new(i||n)};static \u0275prov=$({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();var Bn=(function(n){return n[n.NONE=0]="NONE",n[n.BLACK_ON_WHITE=1]="BLACK_ON_WHITE",n[n.WHITE_ON_BLACK=2]="WHITE_ON_BLACK",n})(Bn||{}),qy="cdk-high-contrast-black-on-white",$y="cdk-high-contrast-white-on-black",rf="cdk-high-contrast-active",dc=(()=>{class n{_platform=S(ye);_hasCheckedHighContrastMode;_document=S(ae);_breakpointSubscription;constructor(){this._breakpointSubscription=S(nf).observe("(forced-colors: active)").subscribe(()=>{this._hasCheckedHighContrastMode&&(this._hasCheckedHighContrastMode=!1,this._applyBodyHighContrastModeCssClasses())})}getHighContrastMode(){if(!this._platform.isBrowser)return Bn.NONE;let t=this._document.createElement("div");t.style.backgroundColor="rgb(1,2,3)",t.style.position="absolute",this._document.body.appendChild(t);let i=this._document.defaultView||window,r=i&&i.getComputedStyle?i.getComputedStyle(t):null,o=(r&&r.backgroundColor||"").replace(/ /g,"");switch(t.remove(),o){case"rgb(0,0,0)":case"rgb(45,50,54)":case"rgb(32,32,32)":return Bn.WHITE_ON_BLACK;case"rgb(255,255,255)":case"rgb(255,250,239)":return Bn.BLACK_ON_WHITE}return Bn.NONE}ngOnDestroy(){this._breakpointSubscription.unsubscribe()}_applyBodyHighContrastModeCssClasses(){if(!this._hasCheckedHighContrastMode&&this._platform.isBrowser&&this._document.body){let t=this._document.body.classList;t.remove(rf,qy,$y),this._hasCheckedHighContrastMode=!0;let i=this.getHighContrastMode();i===Bn.BLACK_ON_WHITE?t.add(rf,qy):i===Bn.WHITE_ON_BLACK&&t.add(rf,$y)}}static \u0275fac=function(i){return new(i||n)};static \u0275prov=$({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})(),jC=(()=>{class n{constructor(){S(dc)._applyBodyHighContrastModeCssClasses()}static \u0275fac=function(i){return new(i||n)};static \u0275mod=he({type:n});static \u0275inj=de({imports:[lc]})}return n})();var of={},pr=(()=>{class n{_appId=S(Um);getId(t){return this._appId!=="ng"&&(t+=this._appId),of.hasOwnProperty(t)||(of[t]=0),`${t}${of[t]++}`}static \u0275fac=function(i){return new(i||n)};static \u0275prov=$({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();var qC=200,hc=class{_letterKeyStream=new Z;_items=[];_selectedItemIndex=-1;_pressedLetters=[];_skipPredicateFn;_selectedItem=new Z;selectedItem=this._selectedItem;constructor(e,t){let i=typeof t?.debounceInterval=="number"?t.debounceInterval:qC;t?.skipPredicate&&(this._skipPredicateFn=t.skipPredicate),this.setItems(e),this._setupKeyHandler(i)}destroy(){this._pressedLetters=[],this._letterKeyStream.complete(),this._selectedItem.complete()}setCurrentSelectedItemIndex(e){this._selectedItemIndex=e}setItems(e){this._items=e}handleKey(e){let t=e.keyCode;e.key&&e.key.length===1?this._letterKeyStream.next(e.key.toLocaleUpperCase()):(t>=65&&t<=90||t>=48&&t<=57)&&this._letterKeyStream.next(String.fromCharCode(t))}isTyping(){return this._pressedLetters.length>0}reset(){this._pressedLetters=[]}_setupKeyHandler(e){this._letterKeyStream.pipe(Si(t=>this._pressedLetters.push(t)),Ti(e),rt(()=>this._pressedLetters.length>0),Re(()=>this._pressedLetters.join("").toLocaleUpperCase())).subscribe(t=>{for(let i=1;i<this._items.length+1;i++){let r=(this._selectedItemIndex+i)%this._items.length,o=this._items[r];if(!this._skipPredicateFn?.(o)&&o.getLabel?.().toLocaleUpperCase().trim().indexOf(t)===0){this._selectedItem.next(o);break}}this._pressedLetters=[]})}};function Xy(n,...e){return e.length?e.some(t=>n[t]):n.altKey||n.shiftKey||n.ctrlKey||n.metaKey}var fc=class{_items;_activeItemIndex=Wt(-1);_activeItem=Wt(null);_wrap=!1;_typeaheadSubscription=xt.EMPTY;_itemChangesSubscription;_vertical=!0;_horizontal;_allowedModifierKeys=[];_homeAndEnd=!1;_pageUpAndDown={enabled:!1,delta:10};_effectRef;_typeahead;_skipPredicateFn=e=>e.disabled;constructor(e,t){this._items=e,e instanceof cl?this._itemChangesSubscription=e.changes.subscribe(i=>this._itemsChanged(i.toArray())):al(e)&&(this._effectRef=Hr(()=>this._itemsChanged(e()),{injector:t}))}tabOut=new Z;change=new Z;skipPredicate(e){return this._skipPredicateFn=e,this}withWrap(e=!0){return this._wrap=e,this}withVerticalOrientation(e=!0){return this._vertical=e,this}withHorizontalOrientation(e){return this._horizontal=e,this}withAllowedModifierKeys(e){return this._allowedModifierKeys=e,this}withTypeAhead(e=200){this._typeaheadSubscription.unsubscribe();let t=this._getItemsArray();return this._typeahead=new hc(t,{debounceInterval:typeof e=="number"?e:void 0,skipPredicate:i=>this._skipPredicateFn(i)}),this._typeaheadSubscription=this._typeahead.selectedItem.subscribe(i=>{this.setActiveItem(i)}),this}cancelTypeahead(){return this._typeahead?.reset(),this}withHomeAndEnd(e=!0){return this._homeAndEnd=e,this}withPageUpDown(e=!0,t=10){return this._pageUpAndDown={enabled:e,delta:t},this}setActiveItem(e){let t=this._activeItem();this.updateActiveItem(e),this._activeItem()!==t&&this.change.next(this._activeItemIndex())}onKeydown(e){let t=e.keyCode,r=["altKey","ctrlKey","metaKey","shiftKey"].every(o=>!e[o]||this._allowedModifierKeys.indexOf(o)>-1);switch(t){case 9:this.tabOut.next();return;case 40:if(this._vertical&&r){this.setNextItemActive();break}else return;case 38:if(this._vertical&&r){this.setPreviousItemActive();break}else return;case 39:if(this._horizontal&&r){this._horizontal==="rtl"?this.setPreviousItemActive():this.setNextItemActive();break}else return;case 37:if(this._horizontal&&r){this._horizontal==="rtl"?this.setNextItemActive():this.setPreviousItemActive();break}else return;case 36:if(this._homeAndEnd&&r){this.setFirstItemActive();break}else return;case 35:if(this._homeAndEnd&&r){this.setLastItemActive();break}else return;case 33:if(this._pageUpAndDown.enabled&&r){let o=this._activeItemIndex()-this._pageUpAndDown.delta;this._setActiveItemByIndex(o>0?o:0,1);break}else return;case 34:if(this._pageUpAndDown.enabled&&r){let o=this._activeItemIndex()+this._pageUpAndDown.delta,a=this._getItemsArray().length;this._setActiveItemByIndex(o<a?o:a-1,-1);break}else return;default:(r||Xy(e,"shiftKey"))&&this._typeahead?.handleKey(e);return}this._typeahead?.reset(),e.preventDefault()}get activeItemIndex(){return this._activeItemIndex()}get activeItem(){return this._activeItem()}isTyping(){return!!this._typeahead&&this._typeahead.isTyping()}setFirstItemActive(){this._setActiveItemByIndex(0,1)}setLastItemActive(){this._setActiveItemByIndex(this._getItemsArray().length-1,-1)}setNextItemActive(){this._activeItemIndex()<0?this.setFirstItemActive():this._setActiveItemByDelta(1)}setPreviousItemActive(){this._activeItemIndex()<0&&this._wrap?this.setLastItemActive():this._setActiveItemByDelta(-1)}updateActiveItem(e){let t=this._getItemsArray(),i=typeof e=="number"?e:t.indexOf(e),r=t[i];this._activeItem.set(r??null),this._activeItemIndex.set(i),this._typeahead?.setCurrentSelectedItemIndex(i)}destroy(){this._typeaheadSubscription.unsubscribe(),this._itemChangesSubscription?.unsubscribe(),this._effectRef?.destroy(),this._typeahead?.destroy(),this.tabOut.complete(),this.change.complete()}_setActiveItemByDelta(e){this._wrap?this._setActiveInWrapMode(e):this._setActiveInDefaultMode(e)}_setActiveInWrapMode(e){let t=this._getItemsArray();for(let i=1;i<=t.length;i++){let r=(this._activeItemIndex()+e*i+t.length)%t.length,o=t[r];if(!this._skipPredicateFn(o)){this.setActiveItem(r);return}}}_setActiveInDefaultMode(e){this._setActiveItemByIndex(this._activeItemIndex()+e,e)}_setActiveItemByIndex(e,t){let i=this._getItemsArray();if(i[e]){for(;this._skipPredicateFn(i[e]);)if(e+=t,!i[e])return;this.setActiveItem(e)}}_getItemsArray(){return al(this._items)?this._items():this._items instanceof cl?this._items.toArray():this._items}_itemsChanged(e){this._typeahead?.setItems(e);let t=this._activeItem();if(t){let i=e.indexOf(t);i>-1&&i!==this._activeItemIndex()&&(this._activeItemIndex.set(i),this._typeahead?.setCurrentSelectedItemIndex(i))}}};var sf=class extends fc{_origin="program";setFocusOrigin(e){return this._origin=e,this}setActiveItem(e){super.setActiveItem(e),this.activeItem&&this.activeItem.focus(this._origin)}};var Ct=(function(n){return n[n.NORMAL=0]="NORMAL",n[n.NEGATED=1]="NEGATED",n[n.INVERTED=2]="INVERTED",n})(Ct||{}),mc,_i;function pc(){if(_i==null){if(typeof document!="object"||!document||typeof Element!="function"||!Element)return _i=!1,_i;if(document.documentElement?.style&&"scrollBehavior"in document.documentElement.style)_i=!0;else{let n=Element.prototype.scrollTo;n?_i=!/\{\s*\[native code\]\s*\}/.test(n.toString()):_i=!1}}return _i}function gr(){if(typeof document!="object"||!document)return Ct.NORMAL;if(mc==null){let n=document.createElement("div"),e=n.style;n.dir="rtl",e.width="1px",e.overflow="auto",e.visibility="hidden",e.pointerEvents="none",e.position="absolute";let t=document.createElement("div"),i=t.style;i.width="2px",i.height="1px",n.appendChild(t),document.body.appendChild(n),mc=Ct.NORMAL,n.scrollLeft===0&&(n.scrollLeft=1,mc=n.scrollLeft===0?Ct.NEGATED:Ct.INVERTED),n.remove()}return mc}function af(){return typeof __karma__<"u"&&!!__karma__||typeof jasmine<"u"&&!!jasmine||typeof jest<"u"&&!!jest||typeof Mocha<"u"&&!!Mocha}var p1={XSmall:"(max-width: 599.98px)",Small:"(min-width: 600px) and (max-width: 959.98px)",Medium:"(min-width: 960px) and (max-width: 1279.98px)",Large:"(min-width: 1280px) and (max-width: 1919.98px)",XLarge:"(min-width: 1920px)",Handset:"(max-width: 599.98px) and (orientation: portrait), (max-width: 959.98px) and (orientation: landscape)",Tablet:"(min-width: 600px) and (max-width: 839.98px) and (orientation: portrait), (min-width: 960px) and (max-width: 1279.98px) and (orientation: landscape)",Web:"(min-width: 840px) and (orientation: portrait), (min-width: 1280px) and (orientation: landscape)",HandsetPortrait:"(max-width: 599.98px) and (orientation: portrait)",TabletPortrait:"(min-width: 600px) and (max-width: 839.98px) and (orientation: portrait)",WebPortrait:"(min-width: 840px) and (orientation: portrait)",HandsetLandscape:"(max-width: 959.98px) and (orientation: landscape)",TabletLandscape:"(min-width: 960px) and (max-width: 1279.98px) and (orientation: landscape)",WebLandscape:"(min-width: 1280px) and (orientation: landscape)"};var $C=new Q("MATERIAL_ANIMATIONS");var Jy=null;function WC(){return S($C,{optional:!0})?.animationsDisabled||S(Es,{optional:!0})==="NoopAnimations"?"di-disabled":(Jy??=S(cc).matchMedia("(prefers-reduced-motion)").matches,Jy?"reduced-motion":"enabled")}function zn(){return WC()!=="enabled"}function we(n){return n==null?"":typeof n=="string"?n:`${n}px`}function Zy(n){return n!=null&&`${n}`!="false"}var mt=(function(n){return n[n.FADING_IN=0]="FADING_IN",n[n.VISIBLE=1]="VISIBLE",n[n.FADING_OUT=2]="FADING_OUT",n[n.HIDDEN=3]="HIDDEN",n})(mt||{}),cf=class{_renderer;element;config;_animationForciblyDisabledThroughCss;state=mt.HIDDEN;constructor(e,t,i,r=!1){this._renderer=e,this.element=t,this.config=i,this._animationForciblyDisabledThroughCss=r}fadeOut(){this._renderer.fadeOutRipple(this)}},eb=fr({passive:!0,capture:!0}),lf=class{_events=new Map;addHandler(e,t,i,r){let o=this._events.get(t);if(o){let a=o.get(i);a?a.add(r):o.set(i,new Set([r]))}else this._events.set(t,new Map([[i,new Set([r])]])),e.runOutsideAngular(()=>{document.addEventListener(t,this._delegateEventHandler,eb)})}removeHandler(e,t,i){let r=this._events.get(e);if(!r)return;let o=r.get(t);o&&(o.delete(i),o.size===0&&r.delete(t),r.size===0&&(this._events.delete(e),document.removeEventListener(e,this._delegateEventHandler,eb)))}_delegateEventHandler=e=>{let t=nt(e);t&&this._events.get(e.type)?.forEach((i,r)=>{(r===t||r.contains(t))&&i.forEach(o=>o.handleEvent(e))})}},qo={enterDuration:225,exitDuration:150},HC=800,tb=fr({passive:!0,capture:!0}),nb=["mousedown","touchstart"],ib=["mouseup","mouseleave","touchend","touchcancel"],GC=(()=>{class n{static \u0275fac=function(i){return new(i||n)};static \u0275cmp=ke({type:n,selectors:[["ng-component"]],hostAttrs:["mat-ripple-style-loader",""],decls:0,vars:0,template:function(i,r){},styles:[`.mat-ripple{overflow:hidden;position:relative}.mat-ripple:not(:empty){transform:translateZ(0)}.mat-ripple.mat-ripple-unbounded{overflow:visible}.mat-ripple-element{position:absolute;border-radius:50%;pointer-events:none;transition:opacity,transform 0ms cubic-bezier(0, 0, 0.2, 1);transform:scale3d(0, 0, 0);background-color:var(--mat-ripple-color, color-mix(in srgb, var(--mat-sys-on-surface) 10%, transparent))}@media(forced-colors: active){.mat-ripple-element{display:none}}.cdk-drag-preview .mat-ripple-element,.cdk-drag-placeholder .mat-ripple-element{display:none}
`],encapsulation:2,changeDetection:0})}return n})(),$o=class n{_target;_ngZone;_platform;_containerElement;_triggerElement;_isPointerDown=!1;_activeRipples=new Map;_mostRecentTransientRipple;_lastTouchStartEvent;_pointerUpEventsRegistered=!1;_containerRect;static _eventManager=new lf;constructor(e,t,i,r,o){this._target=e,this._ngZone=t,this._platform=r,r.isBrowser&&(this._containerElement=ft(i)),o&&o.get(Bt).load(GC)}fadeInRipple(e,t,i={}){let r=this._containerRect=this._containerRect||this._containerElement.getBoundingClientRect(),o=me(me({},qo),i.animation);i.centered&&(e=r.left+r.width/2,t=r.top+r.height/2);let a=i.radius||KC(e,t,r),c=e-r.left,u=t-r.top,h=o.enterDuration,f=document.createElement("div");f.classList.add("mat-ripple-element"),f.style.left=`${c-a}px`,f.style.top=`${u-a}px`,f.style.height=`${a*2}px`,f.style.width=`${a*2}px`,i.color!=null&&(f.style.backgroundColor=i.color),f.style.transitionDuration=`${h}ms`,this._containerElement.appendChild(f);let p=window.getComputedStyle(f),v=p.transitionProperty,C=p.transitionDuration,k=v==="none"||C==="0s"||C==="0s, 0s"||r.width===0&&r.height===0,O=new cf(this,f,i,k);f.style.transform="scale3d(1, 1, 1)",O.state=mt.FADING_IN,i.persistent||(this._mostRecentTransientRipple=O);let D=null;return!k&&(h||o.exitDuration)&&this._ngZone.runOutsideAngular(()=>{let j=()=>{D&&(D.fallbackTimer=null),clearTimeout(q),this._finishRippleTransition(O)},B=()=>this._destroyRipple(O),q=setTimeout(B,h+100);f.addEventListener("transitionend",j),f.addEventListener("transitioncancel",B),D={onTransitionEnd:j,onTransitionCancel:B,fallbackTimer:q}}),this._activeRipples.set(O,D),(k||!h)&&this._finishRippleTransition(O),O}fadeOutRipple(e){if(e.state===mt.FADING_OUT||e.state===mt.HIDDEN)return;let t=e.element,i=me(me({},qo),e.config.animation);t.style.transitionDuration=`${i.exitDuration}ms`,t.style.opacity="0",e.state=mt.FADING_OUT,(e._animationForciblyDisabledThroughCss||!i.exitDuration)&&this._finishRippleTransition(e)}fadeOutAll(){this._getActiveRipples().forEach(e=>e.fadeOut())}fadeOutAllNonPersistent(){this._getActiveRipples().forEach(e=>{e.config.persistent||e.fadeOut()})}setupTriggerEvents(e){let t=ft(e);!this._platform.isBrowser||!t||t===this._triggerElement||(this._removeTriggerEvents(),this._triggerElement=t,nb.forEach(i=>{n._eventManager.addHandler(this._ngZone,i,t,this)}))}handleEvent(e){e.type==="mousedown"?this._onMousedown(e):e.type==="touchstart"?this._onTouchStart(e):this._onPointerUp(),this._pointerUpEventsRegistered||(this._ngZone.runOutsideAngular(()=>{ib.forEach(t=>{this._triggerElement.addEventListener(t,this,tb)})}),this._pointerUpEventsRegistered=!0)}_finishRippleTransition(e){e.state===mt.FADING_IN?this._startFadeOutTransition(e):e.state===mt.FADING_OUT&&this._destroyRipple(e)}_startFadeOutTransition(e){let t=e===this._mostRecentTransientRipple,{persistent:i}=e.config;e.state=mt.VISIBLE,!i&&(!t||!this._isPointerDown)&&e.fadeOut()}_destroyRipple(e){let t=this._activeRipples.get(e)??null;this._activeRipples.delete(e),this._activeRipples.size||(this._containerRect=null),e===this._mostRecentTransientRipple&&(this._mostRecentTransientRipple=null),e.state=mt.HIDDEN,t!==null&&(e.element.removeEventListener("transitionend",t.onTransitionEnd),e.element.removeEventListener("transitioncancel",t.onTransitionCancel),t.fallbackTimer!==null&&clearTimeout(t.fallbackTimer)),e.element.remove()}_onMousedown(e){let t=Uo(e),i=this._lastTouchStartEvent&&Date.now()<this._lastTouchStartEvent+HC;!this._target.rippleDisabled&&!t&&!i&&(this._isPointerDown=!0,this.fadeInRipple(e.clientX,e.clientY,this._target.rippleConfig))}_onTouchStart(e){if(!this._target.rippleDisabled&&!Bo(e)){this._lastTouchStartEvent=Date.now(),this._isPointerDown=!0;let t=e.changedTouches;if(t)for(let i=0;i<t.length;i++)this.fadeInRipple(t[i].clientX,t[i].clientY,this._target.rippleConfig)}}_onPointerUp(){this._isPointerDown&&(this._isPointerDown=!1,this._getActiveRipples().forEach(e=>{let t=e.state===mt.VISIBLE||e.config.terminateOnPointerUp&&e.state===mt.FADING_IN;!e.config.persistent&&t&&e.fadeOut()}))}_getActiveRipples(){return Array.from(this._activeRipples.keys())}_removeTriggerEvents(){let e=this._triggerElement;e&&(nb.forEach(t=>n._eventManager.removeHandler(t,e,this)),this._pointerUpEventsRegistered&&(ib.forEach(t=>e.removeEventListener(t,this,tb)),this._pointerUpEventsRegistered=!1))}};function KC(n,e,t){let i=Math.max(Math.abs(n-t.left),Math.abs(n-t.right)),r=Math.max(Math.abs(e-t.top),Math.abs(e-t.bottom));return Math.sqrt(i*i+r*r)}var uf=new Q("mat-ripple-global-options"),M1=(()=>{class n{_elementRef=S(ce);_animationsDisabled=zn();color;unbounded;centered;radius=0;animation;get disabled(){return this._disabled}set disabled(t){t&&this.fadeOutAllNonPersistent(),this._disabled=t,this._setupTriggerEventsIfEnabled()}_disabled=!1;get trigger(){return this._trigger||this._elementRef.nativeElement}set trigger(t){this._trigger=t,this._setupTriggerEventsIfEnabled()}_trigger;_rippleRenderer;_globalOptions;_isInitialized=!1;constructor(){let t=S(W),i=S(ye),r=S(uf,{optional:!0}),o=S(se);this._globalOptions=r||{},this._rippleRenderer=new $o(this,t,this._elementRef,i,o)}ngOnInit(){this._isInitialized=!0,this._setupTriggerEventsIfEnabled()}ngOnDestroy(){this._rippleRenderer._removeTriggerEvents()}fadeOutAll(){this._rippleRenderer.fadeOutAll()}fadeOutAllNonPersistent(){this._rippleRenderer.fadeOutAllNonPersistent()}get rippleConfig(){return{centered:this.centered,radius:this.radius,color:this.color,animation:me(me(me({},this._globalOptions.animation),this._animationsDisabled?{enterDuration:0,exitDuration:0}:{}),this.animation),terminateOnPointerUp:this._globalOptions.terminateOnPointerUp}}get rippleDisabled(){return this.disabled||!!this._globalOptions.disabled}_setupTriggerEventsIfEnabled(){!this.disabled&&this._isInitialized&&this._rippleRenderer.setupTriggerEvents(this.trigger)}launch(t,i=0,r){return typeof t=="number"?this._rippleRenderer.fadeInRipple(t,i,me(me({},this.rippleConfig),r)):this._rippleRenderer.fadeInRipple(0,0,me(me({},this.rippleConfig),t))}static \u0275fac=function(i){return new(i||n)};static \u0275dir=pe({type:n,selectors:[["","mat-ripple",""],["","matRipple",""]],hostAttrs:[1,"mat-ripple"],hostVars:2,hostBindings:function(i,r){i&2&&qe("mat-ripple-unbounded",r.unbounded)},inputs:{color:[0,"matRippleColor","color"],unbounded:[0,"matRippleUnbounded","unbounded"],centered:[0,"matRippleCentered","centered"],radius:[0,"matRippleRadius","radius"],animation:[0,"matRippleAnimation","animation"],disabled:[0,"matRippleDisabled","disabled"],trigger:[0,"matRippleTrigger","trigger"]},exportAs:["matRipple"]})}return n})();var YC={capture:!0},QC=["focus","mousedown","mouseenter","touchstart"],df="mat-ripple-loader-uninitialized",hf="mat-ripple-loader-class-name",rb="mat-ripple-loader-centered",gc="mat-ripple-loader-disabled",ob=(()=>{class n{_document=S(ae);_animationsDisabled=zn();_globalRippleOptions=S(uf,{optional:!0});_platform=S(ye);_ngZone=S(W);_injector=S(se);_eventCleanups;_hosts=new Map;constructor(){let t=S(vt).createRenderer(null,null);this._eventCleanups=this._ngZone.runOutsideAngular(()=>QC.map(i=>t.listen(this._document,i,this._onInteraction,YC)))}ngOnDestroy(){let t=this._hosts.keys();for(let i of t)this.destroyRipple(i);this._eventCleanups.forEach(i=>i())}configureRipple(t,i){t.setAttribute(df,this._globalRippleOptions?.namespace??""),(i.className||!t.hasAttribute(hf))&&t.setAttribute(hf,i.className||""),i.centered&&t.setAttribute(rb,""),i.disabled&&t.setAttribute(gc,"")}setDisabled(t,i){let r=this._hosts.get(t);r?(r.target.rippleDisabled=i,!i&&!r.hasSetUpEvents&&(r.hasSetUpEvents=!0,r.renderer.setupTriggerEvents(t))):i?t.setAttribute(gc,""):t.removeAttribute(gc)}_onInteraction=t=>{let i=nt(t);if(i instanceof HTMLElement){let r=i.closest(`[${df}="${this._globalRippleOptions?.namespace??""}"]`);r&&this._createRipple(r)}};_createRipple(t){if(!this._document||this._hosts.has(t))return;t.querySelector(".mat-ripple")?.remove();let i=this._document.createElement("span");i.classList.add("mat-ripple",t.getAttribute(hf)),t.append(i);let r=this._globalRippleOptions,o=this._animationsDisabled?0:r?.animation?.enterDuration??qo.enterDuration,a=this._animationsDisabled?0:r?.animation?.exitDuration??qo.exitDuration,c={rippleDisabled:this._animationsDisabled||r?.disabled||t.hasAttribute(gc),rippleConfig:{centered:t.hasAttribute(rb),terminateOnPointerUp:r?.terminateOnPointerUp,animation:{enterDuration:o,exitDuration:a}}},u=new $o(c,this._ngZone,i,this._platform,this._injector),h=!c.rippleDisabled;h&&u.setupTriggerEvents(t),this._hosts.set(t,{target:c,renderer:u,hasSetUpEvents:h}),t.removeAttribute(df)}destroyRipple(t){let i=this._hosts.get(t);i&&(i.renderer._removeTriggerEvents(),this._hosts.delete(t))}static \u0275fac=function(i){return new(i||n)};static \u0275prov=$({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();var sb=(()=>{class n{static \u0275fac=function(i){return new(i||n)};static \u0275cmp=ke({type:n,selectors:[["structural-styles"]],decls:0,vars:0,template:function(i,r){},styles:[`.mat-focus-indicator{position:relative}.mat-focus-indicator::before{top:0;left:0;right:0;bottom:0;position:absolute;box-sizing:border-box;pointer-events:none;display:var(--mat-focus-indicator-display, none);border-width:var(--mat-focus-indicator-border-width, 3px);border-style:var(--mat-focus-indicator-border-style, solid);border-color:var(--mat-focus-indicator-border-color, transparent);border-radius:var(--mat-focus-indicator-border-radius, 4px)}.mat-focus-indicator:focus::before{content:""}@media(forced-colors: active){html{--mat-focus-indicator-display: block}}
`],encapsulation:2,changeDetection:0})}return n})();var XC=["mat-icon-button",""],JC=["*"],ZC=new Q("MAT_BUTTON_CONFIG");function ab(n){return n==null?void 0:Qm(n)}var ff=(()=>{class n{_elementRef=S(ce);_ngZone=S(W);_animationsDisabled=zn();_config=S(ZC,{optional:!0});_focusMonitor=S(sc);_cleanupClick;_renderer=S(pn);_rippleLoader=S(ob);_isAnchor;_isFab=!1;color;get disableRipple(){return this._disableRipple}set disableRipple(t){this._disableRipple=t,this._updateRippleDisabled()}_disableRipple=!1;get disabled(){return this._disabled}set disabled(t){this._disabled=t,this._updateRippleDisabled()}_disabled=!1;ariaDisabled;disabledInteractive;tabIndex;set _tabindex(t){this.tabIndex=t}constructor(){S(Bt).load(sb);let t=this._elementRef.nativeElement;this._isAnchor=t.tagName==="A",this.disabledInteractive=this._config?.disabledInteractive??!1,this.color=this._config?.color??null,this._rippleLoader?.configureRipple(t,{className:"mat-mdc-button-ripple"})}ngAfterViewInit(){this._focusMonitor.monitor(this._elementRef,!0),this._isAnchor&&this._setupAsAnchor()}ngOnDestroy(){this._cleanupClick?.(),this._focusMonitor.stopMonitoring(this._elementRef),this._rippleLoader?.destroyRipple(this._elementRef.nativeElement)}focus(t="program",i){t?this._focusMonitor.focusVia(this._elementRef.nativeElement,t,i):this._elementRef.nativeElement.focus(i)}_getAriaDisabled(){return this.ariaDisabled!=null?this.ariaDisabled:this._isAnchor?this.disabled||null:this.disabled&&this.disabledInteractive?!0:null}_getDisabledAttribute(){return this.disabledInteractive||!this.disabled?null:!0}_updateRippleDisabled(){this._rippleLoader?.setDisabled(this._elementRef.nativeElement,this.disableRipple||this.disabled)}_getTabIndex(){return this._isAnchor?this.disabled&&!this.disabledInteractive?-1:this.tabIndex:this.tabIndex}_setupAsAnchor(){this._cleanupClick=this._ngZone.runOutsideAngular(()=>this._renderer.listen(this._elementRef.nativeElement,"click",t=>{this.disabled&&(t.preventDefault(),t.stopImmediatePropagation())}))}static \u0275fac=function(i){return new(i||n)};static \u0275dir=pe({type:n,hostAttrs:[1,"mat-mdc-button-base"],hostVars:13,hostBindings:function(i,r){i&2&&(_n("disabled",r._getDisabledAttribute())("aria-disabled",r._getAriaDisabled())("tabindex",r._getTabIndex()),As(r.color?"mat-"+r.color:""),qe("mat-mdc-button-disabled",r.disabled)("mat-mdc-button-disabled-interactive",r.disabledInteractive)("mat-unthemed",!r.color)("_mat-animation-noopable",r._animationsDisabled))},inputs:{color:"color",disableRipple:[2,"disableRipple","disableRipple",ct],disabled:[2,"disabled","disabled",ct],ariaDisabled:[2,"aria-disabled","ariaDisabled",ct],disabledInteractive:[2,"disabledInteractive","disabledInteractive",ct],tabIndex:[2,"tabIndex","tabIndex",ab],_tabindex:[2,"tabindex","_tabindex",ab]}})}return n})(),ex=(()=>{class n extends ff{constructor(){super(),this._rippleLoader.configureRipple(this._elementRef.nativeElement,{centered:!0})}static \u0275fac=function(i){return new(i||n)};static \u0275cmp=ke({type:n,selectors:[["button","mat-icon-button",""],["a","mat-icon-button",""],["button","matIconButton",""],["a","matIconButton",""]],hostAttrs:[1,"mdc-icon-button","mat-mdc-icon-button"],exportAs:["matButton","matAnchor"],features:[gn],attrs:XC,ngContentSelectors:JC,decls:4,vars:0,consts:[[1,"mat-mdc-button-persistent-ripple","mdc-icon-button__ripple"],[1,"mat-focus-indicator"],[1,"mat-mdc-button-touch-target"]],template:function(i,r){i&1&&(kt(),Rt(0,"span",0),Ee(1),Rt(2,"span",1)(3,"span",2))},styles:[`.mat-mdc-icon-button{-webkit-user-select:none;user-select:none;display:inline-block;position:relative;box-sizing:border-box;border:none;outline:none;background-color:rgba(0,0,0,0);fill:currentColor;text-decoration:none;cursor:pointer;z-index:0;overflow:visible;border-radius:var(--mat-icon-button-container-shape, var(--mat-sys-corner-full, 50%));flex-shrink:0;text-align:center;width:var(--mat-icon-button-state-layer-size, 40px);height:var(--mat-icon-button-state-layer-size, 40px);padding:calc(calc(var(--mat-icon-button-state-layer-size, 40px) - var(--mat-icon-button-icon-size, 24px)) / 2);font-size:var(--mat-icon-button-icon-size, 24px);color:var(--mat-icon-button-icon-color, var(--mat-sys-on-surface-variant));-webkit-tap-highlight-color:rgba(0,0,0,0)}.mat-mdc-icon-button .mat-mdc-button-ripple,.mat-mdc-icon-button .mat-mdc-button-persistent-ripple,.mat-mdc-icon-button .mat-mdc-button-persistent-ripple::before{top:0;left:0;right:0;bottom:0;position:absolute;pointer-events:none;border-radius:inherit}.mat-mdc-icon-button .mat-mdc-button-ripple{overflow:hidden}.mat-mdc-icon-button .mat-mdc-button-persistent-ripple::before{content:"";opacity:0}.mat-mdc-icon-button .mdc-button__label,.mat-mdc-icon-button .mat-icon{z-index:1;position:relative}.mat-mdc-icon-button .mat-focus-indicator{top:0;left:0;right:0;bottom:0;position:absolute;border-radius:inherit}.mat-mdc-icon-button:focus>.mat-focus-indicator::before{content:"";border-radius:inherit}.mat-mdc-icon-button .mat-ripple-element{background-color:var(--mat-icon-button-ripple-color, color-mix(in srgb, var(--mat-sys-on-surface-variant) calc(var(--mat-sys-pressed-state-layer-opacity) * 100%), transparent))}.mat-mdc-icon-button .mat-mdc-button-persistent-ripple::before{background-color:var(--mat-icon-button-state-layer-color, var(--mat-sys-on-surface-variant))}.mat-mdc-icon-button.mat-mdc-button-disabled .mat-mdc-button-persistent-ripple::before{background-color:var(--mat-icon-button-disabled-state-layer-color, var(--mat-sys-on-surface-variant))}.mat-mdc-icon-button:hover>.mat-mdc-button-persistent-ripple::before{opacity:var(--mat-icon-button-hover-state-layer-opacity, var(--mat-sys-hover-state-layer-opacity))}.mat-mdc-icon-button.cdk-program-focused>.mat-mdc-button-persistent-ripple::before,.mat-mdc-icon-button.cdk-keyboard-focused>.mat-mdc-button-persistent-ripple::before,.mat-mdc-icon-button.mat-mdc-button-disabled-interactive:focus>.mat-mdc-button-persistent-ripple::before{opacity:var(--mat-icon-button-focus-state-layer-opacity, var(--mat-sys-focus-state-layer-opacity))}.mat-mdc-icon-button:active>.mat-mdc-button-persistent-ripple::before{opacity:var(--mat-icon-button-pressed-state-layer-opacity, var(--mat-sys-pressed-state-layer-opacity))}.mat-mdc-icon-button .mat-mdc-button-touch-target{position:absolute;top:50%;height:var(--mat-icon-button-touch-target-size, 48px);display:var(--mat-icon-button-touch-target-display, block);left:50%;width:var(--mat-icon-button-touch-target-size, 48px);transform:translate(-50%, -50%)}.mat-mdc-icon-button._mat-animation-noopable{transition:none !important;animation:none !important}.mat-mdc-icon-button[disabled],.mat-mdc-icon-button.mat-mdc-button-disabled{cursor:default;pointer-events:none;color:var(--mat-icon-button-disabled-icon-color, color-mix(in srgb, var(--mat-sys-on-surface) 38%, transparent))}.mat-mdc-icon-button.mat-mdc-button-disabled-interactive{pointer-events:auto}.mat-mdc-icon-button img,.mat-mdc-icon-button svg{width:var(--mat-icon-button-icon-size, 24px);height:var(--mat-icon-button-icon-size, 24px);vertical-align:baseline}.mat-mdc-icon-button .mat-mdc-button-persistent-ripple{border-radius:var(--mat-icon-button-container-shape, var(--mat-sys-corner-full, 50%))}.mat-mdc-icon-button[hidden]{display:none}.mat-mdc-icon-button.mat-unthemed:not(.mdc-ripple-upgraded):focus::before,.mat-mdc-icon-button.mat-primary:not(.mdc-ripple-upgraded):focus::before,.mat-mdc-icon-button.mat-accent:not(.mdc-ripple-upgraded):focus::before,.mat-mdc-icon-button.mat-warn:not(.mdc-ripple-upgraded):focus::before{background:rgba(0,0,0,0);opacity:1}
`,`@media(forced-colors: active){.mat-mdc-button:not(.mdc-button--outlined),.mat-mdc-unelevated-button:not(.mdc-button--outlined),.mat-mdc-raised-button:not(.mdc-button--outlined),.mat-mdc-outlined-button:not(.mdc-button--outlined),.mat-mdc-button-base.mat-tonal-button,.mat-mdc-icon-button.mat-mdc-icon-button,.mat-mdc-outlined-button .mdc-button__ripple{outline:solid 1px}}
`],encapsulation:2,changeDetection:0})}return n})();var tx=new Q("cdk-dir-doc",{providedIn:"root",factory:nx});function nx(){return S(ae)}var ix=/^(ar|ckb|dv|he|iw|fa|nqo|ps|sd|ug|ur|yi|.*[-_](Adlm|Arab|Hebr|Nkoo|Rohg|Thaa))(?!.*[-_](Latn|Cyrl)($|-|_))($|-|_)/i;function cb(n){let e=n?.toLowerCase()||"";return e==="auto"&&typeof navigator<"u"&&navigator?.language?ix.test(navigator.language)?"rtl":"ltr":e==="rtl"?"rtl":"ltr"}var vi=(()=>{class n{get value(){return this.valueSignal()}valueSignal=Wt("ltr");change=new Ht;constructor(){let t=S(tx,{optional:!0});if(t){let i=t.body?t.body.dir:null,r=t.documentElement?t.documentElement.dir:null;this.valueSignal.set(cb(i||r||"ltr"))}}ngOnDestroy(){this.change.complete()}static \u0275fac=function(i){return new(i||n)};static \u0275prov=$({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();var jn=(()=>{class n{static \u0275fac=function(i){return new(i||n)};static \u0275mod=he({type:n});static \u0275inj=de({})}return n})();var pt=(()=>{class n{constructor(){S(dc)._applyBodyHighContrastModeCssClasses()}static \u0275fac=function(i){return new(i||n)};static \u0275mod=he({type:n});static \u0275inj=de({imports:[jn,jn]})}return n})();var lb=(()=>{class n{static \u0275fac=function(i){return new(i||n)};static \u0275mod=he({type:n});static \u0275inj=de({imports:[pt,pt]})}return n})();var rx=["matButton",""],ox=[[["",8,"material-icons",3,"iconPositionEnd",""],["mat-icon",3,"iconPositionEnd",""],["","matButtonIcon","",3,"iconPositionEnd",""]],"*",[["","iconPositionEnd","",8,"material-icons"],["mat-icon","iconPositionEnd",""],["","matButtonIcon","","iconPositionEnd",""]]],sx=[".material-icons:not([iconPositionEnd]), mat-icon:not([iconPositionEnd]), [matButtonIcon]:not([iconPositionEnd])","*",".material-icons[iconPositionEnd], mat-icon[iconPositionEnd], [matButtonIcon][iconPositionEnd]"];var ub=new Map([["text",["mat-mdc-button"]],["filled",["mdc-button--unelevated","mat-mdc-unelevated-button"]],["elevated",["mdc-button--raised","mat-mdc-raised-button"]],["outlined",["mdc-button--outlined","mat-mdc-outlined-button"]],["tonal",["mat-tonal-button"]]]),vM=(()=>{class n extends ff{get appearance(){return this._appearance}set appearance(t){this.setAppearance(t||this._config?.defaultAppearance||"text")}_appearance=null;constructor(){super();let t=ax(this._elementRef.nativeElement);t&&this.setAppearance(t)}setAppearance(t){if(t===this._appearance)return;let i=this._elementRef.nativeElement.classList,r=this._appearance?ub.get(this._appearance):null,o=ub.get(t);r&&i.remove(...r),i.add(...o),this._appearance=t}static \u0275fac=function(i){return new(i||n)};static \u0275cmp=ke({type:n,selectors:[["button","matButton",""],["a","matButton",""],["button","mat-button",""],["button","mat-raised-button",""],["button","mat-flat-button",""],["button","mat-stroked-button",""],["a","mat-button",""],["a","mat-raised-button",""],["a","mat-flat-button",""],["a","mat-stroked-button",""]],hostAttrs:[1,"mdc-button"],inputs:{appearance:[0,"matButton","appearance"]},exportAs:["matButton","matAnchor"],features:[gn],attrs:rx,ngContentSelectors:sx,decls:7,vars:4,consts:[[1,"mat-mdc-button-persistent-ripple"],[1,"mdc-button__label"],[1,"mat-focus-indicator"],[1,"mat-mdc-button-touch-target"]],template:function(i,r){i&1&&(kt(ox),Rt(0,"span",0),Ee(1),jr(2,"span",1),Ee(3,1),qr(),Ee(4,2),Rt(5,"span",2)(6,"span",3)),i&2&&qe("mdc-button__ripple",!r._isFab)("mdc-fab__ripple",r._isFab)},styles:[`.mat-mdc-button-base{text-decoration:none}.mat-mdc-button-base .mat-icon{min-height:fit-content;flex-shrink:0}.mdc-button{-webkit-user-select:none;user-select:none;position:relative;display:inline-flex;align-items:center;justify-content:center;box-sizing:border-box;min-width:64px;border:none;outline:none;line-height:inherit;-webkit-appearance:none;overflow:visible;vertical-align:middle;background:rgba(0,0,0,0);padding:0 8px}.mdc-button::-moz-focus-inner{padding:0;border:0}.mdc-button:active{outline:none}.mdc-button:hover{cursor:pointer}.mdc-button:disabled{cursor:default;pointer-events:none}.mdc-button[hidden]{display:none}.mdc-button .mdc-button__label{position:relative}.mat-mdc-button{padding:0 var(--mat-button-text-horizontal-padding, 12px);height:var(--mat-button-text-container-height, 40px);font-family:var(--mat-button-text-label-text-font, var(--mat-sys-label-large-font));font-size:var(--mat-button-text-label-text-size, var(--mat-sys-label-large-size));letter-spacing:var(--mat-button-text-label-text-tracking, var(--mat-sys-label-large-tracking));text-transform:var(--mat-button-text-label-text-transform);font-weight:var(--mat-button-text-label-text-weight, var(--mat-sys-label-large-weight))}.mat-mdc-button,.mat-mdc-button .mdc-button__ripple{border-radius:var(--mat-button-text-container-shape, var(--mat-sys-corner-full))}.mat-mdc-button:not(:disabled){color:var(--mat-button-text-label-text-color, var(--mat-sys-primary))}.mat-mdc-button[disabled],.mat-mdc-button.mat-mdc-button-disabled{cursor:default;pointer-events:none;color:var(--mat-button-text-disabled-label-text-color, color-mix(in srgb, var(--mat-sys-on-surface) 38%, transparent))}.mat-mdc-button.mat-mdc-button-disabled-interactive{pointer-events:auto}.mat-mdc-button:has(.material-icons,mat-icon,[matButtonIcon]){padding:0 var(--mat-button-text-with-icon-horizontal-padding, 16px)}.mat-mdc-button>.mat-icon{margin-right:var(--mat-button-text-icon-spacing, 8px);margin-left:var(--mat-button-text-icon-offset, -4px)}[dir=rtl] .mat-mdc-button>.mat-icon{margin-right:var(--mat-button-text-icon-offset, -4px);margin-left:var(--mat-button-text-icon-spacing, 8px)}.mat-mdc-button .mdc-button__label+.mat-icon{margin-right:var(--mat-button-text-icon-offset, -4px);margin-left:var(--mat-button-text-icon-spacing, 8px)}[dir=rtl] .mat-mdc-button .mdc-button__label+.mat-icon{margin-right:var(--mat-button-text-icon-spacing, 8px);margin-left:var(--mat-button-text-icon-offset, -4px)}.mat-mdc-button .mat-ripple-element{background-color:var(--mat-button-text-ripple-color, color-mix(in srgb, var(--mat-sys-primary) calc(var(--mat-sys-pressed-state-layer-opacity) * 100%), transparent))}.mat-mdc-button .mat-mdc-button-persistent-ripple::before{background-color:var(--mat-button-text-state-layer-color, var(--mat-sys-primary))}.mat-mdc-button.mat-mdc-button-disabled .mat-mdc-button-persistent-ripple::before{background-color:var(--mat-button-text-disabled-state-layer-color, var(--mat-sys-on-surface-variant))}.mat-mdc-button:hover>.mat-mdc-button-persistent-ripple::before{opacity:var(--mat-button-text-hover-state-layer-opacity, var(--mat-sys-hover-state-layer-opacity))}.mat-mdc-button.cdk-program-focused>.mat-mdc-button-persistent-ripple::before,.mat-mdc-button.cdk-keyboard-focused>.mat-mdc-button-persistent-ripple::before,.mat-mdc-button.mat-mdc-button-disabled-interactive:focus>.mat-mdc-button-persistent-ripple::before{opacity:var(--mat-button-text-focus-state-layer-opacity, var(--mat-sys-focus-state-layer-opacity))}.mat-mdc-button:active>.mat-mdc-button-persistent-ripple::before{opacity:var(--mat-button-text-pressed-state-layer-opacity, var(--mat-sys-pressed-state-layer-opacity))}.mat-mdc-button .mat-mdc-button-touch-target{position:absolute;top:50%;height:var(--mat-button-text-touch-target-size, 48px);display:var(--mat-button-text-touch-target-display, block);left:0;right:0;transform:translateY(-50%)}.mat-mdc-unelevated-button{transition:box-shadow 280ms cubic-bezier(0.4, 0, 0.2, 1);height:var(--mat-button-filled-container-height, 40px);font-family:var(--mat-button-filled-label-text-font, var(--mat-sys-label-large-font));font-size:var(--mat-button-filled-label-text-size, var(--mat-sys-label-large-size));letter-spacing:var(--mat-button-filled-label-text-tracking, var(--mat-sys-label-large-tracking));text-transform:var(--mat-button-filled-label-text-transform);font-weight:var(--mat-button-filled-label-text-weight, var(--mat-sys-label-large-weight));padding:0 var(--mat-button-filled-horizontal-padding, 24px)}.mat-mdc-unelevated-button>.mat-icon{margin-right:var(--mat-button-filled-icon-spacing, 8px);margin-left:var(--mat-button-filled-icon-offset, -8px)}[dir=rtl] .mat-mdc-unelevated-button>.mat-icon{margin-right:var(--mat-button-filled-icon-offset, -8px);margin-left:var(--mat-button-filled-icon-spacing, 8px)}.mat-mdc-unelevated-button .mdc-button__label+.mat-icon{margin-right:var(--mat-button-filled-icon-offset, -8px);margin-left:var(--mat-button-filled-icon-spacing, 8px)}[dir=rtl] .mat-mdc-unelevated-button .mdc-button__label+.mat-icon{margin-right:var(--mat-button-filled-icon-spacing, 8px);margin-left:var(--mat-button-filled-icon-offset, -8px)}.mat-mdc-unelevated-button .mat-ripple-element{background-color:var(--mat-button-filled-ripple-color, color-mix(in srgb, var(--mat-sys-on-primary) calc(var(--mat-sys-pressed-state-layer-opacity) * 100%), transparent))}.mat-mdc-unelevated-button .mat-mdc-button-persistent-ripple::before{background-color:var(--mat-button-filled-state-layer-color, var(--mat-sys-on-primary))}.mat-mdc-unelevated-button.mat-mdc-button-disabled .mat-mdc-button-persistent-ripple::before{background-color:var(--mat-button-filled-disabled-state-layer-color, var(--mat-sys-on-surface-variant))}.mat-mdc-unelevated-button:hover>.mat-mdc-button-persistent-ripple::before{opacity:var(--mat-button-filled-hover-state-layer-opacity, var(--mat-sys-hover-state-layer-opacity))}.mat-mdc-unelevated-button.cdk-program-focused>.mat-mdc-button-persistent-ripple::before,.mat-mdc-unelevated-button.cdk-keyboard-focused>.mat-mdc-button-persistent-ripple::before,.mat-mdc-unelevated-button.mat-mdc-button-disabled-interactive:focus>.mat-mdc-button-persistent-ripple::before{opacity:var(--mat-button-filled-focus-state-layer-opacity, var(--mat-sys-focus-state-layer-opacity))}.mat-mdc-unelevated-button:active>.mat-mdc-button-persistent-ripple::before{opacity:var(--mat-button-filled-pressed-state-layer-opacity, var(--mat-sys-pressed-state-layer-opacity))}.mat-mdc-unelevated-button .mat-mdc-button-touch-target{position:absolute;top:50%;height:var(--mat-button-filled-touch-target-size, 48px);display:var(--mat-button-filled-touch-target-display, block);left:0;right:0;transform:translateY(-50%)}.mat-mdc-unelevated-button:not(:disabled){color:var(--mat-button-filled-label-text-color, var(--mat-sys-on-primary));background-color:var(--mat-button-filled-container-color, var(--mat-sys-primary))}.mat-mdc-unelevated-button,.mat-mdc-unelevated-button .mdc-button__ripple{border-radius:var(--mat-button-filled-container-shape, var(--mat-sys-corner-full))}.mat-mdc-unelevated-button[disabled],.mat-mdc-unelevated-button.mat-mdc-button-disabled{cursor:default;pointer-events:none;color:var(--mat-button-filled-disabled-label-text-color, color-mix(in srgb, var(--mat-sys-on-surface) 38%, transparent));background-color:var(--mat-button-filled-disabled-container-color, color-mix(in srgb, var(--mat-sys-on-surface) 12%, transparent))}.mat-mdc-unelevated-button.mat-mdc-button-disabled-interactive{pointer-events:auto}.mat-mdc-raised-button{transition:box-shadow 280ms cubic-bezier(0.4, 0, 0.2, 1);box-shadow:var(--mat-button-protected-container-elevation-shadow, var(--mat-sys-level1));height:var(--mat-button-protected-container-height, 40px);font-family:var(--mat-button-protected-label-text-font, var(--mat-sys-label-large-font));font-size:var(--mat-button-protected-label-text-size, var(--mat-sys-label-large-size));letter-spacing:var(--mat-button-protected-label-text-tracking, var(--mat-sys-label-large-tracking));text-transform:var(--mat-button-protected-label-text-transform);font-weight:var(--mat-button-protected-label-text-weight, var(--mat-sys-label-large-weight));padding:0 var(--mat-button-protected-horizontal-padding, 24px)}.mat-mdc-raised-button>.mat-icon{margin-right:var(--mat-button-protected-icon-spacing, 8px);margin-left:var(--mat-button-protected-icon-offset, -8px)}[dir=rtl] .mat-mdc-raised-button>.mat-icon{margin-right:var(--mat-button-protected-icon-offset, -8px);margin-left:var(--mat-button-protected-icon-spacing, 8px)}.mat-mdc-raised-button .mdc-button__label+.mat-icon{margin-right:var(--mat-button-protected-icon-offset, -8px);margin-left:var(--mat-button-protected-icon-spacing, 8px)}[dir=rtl] .mat-mdc-raised-button .mdc-button__label+.mat-icon{margin-right:var(--mat-button-protected-icon-spacing, 8px);margin-left:var(--mat-button-protected-icon-offset, -8px)}.mat-mdc-raised-button .mat-ripple-element{background-color:var(--mat-button-protected-ripple-color, color-mix(in srgb, var(--mat-sys-primary) calc(var(--mat-sys-pressed-state-layer-opacity) * 100%), transparent))}.mat-mdc-raised-button .mat-mdc-button-persistent-ripple::before{background-color:var(--mat-button-protected-state-layer-color, var(--mat-sys-primary))}.mat-mdc-raised-button.mat-mdc-button-disabled .mat-mdc-button-persistent-ripple::before{background-color:var(--mat-button-protected-disabled-state-layer-color, var(--mat-sys-on-surface-variant))}.mat-mdc-raised-button:hover>.mat-mdc-button-persistent-ripple::before{opacity:var(--mat-button-protected-hover-state-layer-opacity, var(--mat-sys-hover-state-layer-opacity))}.mat-mdc-raised-button.cdk-program-focused>.mat-mdc-button-persistent-ripple::before,.mat-mdc-raised-button.cdk-keyboard-focused>.mat-mdc-button-persistent-ripple::before,.mat-mdc-raised-button.mat-mdc-button-disabled-interactive:focus>.mat-mdc-button-persistent-ripple::before{opacity:var(--mat-button-protected-focus-state-layer-opacity, var(--mat-sys-focus-state-layer-opacity))}.mat-mdc-raised-button:active>.mat-mdc-button-persistent-ripple::before{opacity:var(--mat-button-protected-pressed-state-layer-opacity, var(--mat-sys-pressed-state-layer-opacity))}.mat-mdc-raised-button .mat-mdc-button-touch-target{position:absolute;top:50%;height:var(--mat-button-protected-touch-target-size, 48px);display:var(--mat-button-protected-touch-target-display, block);left:0;right:0;transform:translateY(-50%)}.mat-mdc-raised-button:not(:disabled){color:var(--mat-button-protected-label-text-color, var(--mat-sys-primary));background-color:var(--mat-button-protected-container-color, var(--mat-sys-surface))}.mat-mdc-raised-button,.mat-mdc-raised-button .mdc-button__ripple{border-radius:var(--mat-button-protected-container-shape, var(--mat-sys-corner-full))}.mat-mdc-raised-button:hover{box-shadow:var(--mat-button-protected-hover-container-elevation-shadow, var(--mat-sys-level2))}.mat-mdc-raised-button:focus{box-shadow:var(--mat-button-protected-focus-container-elevation-shadow, var(--mat-sys-level1))}.mat-mdc-raised-button:active,.mat-mdc-raised-button:focus:active{box-shadow:var(--mat-button-protected-pressed-container-elevation-shadow, var(--mat-sys-level1))}.mat-mdc-raised-button[disabled],.mat-mdc-raised-button.mat-mdc-button-disabled{cursor:default;pointer-events:none;color:var(--mat-button-protected-disabled-label-text-color, color-mix(in srgb, var(--mat-sys-on-surface) 38%, transparent));background-color:var(--mat-button-protected-disabled-container-color, color-mix(in srgb, var(--mat-sys-on-surface) 12%, transparent))}.mat-mdc-raised-button[disabled].mat-mdc-button-disabled,.mat-mdc-raised-button.mat-mdc-button-disabled.mat-mdc-button-disabled{box-shadow:var(--mat-button-protected-disabled-container-elevation-shadow, var(--mat-sys-level0))}.mat-mdc-raised-button.mat-mdc-button-disabled-interactive{pointer-events:auto}.mat-mdc-outlined-button{border-style:solid;transition:border 280ms cubic-bezier(0.4, 0, 0.2, 1);height:var(--mat-button-outlined-container-height, 40px);font-family:var(--mat-button-outlined-label-text-font, var(--mat-sys-label-large-font));font-size:var(--mat-button-outlined-label-text-size, var(--mat-sys-label-large-size));letter-spacing:var(--mat-button-outlined-label-text-tracking, var(--mat-sys-label-large-tracking));text-transform:var(--mat-button-outlined-label-text-transform);font-weight:var(--mat-button-outlined-label-text-weight, var(--mat-sys-label-large-weight));border-radius:var(--mat-button-outlined-container-shape, var(--mat-sys-corner-full));border-width:var(--mat-button-outlined-outline-width, 1px);padding:0 var(--mat-button-outlined-horizontal-padding, 24px)}.mat-mdc-outlined-button>.mat-icon{margin-right:var(--mat-button-outlined-icon-spacing, 8px);margin-left:var(--mat-button-outlined-icon-offset, -8px)}[dir=rtl] .mat-mdc-outlined-button>.mat-icon{margin-right:var(--mat-button-outlined-icon-offset, -8px);margin-left:var(--mat-button-outlined-icon-spacing, 8px)}.mat-mdc-outlined-button .mdc-button__label+.mat-icon{margin-right:var(--mat-button-outlined-icon-offset, -8px);margin-left:var(--mat-button-outlined-icon-spacing, 8px)}[dir=rtl] .mat-mdc-outlined-button .mdc-button__label+.mat-icon{margin-right:var(--mat-button-outlined-icon-spacing, 8px);margin-left:var(--mat-button-outlined-icon-offset, -8px)}.mat-mdc-outlined-button .mat-ripple-element{background-color:var(--mat-button-outlined-ripple-color, color-mix(in srgb, var(--mat-sys-primary) calc(var(--mat-sys-pressed-state-layer-opacity) * 100%), transparent))}.mat-mdc-outlined-button .mat-mdc-button-persistent-ripple::before{background-color:var(--mat-button-outlined-state-layer-color, var(--mat-sys-primary))}.mat-mdc-outlined-button.mat-mdc-button-disabled .mat-mdc-button-persistent-ripple::before{background-color:var(--mat-button-outlined-disabled-state-layer-color, var(--mat-sys-on-surface-variant))}.mat-mdc-outlined-button:hover>.mat-mdc-button-persistent-ripple::before{opacity:var(--mat-button-outlined-hover-state-layer-opacity, var(--mat-sys-hover-state-layer-opacity))}.mat-mdc-outlined-button.cdk-program-focused>.mat-mdc-button-persistent-ripple::before,.mat-mdc-outlined-button.cdk-keyboard-focused>.mat-mdc-button-persistent-ripple::before,.mat-mdc-outlined-button.mat-mdc-button-disabled-interactive:focus>.mat-mdc-button-persistent-ripple::before{opacity:var(--mat-button-outlined-focus-state-layer-opacity, var(--mat-sys-focus-state-layer-opacity))}.mat-mdc-outlined-button:active>.mat-mdc-button-persistent-ripple::before{opacity:var(--mat-button-outlined-pressed-state-layer-opacity, var(--mat-sys-pressed-state-layer-opacity))}.mat-mdc-outlined-button .mat-mdc-button-touch-target{position:absolute;top:50%;height:var(--mat-button-outlined-touch-target-size, 48px);display:var(--mat-button-outlined-touch-target-display, block);left:0;right:0;transform:translateY(-50%)}.mat-mdc-outlined-button:not(:disabled){color:var(--mat-button-outlined-label-text-color, var(--mat-sys-primary));border-color:var(--mat-button-outlined-outline-color, var(--mat-sys-outline))}.mat-mdc-outlined-button[disabled],.mat-mdc-outlined-button.mat-mdc-button-disabled{cursor:default;pointer-events:none;color:var(--mat-button-outlined-disabled-label-text-color, color-mix(in srgb, var(--mat-sys-on-surface) 38%, transparent));border-color:var(--mat-button-outlined-disabled-outline-color, color-mix(in srgb, var(--mat-sys-on-surface) 12%, transparent))}.mat-mdc-outlined-button.mat-mdc-button-disabled-interactive{pointer-events:auto}.mat-tonal-button{transition:box-shadow 280ms cubic-bezier(0.4, 0, 0.2, 1);height:var(--mat-button-tonal-container-height, 40px);font-family:var(--mat-button-tonal-label-text-font, var(--mat-sys-label-large-font));font-size:var(--mat-button-tonal-label-text-size, var(--mat-sys-label-large-size));letter-spacing:var(--mat-button-tonal-label-text-tracking, var(--mat-sys-label-large-tracking));text-transform:var(--mat-button-tonal-label-text-transform);font-weight:var(--mat-button-tonal-label-text-weight, var(--mat-sys-label-large-weight));padding:0 var(--mat-button-tonal-horizontal-padding, 24px)}.mat-tonal-button:not(:disabled){color:var(--mat-button-tonal-label-text-color, var(--mat-sys-on-secondary-container));background-color:var(--mat-button-tonal-container-color, var(--mat-sys-secondary-container))}.mat-tonal-button,.mat-tonal-button .mdc-button__ripple{border-radius:var(--mat-button-tonal-container-shape, var(--mat-sys-corner-full))}.mat-tonal-button[disabled],.mat-tonal-button.mat-mdc-button-disabled{cursor:default;pointer-events:none;color:var(--mat-button-tonal-disabled-label-text-color, color-mix(in srgb, var(--mat-sys-on-surface) 38%, transparent));background-color:var(--mat-button-tonal-disabled-container-color, color-mix(in srgb, var(--mat-sys-on-surface) 12%, transparent))}.mat-tonal-button.mat-mdc-button-disabled-interactive{pointer-events:auto}.mat-tonal-button>.mat-icon{margin-right:var(--mat-button-tonal-icon-spacing, 8px);margin-left:var(--mat-button-tonal-icon-offset, -8px)}[dir=rtl] .mat-tonal-button>.mat-icon{margin-right:var(--mat-button-tonal-icon-offset, -8px);margin-left:var(--mat-button-tonal-icon-spacing, 8px)}.mat-tonal-button .mdc-button__label+.mat-icon{margin-right:var(--mat-button-tonal-icon-offset, -8px);margin-left:var(--mat-button-tonal-icon-spacing, 8px)}[dir=rtl] .mat-tonal-button .mdc-button__label+.mat-icon{margin-right:var(--mat-button-tonal-icon-spacing, 8px);margin-left:var(--mat-button-tonal-icon-offset, -8px)}.mat-tonal-button .mat-ripple-element{background-color:var(--mat-button-tonal-ripple-color, color-mix(in srgb, var(--mat-sys-on-secondary-container) calc(var(--mat-sys-pressed-state-layer-opacity) * 100%), transparent))}.mat-tonal-button .mat-mdc-button-persistent-ripple::before{background-color:var(--mat-button-tonal-state-layer-color, var(--mat-sys-on-secondary-container))}.mat-tonal-button.mat-mdc-button-disabled .mat-mdc-button-persistent-ripple::before{background-color:var(--mat-button-tonal-disabled-state-layer-color, var(--mat-sys-on-surface-variant))}.mat-tonal-button:hover>.mat-mdc-button-persistent-ripple::before{opacity:var(--mat-button-tonal-hover-state-layer-opacity, var(--mat-sys-hover-state-layer-opacity))}.mat-tonal-button.cdk-program-focused>.mat-mdc-button-persistent-ripple::before,.mat-tonal-button.cdk-keyboard-focused>.mat-mdc-button-persistent-ripple::before,.mat-tonal-button.mat-mdc-button-disabled-interactive:focus>.mat-mdc-button-persistent-ripple::before{opacity:var(--mat-button-tonal-focus-state-layer-opacity, var(--mat-sys-focus-state-layer-opacity))}.mat-tonal-button:active>.mat-mdc-button-persistent-ripple::before{opacity:var(--mat-button-tonal-pressed-state-layer-opacity, var(--mat-sys-pressed-state-layer-opacity))}.mat-tonal-button .mat-mdc-button-touch-target{position:absolute;top:50%;height:var(--mat-button-tonal-touch-target-size, 48px);display:var(--mat-button-tonal-touch-target-display, block);left:0;right:0;transform:translateY(-50%)}.mat-mdc-button,.mat-mdc-unelevated-button,.mat-mdc-raised-button,.mat-mdc-outlined-button,.mat-tonal-button{-webkit-tap-highlight-color:rgba(0,0,0,0)}.mat-mdc-button .mat-mdc-button-ripple,.mat-mdc-button .mat-mdc-button-persistent-ripple,.mat-mdc-button .mat-mdc-button-persistent-ripple::before,.mat-mdc-unelevated-button .mat-mdc-button-ripple,.mat-mdc-unelevated-button .mat-mdc-button-persistent-ripple,.mat-mdc-unelevated-button .mat-mdc-button-persistent-ripple::before,.mat-mdc-raised-button .mat-mdc-button-ripple,.mat-mdc-raised-button .mat-mdc-button-persistent-ripple,.mat-mdc-raised-button .mat-mdc-button-persistent-ripple::before,.mat-mdc-outlined-button .mat-mdc-button-ripple,.mat-mdc-outlined-button .mat-mdc-button-persistent-ripple,.mat-mdc-outlined-button .mat-mdc-button-persistent-ripple::before,.mat-tonal-button .mat-mdc-button-ripple,.mat-tonal-button .mat-mdc-button-persistent-ripple,.mat-tonal-button .mat-mdc-button-persistent-ripple::before{top:0;left:0;right:0;bottom:0;position:absolute;pointer-events:none;border-radius:inherit}.mat-mdc-button .mat-mdc-button-ripple,.mat-mdc-unelevated-button .mat-mdc-button-ripple,.mat-mdc-raised-button .mat-mdc-button-ripple,.mat-mdc-outlined-button .mat-mdc-button-ripple,.mat-tonal-button .mat-mdc-button-ripple{overflow:hidden}.mat-mdc-button .mat-mdc-button-persistent-ripple::before,.mat-mdc-unelevated-button .mat-mdc-button-persistent-ripple::before,.mat-mdc-raised-button .mat-mdc-button-persistent-ripple::before,.mat-mdc-outlined-button .mat-mdc-button-persistent-ripple::before,.mat-tonal-button .mat-mdc-button-persistent-ripple::before{content:"";opacity:0}.mat-mdc-button .mdc-button__label,.mat-mdc-button .mat-icon,.mat-mdc-unelevated-button .mdc-button__label,.mat-mdc-unelevated-button .mat-icon,.mat-mdc-raised-button .mdc-button__label,.mat-mdc-raised-button .mat-icon,.mat-mdc-outlined-button .mdc-button__label,.mat-mdc-outlined-button .mat-icon,.mat-tonal-button .mdc-button__label,.mat-tonal-button .mat-icon{z-index:1;position:relative}.mat-mdc-button .mat-focus-indicator,.mat-mdc-unelevated-button .mat-focus-indicator,.mat-mdc-raised-button .mat-focus-indicator,.mat-mdc-outlined-button .mat-focus-indicator,.mat-tonal-button .mat-focus-indicator{top:0;left:0;right:0;bottom:0;position:absolute;border-radius:inherit}.mat-mdc-button:focus>.mat-focus-indicator::before,.mat-mdc-unelevated-button:focus>.mat-focus-indicator::before,.mat-mdc-raised-button:focus>.mat-focus-indicator::before,.mat-mdc-outlined-button:focus>.mat-focus-indicator::before,.mat-tonal-button:focus>.mat-focus-indicator::before{content:"";border-radius:inherit}.mat-mdc-button._mat-animation-noopable,.mat-mdc-unelevated-button._mat-animation-noopable,.mat-mdc-raised-button._mat-animation-noopable,.mat-mdc-outlined-button._mat-animation-noopable,.mat-tonal-button._mat-animation-noopable{transition:none !important;animation:none !important}.mat-mdc-button>.mat-icon,.mat-mdc-unelevated-button>.mat-icon,.mat-mdc-raised-button>.mat-icon,.mat-mdc-outlined-button>.mat-icon,.mat-tonal-button>.mat-icon{display:inline-block;position:relative;vertical-align:top;font-size:1.125rem;height:1.125rem;width:1.125rem}.mat-mdc-outlined-button .mat-mdc-button-ripple,.mat-mdc-outlined-button .mdc-button__ripple{top:-1px;left:-1px;bottom:-1px;right:-1px}.mat-mdc-unelevated-button .mat-focus-indicator::before,.mat-tonal-button .mat-focus-indicator::before,.mat-mdc-raised-button .mat-focus-indicator::before{margin:calc(calc(var(--mat-focus-indicator-border-width, 3px) + 2px)*-1)}.mat-mdc-outlined-button .mat-focus-indicator::before{margin:calc(calc(var(--mat-focus-indicator-border-width, 3px) + 3px)*-1)}
`,`@media(forced-colors: active){.mat-mdc-button:not(.mdc-button--outlined),.mat-mdc-unelevated-button:not(.mdc-button--outlined),.mat-mdc-raised-button:not(.mdc-button--outlined),.mat-mdc-outlined-button:not(.mdc-button--outlined),.mat-mdc-button-base.mat-tonal-button,.mat-mdc-icon-button.mat-mdc-icon-button,.mat-mdc-outlined-button .mdc-button__ripple{outline:solid 1px}}
`],encapsulation:2,changeDetection:0})}return n})();function ax(n){return n.hasAttribute("mat-raised-button")?"elevated":n.hasAttribute("mat-stroked-button")?"outlined":n.hasAttribute("mat-flat-button")?"filled":n.hasAttribute("mat-button")?"text":null}var yM=(()=>{class n{static \u0275fac=function(i){return new(i||n)};static \u0275mod=he({type:n});static \u0275inj=de({imports:[pt,lb,pt]})}return n})();var _c;function cx(){if(_c===void 0&&(_c=null,typeof window<"u")){let n=window;n.trustedTypes!==void 0&&(_c=n.trustedTypes.createPolicy("angular#components",{createHTML:e=>e}))}return _c}function Wo(n){return cx()?.createHTML(n)||n}function db(n){return Error(`Unable to find icon with the name "${n}"`)}function lx(){return Error("Could not find HttpClient for use with Angular Material icons. Please add provideHttpClient() to your providers.")}function hb(n){return Error(`The URL provided to MatIconRegistry was not trusted as a resource URL via Angular's DomSanitizer. Attempted URL was "${n}".`)}function fb(n){return Error(`The literal provided to MatIconRegistry was not trusted as safe HTML by Angular's DomSanitizer. Attempted literal was "${n}".`)}var cn=class{url;svgText;options;svgElement;constructor(e,t,i){this.url=e,this.svgText=t,this.options=i}},pb=(()=>{class n{_httpClient;_sanitizer;_errorHandler;_document;_svgIconConfigs=new Map;_iconSetConfigs=new Map;_cachedIconsByUrl=new Map;_inProgressUrlFetches=new Map;_fontCssClassesByAlias=new Map;_resolvers=[];_defaultFontSetClass=["material-icons","mat-ligature-font"];constructor(t,i,r,o){this._httpClient=t,this._sanitizer=i,this._errorHandler=o,this._document=r}addSvgIcon(t,i,r){return this.addSvgIconInNamespace("",t,i,r)}addSvgIconLiteral(t,i,r){return this.addSvgIconLiteralInNamespace("",t,i,r)}addSvgIconInNamespace(t,i,r,o){return this._addSvgIconConfig(t,i,new cn(r,null,o))}addSvgIconResolver(t){return this._resolvers.push(t),this}addSvgIconLiteralInNamespace(t,i,r,o){let a=this._sanitizer.sanitize(xi.HTML,r);if(!a)throw fb(r);let c=Wo(a);return this._addSvgIconConfig(t,i,new cn("",c,o))}addSvgIconSet(t,i){return this.addSvgIconSetInNamespace("",t,i)}addSvgIconSetLiteral(t,i){return this.addSvgIconSetLiteralInNamespace("",t,i)}addSvgIconSetInNamespace(t,i,r){return this._addSvgIconSetConfig(t,new cn(i,null,r))}addSvgIconSetLiteralInNamespace(t,i,r){let o=this._sanitizer.sanitize(xi.HTML,i);if(!o)throw fb(i);let a=Wo(o);return this._addSvgIconSetConfig(t,new cn("",a,r))}registerFontClassAlias(t,i=t){return this._fontCssClassesByAlias.set(t,i),this}classNameForFontAlias(t){return this._fontCssClassesByAlias.get(t)||t}setDefaultFontSetClass(...t){return this._defaultFontSetClass=t,this}getDefaultFontSetClass(){return this._defaultFontSetClass}getSvgIconFromUrl(t){let i=this._sanitizer.sanitize(xi.RESOURCE_URL,t);if(!i)throw hb(t);let r=this._cachedIconsByUrl.get(i);return r?_t(vc(r)):this._loadSvgIconFromConfig(new cn(t,null)).pipe(Si(o=>this._cachedIconsByUrl.set(i,o)),Re(o=>vc(o)))}getNamedSvgIcon(t,i=""){let r=mb(i,t),o=this._svgIconConfigs.get(r);if(o)return this._getSvgFromConfig(o);if(o=this._getIconConfigFromResolvers(i,t),o)return this._svgIconConfigs.set(r,o),this._getSvgFromConfig(o);let a=this._iconSetConfigs.get(i);return a?this._getSvgFromIconSetConfigs(t,a):Cm(db(r))}ngOnDestroy(){this._resolvers=[],this._svgIconConfigs.clear(),this._iconSetConfigs.clear(),this._cachedIconsByUrl.clear()}_getSvgFromConfig(t){return t.svgText?_t(vc(this._svgElementFromConfig(t))):this._loadSvgIconFromConfig(t).pipe(Re(i=>vc(i)))}_getSvgFromIconSetConfigs(t,i){let r=this._extractIconWithNameFromAnySet(t,i);if(r)return _t(r);let o=i.filter(a=>!a.svgText).map(a=>this._loadSvgIconSetFromConfig(a).pipe(Dm(c=>{let h=`Loading icon set URL: ${this._sanitizer.sanitize(xi.RESOURCE_URL,a.url)} failed: ${c.message}`;return this._errorHandler.handleError(new Error(h)),_t(null)})));return km(o).pipe(Re(()=>{let a=this._extractIconWithNameFromAnySet(t,i);if(!a)throw db(t);return a}))}_extractIconWithNameFromAnySet(t,i){for(let r=i.length-1;r>=0;r--){let o=i[r];if(o.svgText&&o.svgText.toString().indexOf(t)>-1){let a=this._svgElementFromConfig(o),c=this._extractSvgIconFromSet(a,t,o.options);if(c)return c}}return null}_loadSvgIconFromConfig(t){return this._fetchIcon(t).pipe(Si(i=>t.svgText=i),Re(()=>this._svgElementFromConfig(t)))}_loadSvgIconSetFromConfig(t){return t.svgText?_t(null):this._fetchIcon(t).pipe(Si(i=>t.svgText=i))}_extractSvgIconFromSet(t,i,r){let o=t.querySelector(`[id="${i}"]`);if(!o)return null;let a=o.cloneNode(!0);if(a.removeAttribute("id"),a.nodeName.toLowerCase()==="svg")return this._setSvgAttributes(a,r);if(a.nodeName.toLowerCase()==="symbol")return this._setSvgAttributes(this._toSvgElement(a),r);let c=this._svgElementFromString(Wo("<svg></svg>"));return c.appendChild(a),this._setSvgAttributes(c,r)}_svgElementFromString(t){let i=this._document.createElement("DIV");i.innerHTML=t;let r=i.querySelector("svg");if(!r)throw Error("<svg> tag not found");return r}_toSvgElement(t){let i=this._svgElementFromString(Wo("<svg></svg>")),r=t.attributes;for(let o=0;o<r.length;o++){let{name:a,value:c}=r[o];a!=="id"&&i.setAttribute(a,c)}for(let o=0;o<t.childNodes.length;o++)t.childNodes[o].nodeType===this._document.ELEMENT_NODE&&i.appendChild(t.childNodes[o].cloneNode(!0));return i}_setSvgAttributes(t,i){return t.setAttribute("fit",""),t.setAttribute("height","100%"),t.setAttribute("width","100%"),t.setAttribute("preserveAspectRatio","xMidYMid meet"),t.setAttribute("focusable","false"),i&&i.viewBox&&t.setAttribute("viewBox",i.viewBox),t}_fetchIcon(t){let{url:i,options:r}=t,o=r?.withCredentials??!1;if(!this._httpClient)throw lx();if(i==null)throw Error(`Cannot fetch icon from URL "${i}".`);let a=this._sanitizer.sanitize(xi.RESOURCE_URL,i);if(!a)throw hb(i);let c=this._inProgressUrlFetches.get(a);if(c)return c;let u=this._httpClient.get(a,{responseType:"text",withCredentials:o}).pipe(Re(h=>Wo(h)),Om(()=>this._inProgressUrlFetches.delete(a)),Nm());return this._inProgressUrlFetches.set(a,u),u}_addSvgIconConfig(t,i,r){return this._svgIconConfigs.set(mb(t,i),r),this}_addSvgIconSetConfig(t,i){let r=this._iconSetConfigs.get(t);return r?r.push(i):this._iconSetConfigs.set(t,[i]),this}_svgElementFromConfig(t){if(!t.svgElement){let i=this._svgElementFromString(t.svgText);this._setSvgAttributes(i,t.options),t.svgElement=i}return t.svgElement}_getIconConfigFromResolvers(t,i){for(let r=0;r<this._resolvers.length;r++){let o=this._resolvers[r](i,t);if(o)return ux(o)?new cn(o.url,null,o.options):new cn(o,null)}}static \u0275fac=function(i){return new(i||n)(Lr(tp,8),Lr(np),Lr(ae,8),Lr(Vr))};static \u0275prov=$({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();function vc(n){return n.cloneNode(!0)}function mb(n,e){return n+":"+e}function ux(n){return!!(n.url&&n.options)}var dx=["*"],hx=new Q("MAT_ICON_DEFAULT_OPTIONS"),fx=new Q("mat-icon-location",{providedIn:"root",factory:mx});function mx(){let n=S(ae),e=n?n.location:null;return{getPathname:()=>e?e.pathname+e.search:""}}var gb=["clip-path","color-profile","src","cursor","fill","filter","marker","marker-start","marker-mid","marker-end","mask","stroke"],px=gb.map(n=>`[${n}]`).join(", "),gx=/^url\(['"]?#(.*?)['"]?\)$/,BM=(()=>{class n{_elementRef=S(ce);_iconRegistry=S(pb);_location=S(fx);_errorHandler=S(Vr);_defaultColor;get color(){return this._color||this._defaultColor}set color(t){this._color=t}_color;inline=!1;get svgIcon(){return this._svgIcon}set svgIcon(t){t!==this._svgIcon&&(t?this._updateSvgIcon(t):this._svgIcon&&this._clearSvgElement(),this._svgIcon=t)}_svgIcon;get fontSet(){return this._fontSet}set fontSet(t){let i=this._cleanupFontValue(t);i!==this._fontSet&&(this._fontSet=i,this._updateFontIconClasses())}_fontSet;get fontIcon(){return this._fontIcon}set fontIcon(t){let i=this._cleanupFontValue(t);i!==this._fontIcon&&(this._fontIcon=i,this._updateFontIconClasses())}_fontIcon;_previousFontSetClass=[];_previousFontIconClass;_svgName;_svgNamespace;_previousPath;_elementsWithExternalReferences;_currentIconFetch=xt.EMPTY;constructor(){let t=S(new Km("aria-hidden"),{optional:!0}),i=S(hx,{optional:!0});i&&(i.color&&(this.color=this._defaultColor=i.color),i.fontSet&&(this.fontSet=i.fontSet)),t||this._elementRef.nativeElement.setAttribute("aria-hidden","true")}_splitIconName(t){if(!t)return["",""];let i=t.split(":");switch(i.length){case 1:return["",i[0]];case 2:return i;default:throw Error(`Invalid icon name: "${t}"`)}}ngOnInit(){this._updateFontIconClasses()}ngAfterViewChecked(){let t=this._elementsWithExternalReferences;if(t&&t.size){let i=this._location.getPathname();i!==this._previousPath&&(this._previousPath=i,this._prependPathToReferences(i))}}ngOnDestroy(){this._currentIconFetch.unsubscribe(),this._elementsWithExternalReferences&&this._elementsWithExternalReferences.clear()}_usingFontIcon(){return!this.svgIcon}_setSvgElement(t){this._clearSvgElement();let i=this._location.getPathname();this._previousPath=i,this._cacheChildrenWithExternalReferences(t),this._prependPathToReferences(i),this._elementRef.nativeElement.appendChild(t)}_clearSvgElement(){let t=this._elementRef.nativeElement,i=t.childNodes.length;for(this._elementsWithExternalReferences&&this._elementsWithExternalReferences.clear();i--;){let r=t.childNodes[i];(r.nodeType!==1||r.nodeName.toLowerCase()==="svg")&&r.remove()}}_updateFontIconClasses(){if(!this._usingFontIcon())return;let t=this._elementRef.nativeElement,i=(this.fontSet?this._iconRegistry.classNameForFontAlias(this.fontSet).split(/ +/):this._iconRegistry.getDefaultFontSetClass()).filter(r=>r.length>0);this._previousFontSetClass.forEach(r=>t.classList.remove(r)),i.forEach(r=>t.classList.add(r)),this._previousFontSetClass=i,this.fontIcon!==this._previousFontIconClass&&!i.includes("mat-ligature-font")&&(this._previousFontIconClass&&t.classList.remove(this._previousFontIconClass),this.fontIcon&&t.classList.add(this.fontIcon),this._previousFontIconClass=this.fontIcon)}_cleanupFontValue(t){return typeof t=="string"?t.trim().split(" ")[0]:t}_prependPathToReferences(t){let i=this._elementsWithExternalReferences;i&&i.forEach((r,o)=>{r.forEach(a=>{o.setAttribute(a.name,`url('${t}#${a.value}')`)})})}_cacheChildrenWithExternalReferences(t){let i=t.querySelectorAll(px),r=this._elementsWithExternalReferences=this._elementsWithExternalReferences||new Map;for(let o=0;o<i.length;o++)gb.forEach(a=>{let c=i[o],u=c.getAttribute(a),h=u?u.match(gx):null;if(h){let f=r.get(c);f||(f=[],r.set(c,f)),f.push({name:a,value:h[1]})}})}_updateSvgIcon(t){if(this._svgNamespace=null,this._svgName=null,this._currentIconFetch.unsubscribe(),t){let[i,r]=this._splitIconName(t);i&&(this._svgNamespace=i),r&&(this._svgName=r),this._currentIconFetch=this._iconRegistry.getNamedSvgIcon(r,i).pipe(ms(1)).subscribe(o=>this._setSvgElement(o),o=>{let a=`Error retrieving icon ${i}:${r}! ${o.message}`;this._errorHandler.handleError(new Error(a))})}}static \u0275fac=function(i){return new(i||n)};static \u0275cmp=ke({type:n,selectors:[["mat-icon"]],hostAttrs:["role","img",1,"mat-icon","notranslate"],hostVars:10,hostBindings:function(i,r){i&2&&(_n("data-mat-icon-type",r._usingFontIcon()?"font":"svg")("data-mat-icon-name",r._svgName||r.fontIcon)("data-mat-icon-namespace",r._svgNamespace||r.fontSet)("fontIcon",r._usingFontIcon()?r.fontIcon:null),As(r.color?"mat-"+r.color:""),qe("mat-icon-inline",r.inline)("mat-icon-no-color",r.color!=="primary"&&r.color!=="accent"&&r.color!=="warn"))},inputs:{color:"color",inline:[2,"inline","inline",ct],svgIcon:"svgIcon",fontSet:"fontSet",fontIcon:"fontIcon"},exportAs:["matIcon"],ngContentSelectors:dx,decls:1,vars:0,template:function(i,r){i&1&&(kt(),Ee(0))},styles:[`mat-icon,mat-icon.mat-primary,mat-icon.mat-accent,mat-icon.mat-warn{color:var(--mat-icon-color, inherit)}.mat-icon{-webkit-user-select:none;user-select:none;background-repeat:no-repeat;display:inline-block;fill:currentColor;height:24px;width:24px;overflow:hidden}.mat-icon.mat-icon-inline{font-size:inherit;height:inherit;line-height:inherit;width:inherit}.mat-icon.mat-ligature-font[fontIcon]::before{content:attr(fontIcon)}[dir=rtl] .mat-icon-rtl-mirror{transform:scale(-1, 1)}.mat-form-field:not(.mat-form-field-appearance-legacy) .mat-form-field-prefix .mat-icon,.mat-form-field:not(.mat-form-field-appearance-legacy) .mat-form-field-suffix .mat-icon{display:block}.mat-form-field:not(.mat-form-field-appearance-legacy) .mat-form-field-prefix .mat-icon-button .mat-icon,.mat-form-field:not(.mat-form-field-appearance-legacy) .mat-form-field-suffix .mat-icon-button .mat-icon{margin:auto}
`],encapsulation:2,changeDetection:0})}return n})(),zM=(()=>{class n{static \u0275fac=function(i){return new(i||n)};static \u0275mod=he({type:n});static \u0275inj=de({imports:[pt,pt]})}return n})();var mf=class{_box;_destroyed=new Z;_resizeSubject=new Z;_resizeObserver;_elementObservables=new Map;constructor(e){this._box=e,typeof ResizeObserver<"u"&&(this._resizeObserver=new ResizeObserver(t=>this._resizeSubject.next(t)))}observe(e){return this._elementObservables.has(e)||this._elementObservables.set(e,new Me(t=>{let i=this._resizeSubject.subscribe(t);return this._resizeObserver?.observe(e,{box:this._box}),()=>{this._resizeObserver?.unobserve(e),i.unsubscribe(),this._elementObservables.delete(e)}}).pipe(rt(t=>t.some(i=>i.target===e)),sl({bufferSize:1,refCount:!0}),$t(this._destroyed))),this._elementObservables.get(e)}destroy(){this._destroyed.next(),this._destroyed.complete(),this._resizeSubject.complete(),this._elementObservables.clear()}},_b=(()=>{class n{_cleanupErrorListener;_observers=new Map;_ngZone=S(W);constructor(){typeof ResizeObserver<"u"}ngOnDestroy(){for(let[,t]of this._observers)t.destroy();this._observers.clear(),this._cleanupErrorListener?.()}observe(t,i){let r=i?.box||"content-box";return this._observers.has(r)||this._observers.set(r,new mf(r)),this._observers.get(r).observe(t)}static \u0275fac=function(i){return new(i||n)};static \u0275prov=$({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();var _x=["notch"],vx=["matFormFieldNotchedOutline",""],yx=["*"],vb=["iconPrefixContainer"],yb=["textPrefixContainer"],bb=["iconSuffixContainer"],wb=["textSuffixContainer"],bx=["textField"],wx=["*",[["mat-label"]],[["","matPrefix",""],["","matIconPrefix",""]],[["","matTextPrefix",""]],[["","matTextSuffix",""]],[["","matSuffix",""],["","matIconSuffix",""]],[["mat-error"],["","matError",""]],[["mat-hint",3,"align","end"]],[["mat-hint","align","end"]]],Ex=["*","mat-label","[matPrefix], [matIconPrefix]","[matTextPrefix]","[matTextSuffix]","[matSuffix], [matIconSuffix]","mat-error, [matError]","mat-hint:not([align='end'])","mat-hint[align='end']"];function Ix(n,e){n&1&&zr(0,"span",21)}function Tx(n,e){if(n&1&&(et(0,"label",20),Ee(1,1),Je(2,Ix,1,0,"span",21),tt()),n&2){let t=vn(2);ki("floating",t._shouldLabelFloat())("monitorResize",t._hasOutline())("id",t._labelId),_n("for",t._control.disableAutomaticLabeling?null:t._control.id),Fe(2),Ze(!t.hideRequiredMarker&&t._control.required?2:-1)}}function Ax(n,e){if(n&1&&Je(0,Tx,3,5,"label",20),n&2){let t=vn();Ze(t._hasFloatingLabel()?0:-1)}}function Sx(n,e){n&1&&zr(0,"div",7)}function Cx(n,e){}function xx(n,e){if(n&1&&Ts(0,Cx,0,0,"ng-template",13),n&2){vn(2);let t=dl(1);ki("ngTemplateOutlet",t)}}function Rx(n,e){if(n&1&&(et(0,"div",9),Je(1,xx,1,1,null,13),tt()),n&2){let t=vn();ki("matFormFieldNotchedOutlineOpen",t._shouldLabelFloat()),Fe(),Ze(t._forceDisplayInfixLabel()?-1:1)}}function kx(n,e){n&1&&(et(0,"div",10,2),Ee(2,2),tt())}function Px(n,e){n&1&&(et(0,"div",11,3),Ee(2,3),tt())}function Dx(n,e){}function Ox(n,e){if(n&1&&Ts(0,Dx,0,0,"ng-template",13),n&2){vn();let t=dl(1);ki("ngTemplateOutlet",t)}}function Nx(n,e){n&1&&(et(0,"div",14,4),Ee(2,4),tt())}function Mx(n,e){n&1&&(et(0,"div",15,5),Ee(2,5),tt())}function Fx(n,e){n&1&&zr(0,"div",16)}function Lx(n,e){n&1&&(et(0,"div",18),Ee(1,6),tt())}function Vx(n,e){if(n&1&&(et(0,"mat-hint",22),Wm(1),tt()),n&2){let t=vn(2);ki("id",t._hintLabelId),Fe(),Hm(t.hintLabel)}}function Ux(n,e){if(n&1&&(et(0,"div",19),Je(1,Vx,2,2,"mat-hint",22),Ee(2,7),zr(3,"div",23),Ee(4,8),tt()),n&2){let t=vn();Fe(),Ze(t.hintLabel?1:-1)}}var pf=(()=>{class n{static \u0275fac=function(i){return new(i||n)};static \u0275dir=pe({type:n,selectors:[["mat-label"]]})}return n})(),xb=new Q("MatError");var gf=(()=>{class n{align="start";id=S(pr).getId("mat-mdc-hint-");static \u0275fac=function(i){return new(i||n)};static \u0275dir=pe({type:n,selectors:[["mat-hint"]],hostAttrs:[1,"mat-mdc-form-field-hint","mat-mdc-form-field-bottom-align"],hostVars:4,hostBindings:function(i,r){i&2&&(jm("id",r.id),_n("align",null),qe("mat-mdc-form-field-hint-end",r.align==="end"))},inputs:{align:"align",id:"id"}})}return n})(),Rb=new Q("MatPrefix");var kb=new Q("MatSuffix");var Pb=new Q("FloatingLabelParent"),Eb=(()=>{class n{_elementRef=S(ce);get floating(){return this._floating}set floating(t){this._floating=t,this.monitorResize&&this._handleResize()}_floating=!1;get monitorResize(){return this._monitorResize}set monitorResize(t){this._monitorResize=t,this._monitorResize?this._subscribeToResize():this._resizeSubscription.unsubscribe()}_monitorResize=!1;_resizeObserver=S(_b);_ngZone=S(W);_parent=S(Pb);_resizeSubscription=new xt;constructor(){}ngOnDestroy(){this._resizeSubscription.unsubscribe()}getWidth(){return Bx(this._elementRef.nativeElement)}get element(){return this._elementRef.nativeElement}_handleResize(){setTimeout(()=>this._parent._handleLabelResized())}_subscribeToResize(){this._resizeSubscription.unsubscribe(),this._ngZone.runOutsideAngular(()=>{this._resizeSubscription=this._resizeObserver.observe(this._elementRef.nativeElement,{box:"border-box"}).subscribe(()=>this._handleResize())})}static \u0275fac=function(i){return new(i||n)};static \u0275dir=pe({type:n,selectors:[["label","matFormFieldFloatingLabel",""]],hostAttrs:[1,"mdc-floating-label","mat-mdc-floating-label"],hostVars:2,hostBindings:function(i,r){i&2&&qe("mdc-floating-label--float-above",r.floating)},inputs:{floating:"floating",monitorResize:"monitorResize"}})}return n})();function Bx(n){let e=n;if(e.offsetParent!==null)return e.scrollWidth;let t=e.cloneNode(!0);t.style.setProperty("position","absolute"),t.style.setProperty("transform","translate(-9999px, -9999px)"),document.documentElement.appendChild(t);let i=t.scrollWidth;return t.remove(),i}var Ib="mdc-line-ripple--active",yc="mdc-line-ripple--deactivating",Tb=(()=>{class n{_elementRef=S(ce);_cleanupTransitionEnd;constructor(){let t=S(W),i=S(pn);t.runOutsideAngular(()=>{this._cleanupTransitionEnd=i.listen(this._elementRef.nativeElement,"transitionend",this._handleTransitionEnd)})}activate(){let t=this._elementRef.nativeElement.classList;t.remove(yc),t.add(Ib)}deactivate(){this._elementRef.nativeElement.classList.add(yc)}_handleTransitionEnd=t=>{let i=this._elementRef.nativeElement.classList,r=i.contains(yc);t.propertyName==="opacity"&&r&&i.remove(Ib,yc)};ngOnDestroy(){this._cleanupTransitionEnd()}static \u0275fac=function(i){return new(i||n)};static \u0275dir=pe({type:n,selectors:[["div","matFormFieldLineRipple",""]],hostAttrs:[1,"mdc-line-ripple"]})}return n})(),Ab=(()=>{class n{_elementRef=S(ce);_ngZone=S(W);open=!1;_notch;ngAfterViewInit(){let t=this._elementRef.nativeElement,i=t.querySelector(".mdc-floating-label");i?(t.classList.add("mdc-notched-outline--upgraded"),typeof requestAnimationFrame=="function"&&(i.style.transitionDuration="0s",this._ngZone.runOutsideAngular(()=>{requestAnimationFrame(()=>i.style.transitionDuration="")}))):t.classList.add("mdc-notched-outline--no-label")}_setNotchWidth(t){let i=this._notch.nativeElement;!this.open||!t?i.style.width="":i.style.width=`calc(${t}px * var(--mat-mdc-form-field-floating-label-scale, 0.75) + 9px)`}_setMaxWidth(t){this._notch.nativeElement.style.setProperty("--mat-form-field-notch-max-width",`calc(100% - ${t}px)`)}static \u0275fac=function(i){return new(i||n)};static \u0275cmp=ke({type:n,selectors:[["div","matFormFieldNotchedOutline",""]],viewQuery:function(i,r){if(i&1&&yt(_x,5),i&2){let o;ze(o=je())&&(r._notch=o.first)}},hostAttrs:[1,"mdc-notched-outline"],hostVars:2,hostBindings:function(i,r){i&2&&qe("mdc-notched-outline--notched",r.open)},inputs:{open:[0,"matFormFieldNotchedOutlineOpen","open"]},attrs:vx,ngContentSelectors:yx,decls:5,vars:0,consts:[["notch",""],[1,"mat-mdc-notch-piece","mdc-notched-outline__leading"],[1,"mat-mdc-notch-piece","mdc-notched-outline__notch"],[1,"mat-mdc-notch-piece","mdc-notched-outline__trailing"]],template:function(i,r){i&1&&(kt(),Rt(0,"div",1),jr(1,"div",2,0),Ee(3),qr(),Rt(4,"div",3))},encapsulation:2,changeDetection:0})}return n})(),Db=(()=>{class n{value;stateChanges;id;placeholder;ngControl;focused;empty;shouldLabelFloat;required;disabled;errorState;controlType;autofilled;userAriaDescribedBy;disableAutomaticLabeling;describedByIds;static \u0275fac=function(i){return new(i||n)};static \u0275dir=pe({type:n})}return n})();var Ob=new Q("MatFormField"),Nb=new Q("MAT_FORM_FIELD_DEFAULT_OPTIONS"),Sb="fill",zx="auto",Cb="fixed",jx="translateY(-50%)",_f=(()=>{class n{_elementRef=S(ce);_changeDetectorRef=S(fl);_platform=S(ye);_idGenerator=S(pr);_ngZone=S(W);_defaults=S(Nb,{optional:!0});_currentDirection;_textField;_iconPrefixContainer;_textPrefixContainer;_iconSuffixContainer;_textSuffixContainer;_floatingLabel;_notchedOutline;_lineRipple;_iconPrefixContainerSignal=Gr("iconPrefixContainer");_textPrefixContainerSignal=Gr("textPrefixContainer");_iconSuffixContainerSignal=Gr("iconSuffixContainer");_textSuffixContainerSignal=Gr("textSuffixContainer");_prefixSuffixContainers=Ss(()=>[this._iconPrefixContainerSignal(),this._textPrefixContainerSignal(),this._iconSuffixContainerSignal(),this._textSuffixContainerSignal()].map(t=>t?.nativeElement).filter(t=>t!==void 0));_formFieldControl;_prefixChildren;_suffixChildren;_errorChildren;_hintChildren;_labelChild=Ym(pf);get hideRequiredMarker(){return this._hideRequiredMarker}set hideRequiredMarker(t){this._hideRequiredMarker=Zy(t)}_hideRequiredMarker=!1;color="primary";get floatLabel(){return this._floatLabel||this._defaults?.floatLabel||zx}set floatLabel(t){t!==this._floatLabel&&(this._floatLabel=t,this._changeDetectorRef.markForCheck())}_floatLabel;get appearance(){return this._appearanceSignal()}set appearance(t){let i=t||this._defaults?.appearance||Sb;this._appearanceSignal.set(i)}_appearanceSignal=Wt(Sb);get subscriptSizing(){return this._subscriptSizing||this._defaults?.subscriptSizing||Cb}set subscriptSizing(t){this._subscriptSizing=t||this._defaults?.subscriptSizing||Cb}_subscriptSizing=null;get hintLabel(){return this._hintLabel}set hintLabel(t){this._hintLabel=t,this._processHints()}_hintLabel="";_hasIconPrefix=!1;_hasTextPrefix=!1;_hasIconSuffix=!1;_hasTextSuffix=!1;_labelId=this._idGenerator.getId("mat-mdc-form-field-label-");_hintLabelId=this._idGenerator.getId("mat-mdc-hint-");_describedByIds;get _control(){return this._explicitFormFieldControl||this._formFieldControl}set _control(t){this._explicitFormFieldControl=t}_destroyed=new Z;_isFocused=null;_explicitFormFieldControl;_previousControl=null;_previousControlValidatorFn=null;_stateChanges;_valueChanges;_describedByChanges;_outlineLabelOffsetResizeObserver=null;_animationsDisabled=zn();constructor(){let t=this._defaults,i=S(vi);t&&(t.appearance&&(this.appearance=t.appearance),this._hideRequiredMarker=!!t?.hideRequiredMarker,t.color&&(this.color=t.color)),Hr(()=>this._currentDirection=i.valueSignal()),this._syncOutlineLabelOffset()}ngAfterViewInit(){this._updateFocusState(),this._animationsDisabled||this._ngZone.runOutsideAngular(()=>{setTimeout(()=>{this._elementRef.nativeElement.classList.add("mat-form-field-animations-enabled")},300)}),this._changeDetectorRef.detectChanges()}ngAfterContentInit(){this._assertFormFieldControl(),this._initializeSubscript(),this._initializePrefixAndSuffix()}ngAfterContentChecked(){this._assertFormFieldControl(),this._control!==this._previousControl&&(this._initializeControl(this._previousControl),this._control.ngControl&&this._control.ngControl.control&&(this._previousControlValidatorFn=this._control.ngControl.control.validator),this._previousControl=this._control),this._control.ngControl&&this._control.ngControl.control&&this._control.ngControl.control.validator!==this._previousControlValidatorFn&&this._changeDetectorRef.markForCheck()}ngOnDestroy(){this._outlineLabelOffsetResizeObserver?.disconnect(),this._stateChanges?.unsubscribe(),this._valueChanges?.unsubscribe(),this._describedByChanges?.unsubscribe(),this._destroyed.next(),this._destroyed.complete()}getLabelId=Ss(()=>this._hasFloatingLabel()?this._labelId:null);getConnectedOverlayOrigin(){return this._textField||this._elementRef}_animateAndLockLabel(){this._hasFloatingLabel()&&(this.floatLabel="always")}_initializeControl(t){let i=this._control,r="mat-mdc-form-field-type-";t&&this._elementRef.nativeElement.classList.remove(r+t.controlType),i.controlType&&this._elementRef.nativeElement.classList.add(r+i.controlType),this._stateChanges?.unsubscribe(),this._stateChanges=i.stateChanges.subscribe(()=>{this._updateFocusState(),this._changeDetectorRef.markForCheck()}),this._describedByChanges?.unsubscribe(),this._describedByChanges=i.stateChanges.pipe(Ai([void 0,void 0]),Re(()=>[i.errorState,i.userAriaDescribedBy]),gs(),rt(([[o,a],[c,u]])=>o!==c||a!==u)).subscribe(()=>this._syncDescribedByIds()),this._valueChanges?.unsubscribe(),i.ngControl&&i.ngControl.valueChanges&&(this._valueChanges=i.ngControl.valueChanges.pipe($t(this._destroyed)).subscribe(()=>this._changeDetectorRef.markForCheck()))}_checkPrefixAndSuffixTypes(){this._hasIconPrefix=!!this._prefixChildren.find(t=>!t._isText),this._hasTextPrefix=!!this._prefixChildren.find(t=>t._isText),this._hasIconSuffix=!!this._suffixChildren.find(t=>!t._isText),this._hasTextSuffix=!!this._suffixChildren.find(t=>t._isText)}_initializePrefixAndSuffix(){this._checkPrefixAndSuffixTypes(),Pm(this._prefixChildren.changes,this._suffixChildren.changes).subscribe(()=>{this._checkPrefixAndSuffixTypes(),this._changeDetectorRef.markForCheck()})}_initializeSubscript(){this._hintChildren.changes.subscribe(()=>{this._processHints(),this._changeDetectorRef.markForCheck()}),this._errorChildren.changes.subscribe(()=>{this._syncDescribedByIds(),this._changeDetectorRef.markForCheck()}),this._validateHints(),this._syncDescribedByIds()}_assertFormFieldControl(){this._control}_updateFocusState(){let t=this._control.focused;t&&!this._isFocused?(this._isFocused=!0,this._lineRipple?.activate()):!t&&(this._isFocused||this._isFocused===null)&&(this._isFocused=!1,this._lineRipple?.deactivate()),this._elementRef.nativeElement.classList.toggle("mat-focused",t),this._textField?.nativeElement.classList.toggle("mdc-text-field--focused",t)}_syncOutlineLabelOffset(){Xm({earlyRead:()=>{if(this._appearanceSignal()!=="outline")return this._outlineLabelOffsetResizeObserver?.disconnect(),null;if(globalThis.ResizeObserver){this._outlineLabelOffsetResizeObserver||=new globalThis.ResizeObserver(()=>{this._writeOutlinedLabelStyles(this._getOutlinedLabelOffset())});for(let t of this._prefixSuffixContainers())this._outlineLabelOffsetResizeObserver.observe(t,{box:"border-box"})}return this._getOutlinedLabelOffset()},write:t=>this._writeOutlinedLabelStyles(t())})}_shouldAlwaysFloat(){return this.floatLabel==="always"}_hasOutline(){return this.appearance==="outline"}_forceDisplayInfixLabel(){return!this._platform.isBrowser&&this._prefixChildren.length&&!this._shouldLabelFloat()}_hasFloatingLabel=Ss(()=>!!this._labelChild());_shouldLabelFloat(){return this._hasFloatingLabel()?this._control.shouldLabelFloat||this._shouldAlwaysFloat():!1}_shouldForward(t){let i=this._control?this._control.ngControl:null;return i&&i[t]}_getSubscriptMessageType(){return this._errorChildren&&this._errorChildren.length>0&&this._control.errorState?"error":"hint"}_handleLabelResized(){this._refreshOutlineNotchWidth()}_refreshOutlineNotchWidth(){!this._hasOutline()||!this._floatingLabel||!this._shouldLabelFloat()?this._notchedOutline?._setNotchWidth(0):this._notchedOutline?._setNotchWidth(this._floatingLabel.getWidth())}_processHints(){this._validateHints(),this._syncDescribedByIds()}_validateHints(){this._hintChildren}_syncDescribedByIds(){if(this._control){let t=[];if(this._control.userAriaDescribedBy&&typeof this._control.userAriaDescribedBy=="string"&&t.push(...this._control.userAriaDescribedBy.split(" ")),this._getSubscriptMessageType()==="hint"){let o=this._hintChildren?this._hintChildren.find(c=>c.align==="start"):null,a=this._hintChildren?this._hintChildren.find(c=>c.align==="end"):null;o?t.push(o.id):this._hintLabel&&t.push(this._hintLabelId),a&&t.push(a.id)}else this._errorChildren&&t.push(...this._errorChildren.map(o=>o.id));let i=this._control.describedByIds,r;if(i){let o=this._describedByIds||t;r=t.concat(i.filter(a=>a&&!o.includes(a)))}else r=t;this._control.setDescribedByIds(r),this._describedByIds=t}}_getOutlinedLabelOffset(){if(!this._hasOutline()||!this._floatingLabel)return null;if(!this._iconPrefixContainer&&!this._textPrefixContainer)return["",null];if(!this._isAttachedToDom())return null;let t=this._iconPrefixContainer?.nativeElement,i=this._textPrefixContainer?.nativeElement,r=this._iconSuffixContainer?.nativeElement,o=this._textSuffixContainer?.nativeElement,a=t?.getBoundingClientRect().width??0,c=i?.getBoundingClientRect().width??0,u=r?.getBoundingClientRect().width??0,h=o?.getBoundingClientRect().width??0,f=this._currentDirection==="rtl"?"-1":"1",p=`${a+c}px`,C=`calc(${f} * (${p} + var(--mat-mdc-form-field-label-offset-x, 0px)))`,k=`var(--mat-mdc-form-field-label-transform, ${jx} translateX(${C}))`,O=a+c+u+h;return[k,O]}_writeOutlinedLabelStyles(t){if(t!==null){let[i,r]=t;this._floatingLabel&&(this._floatingLabel.element.style.transform=i),r!==null&&this._notchedOutline?._setMaxWidth(r)}}_isAttachedToDom(){let t=this._elementRef.nativeElement;if(t.getRootNode){let i=t.getRootNode();return i&&i!==t}return document.documentElement.contains(t)}static \u0275fac=function(i){return new(i||n)};static \u0275cmp=ke({type:n,selectors:[["mat-form-field"]],contentQueries:function(i,r,o){if(i&1&&($m(o,r._labelChild,pf,5),Pi(o,Db,5),Pi(o,Rb,5),Pi(o,kb,5),Pi(o,xb,5),Pi(o,gf,5)),i&2){ul();let a;ze(a=je())&&(r._formFieldControl=a.first),ze(a=je())&&(r._prefixChildren=a),ze(a=je())&&(r._suffixChildren=a),ze(a=je())&&(r._errorChildren=a),ze(a=je())&&(r._hintChildren=a)}},viewQuery:function(i,r){if(i&1&&($r(r._iconPrefixContainerSignal,vb,5),$r(r._textPrefixContainerSignal,yb,5),$r(r._iconSuffixContainerSignal,bb,5),$r(r._textSuffixContainerSignal,wb,5),yt(bx,5),yt(vb,5),yt(yb,5),yt(bb,5),yt(wb,5),yt(Eb,5),yt(Ab,5),yt(Tb,5)),i&2){ul(4);let o;ze(o=je())&&(r._textField=o.first),ze(o=je())&&(r._iconPrefixContainer=o.first),ze(o=je())&&(r._textPrefixContainer=o.first),ze(o=je())&&(r._iconSuffixContainer=o.first),ze(o=je())&&(r._textSuffixContainer=o.first),ze(o=je())&&(r._floatingLabel=o.first),ze(o=je())&&(r._notchedOutline=o.first),ze(o=je())&&(r._lineRipple=o.first)}},hostAttrs:[1,"mat-mdc-form-field"],hostVars:38,hostBindings:function(i,r){i&2&&qe("mat-mdc-form-field-label-always-float",r._shouldAlwaysFloat())("mat-mdc-form-field-has-icon-prefix",r._hasIconPrefix)("mat-mdc-form-field-has-icon-suffix",r._hasIconSuffix)("mat-form-field-invalid",r._control.errorState)("mat-form-field-disabled",r._control.disabled)("mat-form-field-autofilled",r._control.autofilled)("mat-form-field-appearance-fill",r.appearance=="fill")("mat-form-field-appearance-outline",r.appearance=="outline")("mat-form-field-hide-placeholder",r._hasFloatingLabel()&&!r._shouldLabelFloat())("mat-primary",r.color!=="accent"&&r.color!=="warn")("mat-accent",r.color==="accent")("mat-warn",r.color==="warn")("ng-untouched",r._shouldForward("untouched"))("ng-touched",r._shouldForward("touched"))("ng-pristine",r._shouldForward("pristine"))("ng-dirty",r._shouldForward("dirty"))("ng-valid",r._shouldForward("valid"))("ng-invalid",r._shouldForward("invalid"))("ng-pending",r._shouldForward("pending"))},inputs:{hideRequiredMarker:"hideRequiredMarker",color:"color",floatLabel:"floatLabel",appearance:"appearance",subscriptSizing:"subscriptSizing",hintLabel:"hintLabel"},exportAs:["matFormField"],features:[Wr([{provide:Ob,useExisting:n},{provide:Pb,useExisting:n}])],ngContentSelectors:Ex,decls:18,vars:21,consts:[["labelTemplate",""],["textField",""],["iconPrefixContainer",""],["textPrefixContainer",""],["textSuffixContainer",""],["iconSuffixContainer",""],[1,"mat-mdc-text-field-wrapper","mdc-text-field",3,"click"],[1,"mat-mdc-form-field-focus-overlay"],[1,"mat-mdc-form-field-flex"],["matFormFieldNotchedOutline","",3,"matFormFieldNotchedOutlineOpen"],[1,"mat-mdc-form-field-icon-prefix"],[1,"mat-mdc-form-field-text-prefix"],[1,"mat-mdc-form-field-infix"],[3,"ngTemplateOutlet"],[1,"mat-mdc-form-field-text-suffix"],[1,"mat-mdc-form-field-icon-suffix"],["matFormFieldLineRipple",""],["aria-atomic","true","aria-live","polite",1,"mat-mdc-form-field-subscript-wrapper","mat-mdc-form-field-bottom-align"],[1,"mat-mdc-form-field-error-wrapper"],[1,"mat-mdc-form-field-hint-wrapper"],["matFormFieldFloatingLabel","",3,"floating","monitorResize","id"],["aria-hidden","true",1,"mat-mdc-form-field-required-marker","mdc-floating-label--required"],[3,"id"],[1,"mat-mdc-form-field-hint-spacer"]],template:function(i,r){if(i&1){let o=zm();kt(wx),Ts(0,Ax,1,1,"ng-template",null,0,Gm),et(2,"div",6,1),qm("click",function(c){return Lm(o),Vm(r._control.onContainerClick(c))}),Je(4,Sx,1,0,"div",7),et(5,"div",8),Je(6,Rx,2,2,"div",9),Je(7,kx,3,0,"div",10),Je(8,Px,3,0,"div",11),et(9,"div",12),Je(10,Ox,1,1,null,13),Ee(11),tt(),Je(12,Nx,3,0,"div",14),Je(13,Mx,3,0,"div",15),tt(),Je(14,Fx,1,0,"div",16),tt(),et(15,"div",17),Je(16,Lx,2,0,"div",18)(17,Ux,5,1,"div",19),tt()}if(i&2){let o;Fe(2),qe("mdc-text-field--filled",!r._hasOutline())("mdc-text-field--outlined",r._hasOutline())("mdc-text-field--no-label",!r._hasFloatingLabel())("mdc-text-field--disabled",r._control.disabled)("mdc-text-field--invalid",r._control.errorState),Fe(2),Ze(!r._hasOutline()&&!r._control.disabled?4:-1),Fe(2),Ze(r._hasOutline()?6:-1),Fe(),Ze(r._hasIconPrefix?7:-1),Fe(),Ze(r._hasTextPrefix?8:-1),Fe(2),Ze(!r._hasOutline()||r._forceDisplayInfixLabel()?10:-1),Fe(2),Ze(r._hasTextSuffix?12:-1),Fe(),Ze(r._hasIconSuffix?13:-1),Fe(),Ze(r._hasOutline()?-1:14),Fe(),qe("mat-mdc-form-field-subscript-dynamic-size",r.subscriptSizing==="dynamic");let a=r._getSubscriptMessageType();Fe(),Ze((o=a)==="error"?16:o==="hint"?17:-1)}},dependencies:[Eb,Ab,Zm,Tb,gf],styles:[`.mdc-text-field{display:inline-flex;align-items:baseline;padding:0 16px;position:relative;box-sizing:border-box;overflow:hidden;will-change:opacity,transform,color;border-top-left-radius:4px;border-top-right-radius:4px;border-bottom-right-radius:0;border-bottom-left-radius:0}.mdc-text-field__input{width:100%;min-width:0;border:none;border-radius:0;background:none;padding:0;-moz-appearance:none;-webkit-appearance:none;height:28px}.mdc-text-field__input::-webkit-calendar-picker-indicator,.mdc-text-field__input::-webkit-search-cancel-button{display:none}.mdc-text-field__input::-ms-clear{display:none}.mdc-text-field__input:focus{outline:none}.mdc-text-field__input:invalid{box-shadow:none}.mdc-text-field__input::placeholder{opacity:0}.mdc-text-field__input::-moz-placeholder{opacity:0}.mdc-text-field__input::-webkit-input-placeholder{opacity:0}.mdc-text-field__input:-ms-input-placeholder{opacity:0}.mdc-text-field--no-label .mdc-text-field__input::placeholder,.mdc-text-field--focused .mdc-text-field__input::placeholder{opacity:1}.mdc-text-field--no-label .mdc-text-field__input::-moz-placeholder,.mdc-text-field--focused .mdc-text-field__input::-moz-placeholder{opacity:1}.mdc-text-field--no-label .mdc-text-field__input::-webkit-input-placeholder,.mdc-text-field--focused .mdc-text-field__input::-webkit-input-placeholder{opacity:1}.mdc-text-field--no-label .mdc-text-field__input:-ms-input-placeholder,.mdc-text-field--focused .mdc-text-field__input:-ms-input-placeholder{opacity:1}.mdc-text-field--disabled:not(.mdc-text-field--no-label) .mdc-text-field__input.mat-mdc-input-disabled-interactive::placeholder{opacity:0}.mdc-text-field--disabled:not(.mdc-text-field--no-label) .mdc-text-field__input.mat-mdc-input-disabled-interactive::-moz-placeholder{opacity:0}.mdc-text-field--disabled:not(.mdc-text-field--no-label) .mdc-text-field__input.mat-mdc-input-disabled-interactive::-webkit-input-placeholder{opacity:0}.mdc-text-field--disabled:not(.mdc-text-field--no-label) .mdc-text-field__input.mat-mdc-input-disabled-interactive:-ms-input-placeholder{opacity:0}.mdc-text-field--outlined .mdc-text-field__input,.mdc-text-field--filled.mdc-text-field--no-label .mdc-text-field__input{height:100%}.mdc-text-field--outlined .mdc-text-field__input{display:flex;border:none !important;background-color:rgba(0,0,0,0)}.mdc-text-field--disabled .mdc-text-field__input{pointer-events:auto}.mdc-text-field--filled:not(.mdc-text-field--disabled) .mdc-text-field__input{color:var(--mat-form-field-filled-input-text-color, var(--mat-sys-on-surface));caret-color:var(--mat-form-field-filled-caret-color, var(--mat-sys-primary))}.mdc-text-field--filled:not(.mdc-text-field--disabled) .mdc-text-field__input::placeholder{color:var(--mat-form-field-filled-input-text-placeholder-color, var(--mat-sys-on-surface-variant))}.mdc-text-field--filled:not(.mdc-text-field--disabled) .mdc-text-field__input::-moz-placeholder{color:var(--mat-form-field-filled-input-text-placeholder-color, var(--mat-sys-on-surface-variant))}.mdc-text-field--filled:not(.mdc-text-field--disabled) .mdc-text-field__input::-webkit-input-placeholder{color:var(--mat-form-field-filled-input-text-placeholder-color, var(--mat-sys-on-surface-variant))}.mdc-text-field--filled:not(.mdc-text-field--disabled) .mdc-text-field__input:-ms-input-placeholder{color:var(--mat-form-field-filled-input-text-placeholder-color, var(--mat-sys-on-surface-variant))}.mdc-text-field--outlined:not(.mdc-text-field--disabled) .mdc-text-field__input{color:var(--mat-form-field-outlined-input-text-color, var(--mat-sys-on-surface));caret-color:var(--mat-form-field-outlined-caret-color, var(--mat-sys-primary))}.mdc-text-field--outlined:not(.mdc-text-field--disabled) .mdc-text-field__input::placeholder{color:var(--mat-form-field-outlined-input-text-placeholder-color, var(--mat-sys-on-surface-variant))}.mdc-text-field--outlined:not(.mdc-text-field--disabled) .mdc-text-field__input::-moz-placeholder{color:var(--mat-form-field-outlined-input-text-placeholder-color, var(--mat-sys-on-surface-variant))}.mdc-text-field--outlined:not(.mdc-text-field--disabled) .mdc-text-field__input::-webkit-input-placeholder{color:var(--mat-form-field-outlined-input-text-placeholder-color, var(--mat-sys-on-surface-variant))}.mdc-text-field--outlined:not(.mdc-text-field--disabled) .mdc-text-field__input:-ms-input-placeholder{color:var(--mat-form-field-outlined-input-text-placeholder-color, var(--mat-sys-on-surface-variant))}.mdc-text-field--filled.mdc-text-field--invalid:not(.mdc-text-field--disabled) .mdc-text-field__input{caret-color:var(--mat-form-field-filled-error-caret-color, var(--mat-sys-error))}.mdc-text-field--outlined.mdc-text-field--invalid:not(.mdc-text-field--disabled) .mdc-text-field__input{caret-color:var(--mat-form-field-outlined-error-caret-color, var(--mat-sys-error))}.mdc-text-field--filled.mdc-text-field--disabled .mdc-text-field__input{color:var(--mat-form-field-filled-disabled-input-text-color, color-mix(in srgb, var(--mat-sys-on-surface) 38%, transparent))}.mdc-text-field--outlined.mdc-text-field--disabled .mdc-text-field__input{color:var(--mat-form-field-outlined-disabled-input-text-color, color-mix(in srgb, var(--mat-sys-on-surface) 38%, transparent))}@media(forced-colors: active){.mdc-text-field--disabled .mdc-text-field__input{background-color:Window}}.mdc-text-field--filled{height:56px;border-bottom-right-radius:0;border-bottom-left-radius:0;border-top-left-radius:var(--mat-form-field-filled-container-shape, var(--mat-sys-corner-extra-small));border-top-right-radius:var(--mat-form-field-filled-container-shape, var(--mat-sys-corner-extra-small))}.mdc-text-field--filled:not(.mdc-text-field--disabled){background-color:var(--mat-form-field-filled-container-color, var(--mat-sys-surface-variant))}.mdc-text-field--filled.mdc-text-field--disabled{background-color:var(--mat-form-field-filled-disabled-container-color, color-mix(in srgb, var(--mat-sys-on-surface) 4%, transparent))}.mdc-text-field--outlined{height:56px;overflow:visible;padding-right:max(16px,var(--mat-form-field-outlined-container-shape, var(--mat-sys-corner-extra-small)));padding-left:max(16px,var(--mat-form-field-outlined-container-shape, var(--mat-sys-corner-extra-small)) + 4px)}[dir=rtl] .mdc-text-field--outlined{padding-right:max(16px,var(--mat-form-field-outlined-container-shape, var(--mat-sys-corner-extra-small)) + 4px);padding-left:max(16px,var(--mat-form-field-outlined-container-shape, var(--mat-sys-corner-extra-small)))}.mdc-floating-label{position:absolute;left:0;transform-origin:left top;line-height:1.15rem;text-align:left;text-overflow:ellipsis;white-space:nowrap;cursor:text;overflow:hidden;will-change:transform}[dir=rtl] .mdc-floating-label{right:0;left:auto;transform-origin:right top;text-align:right}.mdc-text-field .mdc-floating-label{top:50%;transform:translateY(-50%);pointer-events:none}.mdc-notched-outline .mdc-floating-label{display:inline-block;position:relative;max-width:100%}.mdc-text-field--outlined .mdc-floating-label{left:4px;right:auto}[dir=rtl] .mdc-text-field--outlined .mdc-floating-label{left:auto;right:4px}.mdc-text-field--filled .mdc-floating-label{left:16px;right:auto}[dir=rtl] .mdc-text-field--filled .mdc-floating-label{left:auto;right:16px}.mdc-text-field--disabled .mdc-floating-label{cursor:default}@media(forced-colors: active){.mdc-text-field--disabled .mdc-floating-label{z-index:1}}.mdc-text-field--filled.mdc-text-field--no-label .mdc-floating-label{display:none}.mdc-text-field--filled:not(.mdc-text-field--disabled) .mdc-floating-label{color:var(--mat-form-field-filled-label-text-color, var(--mat-sys-on-surface-variant))}.mdc-text-field--filled:not(.mdc-text-field--disabled).mdc-text-field--focused .mdc-floating-label{color:var(--mat-form-field-filled-focus-label-text-color, var(--mat-sys-primary))}.mdc-text-field--filled:not(.mdc-text-field--disabled):not(.mdc-text-field--focused):hover .mdc-floating-label{color:var(--mat-form-field-filled-hover-label-text-color, var(--mat-sys-on-surface-variant))}.mdc-text-field--filled.mdc-text-field--disabled .mdc-floating-label{color:var(--mat-form-field-filled-disabled-label-text-color, color-mix(in srgb, var(--mat-sys-on-surface) 38%, transparent))}.mdc-text-field--filled:not(.mdc-text-field--disabled).mdc-text-field--invalid .mdc-floating-label{color:var(--mat-form-field-filled-error-label-text-color, var(--mat-sys-error))}.mdc-text-field--filled:not(.mdc-text-field--disabled).mdc-text-field--invalid.mdc-text-field--focused .mdc-floating-label{color:var(--mat-form-field-filled-error-focus-label-text-color, var(--mat-sys-error))}.mdc-text-field--filled:not(.mdc-text-field--disabled).mdc-text-field--invalid:not(.mdc-text-field--disabled):hover .mdc-floating-label{color:var(--mat-form-field-filled-error-hover-label-text-color, var(--mat-sys-on-error-container))}.mdc-text-field--filled .mdc-floating-label{font-family:var(--mat-form-field-filled-label-text-font, var(--mat-sys-body-large-font));font-size:var(--mat-form-field-filled-label-text-size, var(--mat-sys-body-large-size));font-weight:var(--mat-form-field-filled-label-text-weight, var(--mat-sys-body-large-weight));letter-spacing:var(--mat-form-field-filled-label-text-tracking, var(--mat-sys-body-large-tracking))}.mdc-text-field--outlined:not(.mdc-text-field--disabled) .mdc-floating-label{color:var(--mat-form-field-outlined-label-text-color, var(--mat-sys-on-surface-variant))}.mdc-text-field--outlined:not(.mdc-text-field--disabled).mdc-text-field--focused .mdc-floating-label{color:var(--mat-form-field-outlined-focus-label-text-color, var(--mat-sys-primary))}.mdc-text-field--outlined:not(.mdc-text-field--disabled):not(.mdc-text-field--focused):hover .mdc-floating-label{color:var(--mat-form-field-outlined-hover-label-text-color, var(--mat-sys-on-surface))}.mdc-text-field--outlined.mdc-text-field--disabled .mdc-floating-label{color:var(--mat-form-field-outlined-disabled-label-text-color, color-mix(in srgb, var(--mat-sys-on-surface) 38%, transparent))}.mdc-text-field--outlined:not(.mdc-text-field--disabled).mdc-text-field--invalid .mdc-floating-label{color:var(--mat-form-field-outlined-error-label-text-color, var(--mat-sys-error))}.mdc-text-field--outlined:not(.mdc-text-field--disabled).mdc-text-field--invalid.mdc-text-field--focused .mdc-floating-label{color:var(--mat-form-field-outlined-error-focus-label-text-color, var(--mat-sys-error))}.mdc-text-field--outlined:not(.mdc-text-field--disabled).mdc-text-field--invalid:not(.mdc-text-field--disabled):hover .mdc-floating-label{color:var(--mat-form-field-outlined-error-hover-label-text-color, var(--mat-sys-on-error-container))}.mdc-text-field--outlined .mdc-floating-label{font-family:var(--mat-form-field-outlined-label-text-font, var(--mat-sys-body-large-font));font-size:var(--mat-form-field-outlined-label-text-size, var(--mat-sys-body-large-size));font-weight:var(--mat-form-field-outlined-label-text-weight, var(--mat-sys-body-large-weight));letter-spacing:var(--mat-form-field-outlined-label-text-tracking, var(--mat-sys-body-large-tracking))}.mdc-floating-label--float-above{cursor:auto;transform:translateY(-106%) scale(0.75)}.mdc-text-field--filled .mdc-floating-label--float-above{transform:translateY(-106%) scale(0.75)}.mdc-text-field--outlined .mdc-floating-label--float-above{transform:translateY(-37.25px) scale(1);font-size:.75rem}.mdc-notched-outline .mdc-floating-label--float-above{text-overflow:clip}.mdc-notched-outline--upgraded .mdc-floating-label--float-above{max-width:133.3333333333%}.mdc-text-field--outlined.mdc-notched-outline--upgraded .mdc-floating-label--float-above,.mdc-text-field--outlined .mdc-notched-outline--upgraded .mdc-floating-label--float-above{transform:translateY(-34.75px) scale(0.75)}.mdc-text-field--outlined.mdc-notched-outline--upgraded .mdc-floating-label--float-above,.mdc-text-field--outlined .mdc-notched-outline--upgraded .mdc-floating-label--float-above{font-size:1rem}.mdc-floating-label--required:not(.mdc-floating-label--hide-required-marker)::after{margin-left:1px;margin-right:0;content:"*"}[dir=rtl] .mdc-floating-label--required:not(.mdc-floating-label--hide-required-marker)::after{margin-left:0;margin-right:1px}.mdc-notched-outline{display:flex;position:absolute;top:0;right:0;left:0;box-sizing:border-box;width:100%;max-width:100%;height:100%;text-align:left;pointer-events:none}[dir=rtl] .mdc-notched-outline{text-align:right}.mdc-text-field--outlined .mdc-notched-outline{z-index:1}.mat-mdc-notch-piece{box-sizing:border-box;height:100%;pointer-events:none;border-top:1px solid;border-bottom:1px solid}.mdc-text-field--focused .mat-mdc-notch-piece{border-width:2px}.mdc-text-field--outlined:not(.mdc-text-field--disabled) .mat-mdc-notch-piece{border-color:var(--mat-form-field-outlined-outline-color, var(--mat-sys-outline));border-width:var(--mat-form-field-outlined-outline-width, 1px)}.mdc-text-field--outlined:not(.mdc-text-field--disabled):not(.mdc-text-field--focused):hover .mat-mdc-notch-piece{border-color:var(--mat-form-field-outlined-hover-outline-color, var(--mat-sys-on-surface))}.mdc-text-field--outlined:not(.mdc-text-field--disabled).mdc-text-field--focused .mat-mdc-notch-piece{border-color:var(--mat-form-field-outlined-focus-outline-color, var(--mat-sys-primary))}.mdc-text-field--outlined.mdc-text-field--disabled .mat-mdc-notch-piece{border-color:var(--mat-form-field-outlined-disabled-outline-color, color-mix(in srgb, var(--mat-sys-on-surface) 12%, transparent))}.mdc-text-field--outlined:not(.mdc-text-field--disabled).mdc-text-field--invalid .mat-mdc-notch-piece{border-color:var(--mat-form-field-outlined-error-outline-color, var(--mat-sys-error))}.mdc-text-field--outlined:not(.mdc-text-field--disabled).mdc-text-field--invalid:not(.mdc-text-field--focused):hover .mdc-notched-outline .mat-mdc-notch-piece{border-color:var(--mat-form-field-outlined-error-hover-outline-color, var(--mat-sys-on-error-container))}.mdc-text-field--outlined:not(.mdc-text-field--disabled).mdc-text-field--invalid.mdc-text-field--focused .mat-mdc-notch-piece{border-color:var(--mat-form-field-outlined-error-focus-outline-color, var(--mat-sys-error))}.mdc-text-field--outlined:not(.mdc-text-field--disabled).mdc-text-field--focused .mdc-notched-outline .mat-mdc-notch-piece{border-width:var(--mat-form-field-outlined-focus-outline-width, 2px)}.mdc-notched-outline__leading{border-left:1px solid;border-right:none;border-top-right-radius:0;border-bottom-right-radius:0;border-top-left-radius:var(--mat-form-field-outlined-container-shape, var(--mat-sys-corner-extra-small));border-bottom-left-radius:var(--mat-form-field-outlined-container-shape, var(--mat-sys-corner-extra-small))}.mdc-text-field--outlined .mdc-notched-outline .mdc-notched-outline__leading{width:max(12px,var(--mat-form-field-outlined-container-shape, var(--mat-sys-corner-extra-small)))}[dir=rtl] .mdc-notched-outline__leading{border-left:none;border-right:1px solid;border-bottom-left-radius:0;border-top-left-radius:0;border-top-right-radius:var(--mat-form-field-outlined-container-shape, var(--mat-sys-corner-extra-small));border-bottom-right-radius:var(--mat-form-field-outlined-container-shape, var(--mat-sys-corner-extra-small))}.mdc-notched-outline__trailing{flex-grow:1;border-left:none;border-right:1px solid;border-top-left-radius:0;border-bottom-left-radius:0;border-top-right-radius:var(--mat-form-field-outlined-container-shape, var(--mat-sys-corner-extra-small));border-bottom-right-radius:var(--mat-form-field-outlined-container-shape, var(--mat-sys-corner-extra-small))}[dir=rtl] .mdc-notched-outline__trailing{border-left:1px solid;border-right:none;border-top-right-radius:0;border-bottom-right-radius:0;border-top-left-radius:var(--mat-form-field-outlined-container-shape, var(--mat-sys-corner-extra-small));border-bottom-left-radius:var(--mat-form-field-outlined-container-shape, var(--mat-sys-corner-extra-small))}.mdc-notched-outline__notch{flex:0 0 auto;width:auto}.mdc-text-field--outlined .mdc-notched-outline .mdc-notched-outline__notch{max-width:min(var(--mat-form-field-notch-max-width, 100%),calc(100% - max(12px, var(--mat-form-field-outlined-container-shape, var(--mat-sys-corner-extra-small))) * 2))}.mdc-text-field--outlined .mdc-notched-outline--notched .mdc-notched-outline__notch{max-width:min(100%,calc(100% - max(12px, var(--mat-form-field-outlined-container-shape, var(--mat-sys-corner-extra-small))) * 2))}.mdc-text-field--outlined .mdc-notched-outline--notched .mdc-notched-outline__notch{padding-top:1px}.mdc-text-field--focused.mdc-text-field--outlined .mdc-notched-outline--notched .mdc-notched-outline__notch{padding-top:2px}.mdc-notched-outline--notched .mdc-notched-outline__notch{padding-left:0;padding-right:8px;border-top:none}[dir=rtl] .mdc-notched-outline--notched .mdc-notched-outline__notch{padding-left:8px;padding-right:0}.mdc-notched-outline--no-label .mdc-notched-outline__notch{display:none}.mdc-line-ripple::before,.mdc-line-ripple::after{position:absolute;bottom:0;left:0;width:100%;border-bottom-style:solid;content:""}.mdc-line-ripple::before{z-index:1;border-bottom-width:var(--mat-form-field-filled-active-indicator-height, 1px)}.mdc-text-field--filled:not(.mdc-text-field--disabled) .mdc-line-ripple::before{border-bottom-color:var(--mat-form-field-filled-active-indicator-color, var(--mat-sys-on-surface-variant))}.mdc-text-field--filled:not(.mdc-text-field--disabled):not(.mdc-text-field--focused):hover .mdc-line-ripple::before{border-bottom-color:var(--mat-form-field-filled-hover-active-indicator-color, var(--mat-sys-on-surface))}.mdc-text-field--filled.mdc-text-field--disabled .mdc-line-ripple::before{border-bottom-color:var(--mat-form-field-filled-disabled-active-indicator-color, color-mix(in srgb, var(--mat-sys-on-surface) 38%, transparent))}.mdc-text-field--filled:not(.mdc-text-field--disabled).mdc-text-field--invalid .mdc-line-ripple::before{border-bottom-color:var(--mat-form-field-filled-error-active-indicator-color, var(--mat-sys-error))}.mdc-text-field--filled:not(.mdc-text-field--disabled).mdc-text-field--invalid:not(.mdc-text-field--focused):hover .mdc-line-ripple::before{border-bottom-color:var(--mat-form-field-filled-error-hover-active-indicator-color, var(--mat-sys-on-error-container))}.mdc-line-ripple::after{transform:scaleX(0);opacity:0;z-index:2}.mdc-text-field--filled .mdc-line-ripple::after{border-bottom-width:var(--mat-form-field-filled-focus-active-indicator-height, 2px)}.mdc-text-field--filled:not(.mdc-text-field--disabled) .mdc-line-ripple::after{border-bottom-color:var(--mat-form-field-filled-focus-active-indicator-color, var(--mat-sys-primary))}.mdc-text-field--filled.mdc-text-field--invalid:not(.mdc-text-field--disabled) .mdc-line-ripple::after{border-bottom-color:var(--mat-form-field-filled-error-focus-active-indicator-color, var(--mat-sys-error))}.mdc-line-ripple--active::after{transform:scaleX(1);opacity:1}.mdc-line-ripple--deactivating::after{opacity:0}.mdc-text-field--disabled{pointer-events:none}.mat-mdc-form-field-textarea-control{vertical-align:middle;resize:vertical;box-sizing:border-box;height:auto;margin:0;padding:0;border:none;overflow:auto}.mat-mdc-form-field-input-control.mat-mdc-form-field-input-control{-moz-osx-font-smoothing:grayscale;-webkit-font-smoothing:antialiased;font:inherit;letter-spacing:inherit;text-decoration:inherit;text-transform:inherit;border:none}.mat-mdc-form-field .mat-mdc-floating-label.mdc-floating-label{-moz-osx-font-smoothing:grayscale;-webkit-font-smoothing:antialiased;line-height:normal;pointer-events:all;will-change:auto}.mat-mdc-form-field:not(.mat-form-field-disabled) .mat-mdc-floating-label.mdc-floating-label{cursor:inherit}.mdc-text-field--no-label:not(.mdc-text-field--textarea) .mat-mdc-form-field-input-control.mdc-text-field__input,.mat-mdc-text-field-wrapper .mat-mdc-form-field-input-control{height:auto}.mat-mdc-text-field-wrapper .mat-mdc-form-field-input-control.mdc-text-field__input[type=color]{height:23px}.mat-mdc-text-field-wrapper{height:auto;flex:auto;will-change:auto}.mat-mdc-form-field-has-icon-prefix .mat-mdc-text-field-wrapper{padding-left:0;--mat-mdc-form-field-label-offset-x: -16px}.mat-mdc-form-field-has-icon-suffix .mat-mdc-text-field-wrapper{padding-right:0}[dir=rtl] .mat-mdc-text-field-wrapper{padding-left:16px;padding-right:16px}[dir=rtl] .mat-mdc-form-field-has-icon-suffix .mat-mdc-text-field-wrapper{padding-left:0}[dir=rtl] .mat-mdc-form-field-has-icon-prefix .mat-mdc-text-field-wrapper{padding-right:0}.mat-form-field-disabled .mdc-text-field__input::placeholder{color:var(--mat-form-field-disabled-input-text-placeholder-color, color-mix(in srgb, var(--mat-sys-on-surface) 38%, transparent))}.mat-form-field-disabled .mdc-text-field__input::-moz-placeholder{color:var(--mat-form-field-disabled-input-text-placeholder-color, color-mix(in srgb, var(--mat-sys-on-surface) 38%, transparent))}.mat-form-field-disabled .mdc-text-field__input::-webkit-input-placeholder{color:var(--mat-form-field-disabled-input-text-placeholder-color, color-mix(in srgb, var(--mat-sys-on-surface) 38%, transparent))}.mat-form-field-disabled .mdc-text-field__input:-ms-input-placeholder{color:var(--mat-form-field-disabled-input-text-placeholder-color, color-mix(in srgb, var(--mat-sys-on-surface) 38%, transparent))}.mat-mdc-form-field-label-always-float .mdc-text-field__input::placeholder{transition-delay:40ms;transition-duration:110ms;opacity:1}.mat-mdc-text-field-wrapper .mat-mdc-form-field-infix .mat-mdc-floating-label{left:auto;right:auto}.mat-mdc-text-field-wrapper.mdc-text-field--outlined .mdc-text-field__input{display:inline-block}.mat-mdc-form-field .mat-mdc-text-field-wrapper.mdc-text-field .mdc-notched-outline__notch{padding-top:0}.mat-mdc-form-field.mat-mdc-form-field.mat-mdc-form-field.mat-mdc-form-field.mat-mdc-form-field.mat-mdc-form-field .mdc-notched-outline__notch{border-left:1px solid rgba(0,0,0,0)}[dir=rtl] .mat-mdc-form-field.mat-mdc-form-field.mat-mdc-form-field.mat-mdc-form-field.mat-mdc-form-field.mat-mdc-form-field .mdc-notched-outline__notch{border-left:none;border-right:1px solid rgba(0,0,0,0)}.mat-mdc-form-field-infix{min-height:var(--mat-form-field-container-height, 56px);padding-top:var(--mat-form-field-filled-with-label-container-padding-top, 24px);padding-bottom:var(--mat-form-field-filled-with-label-container-padding-bottom, 8px)}.mdc-text-field--outlined .mat-mdc-form-field-infix,.mdc-text-field--no-label .mat-mdc-form-field-infix{padding-top:var(--mat-form-field-container-vertical-padding, 16px);padding-bottom:var(--mat-form-field-container-vertical-padding, 16px)}.mat-mdc-text-field-wrapper .mat-mdc-form-field-flex .mat-mdc-floating-label{top:calc(var(--mat-form-field-container-height, 56px)/2)}.mdc-text-field--filled .mat-mdc-floating-label{display:var(--mat-form-field-filled-label-display, block)}.mat-mdc-text-field-wrapper.mdc-text-field--outlined .mdc-notched-outline--upgraded .mdc-floating-label--float-above{--mat-mdc-form-field-label-transform: translateY(calc(calc(6.75px + var(--mat-form-field-container-height, 56px) / 2) * -1)) scale(var(--mat-mdc-form-field-floating-label-scale, 0.75));transform:var(--mat-mdc-form-field-label-transform)}@keyframes _mat-form-field-subscript-animation{from{opacity:0;transform:translateY(-5px)}to{opacity:1;transform:translateY(0)}}.mat-mdc-form-field-subscript-wrapper{box-sizing:border-box;width:100%;position:relative}.mat-mdc-form-field-hint-wrapper,.mat-mdc-form-field-error-wrapper{position:absolute;top:0;left:0;right:0;padding:0 16px;opacity:1;transform:translateY(0);animation:_mat-form-field-subscript-animation 0ms cubic-bezier(0.55, 0, 0.55, 0.2)}.mat-mdc-form-field-subscript-dynamic-size .mat-mdc-form-field-hint-wrapper,.mat-mdc-form-field-subscript-dynamic-size .mat-mdc-form-field-error-wrapper{position:static}.mat-mdc-form-field-bottom-align::before{content:"";display:inline-block;height:16px}.mat-mdc-form-field-bottom-align.mat-mdc-form-field-subscript-dynamic-size::before{content:unset}.mat-mdc-form-field-hint-end{order:1}.mat-mdc-form-field-hint-wrapper{display:flex}.mat-mdc-form-field-hint-spacer{flex:1 0 1em}.mat-mdc-form-field-error{display:block;color:var(--mat-form-field-error-text-color, var(--mat-sys-error))}.mat-mdc-form-field-subscript-wrapper,.mat-mdc-form-field-bottom-align::before{-moz-osx-font-smoothing:grayscale;-webkit-font-smoothing:antialiased;font-family:var(--mat-form-field-subscript-text-font, var(--mat-sys-body-small-font));line-height:var(--mat-form-field-subscript-text-line-height, var(--mat-sys-body-small-line-height));font-size:var(--mat-form-field-subscript-text-size, var(--mat-sys-body-small-size));letter-spacing:var(--mat-form-field-subscript-text-tracking, var(--mat-sys-body-small-tracking));font-weight:var(--mat-form-field-subscript-text-weight, var(--mat-sys-body-small-weight))}.mat-mdc-form-field-focus-overlay{top:0;left:0;right:0;bottom:0;position:absolute;opacity:0;pointer-events:none;background-color:var(--mat-form-field-state-layer-color, var(--mat-sys-on-surface))}.mat-mdc-text-field-wrapper:hover .mat-mdc-form-field-focus-overlay{opacity:var(--mat-form-field-hover-state-layer-opacity, var(--mat-sys-hover-state-layer-opacity))}.mat-mdc-form-field.mat-focused .mat-mdc-form-field-focus-overlay{opacity:var(--mat-form-field-focus-state-layer-opacity, 0)}select.mat-mdc-form-field-input-control{-moz-appearance:none;-webkit-appearance:none;background-color:rgba(0,0,0,0);display:inline-flex;box-sizing:border-box}select.mat-mdc-form-field-input-control:not(:disabled){cursor:pointer}select.mat-mdc-form-field-input-control:not(.mat-mdc-native-select-inline) option{color:var(--mat-form-field-select-option-text-color, var(--mat-sys-neutral10))}select.mat-mdc-form-field-input-control:not(.mat-mdc-native-select-inline) option:disabled{color:var(--mat-form-field-select-disabled-option-text-color, color-mix(in srgb, var(--mat-sys-neutral10) 38%, transparent))}.mat-mdc-form-field-type-mat-native-select .mat-mdc-form-field-infix::after{content:"";width:0;height:0;border-left:5px solid rgba(0,0,0,0);border-right:5px solid rgba(0,0,0,0);border-top:5px solid;position:absolute;right:0;top:50%;margin-top:-2.5px;pointer-events:none;color:var(--mat-form-field-enabled-select-arrow-color, var(--mat-sys-on-surface-variant))}[dir=rtl] .mat-mdc-form-field-type-mat-native-select .mat-mdc-form-field-infix::after{right:auto;left:0}.mat-mdc-form-field-type-mat-native-select.mat-focused .mat-mdc-form-field-infix::after{color:var(--mat-form-field-focus-select-arrow-color, var(--mat-sys-primary))}.mat-mdc-form-field-type-mat-native-select.mat-form-field-disabled .mat-mdc-form-field-infix::after{color:var(--mat-form-field-disabled-select-arrow-color, color-mix(in srgb, var(--mat-sys-on-surface) 38%, transparent))}.mat-mdc-form-field-type-mat-native-select .mat-mdc-form-field-input-control{padding-right:15px}[dir=rtl] .mat-mdc-form-field-type-mat-native-select .mat-mdc-form-field-input-control{padding-right:0;padding-left:15px}@media(forced-colors: active){.mat-form-field-appearance-fill .mat-mdc-text-field-wrapper{outline:solid 1px}}@media(forced-colors: active){.mat-form-field-appearance-fill.mat-form-field-disabled .mat-mdc-text-field-wrapper{outline-color:GrayText}}@media(forced-colors: active){.mat-form-field-appearance-fill.mat-focused .mat-mdc-text-field-wrapper{outline:dashed 3px}}@media(forced-colors: active){.mat-mdc-form-field.mat-focused .mdc-notched-outline{border:dashed 3px}}.mat-mdc-form-field-input-control[type=date],.mat-mdc-form-field-input-control[type=datetime],.mat-mdc-form-field-input-control[type=datetime-local],.mat-mdc-form-field-input-control[type=month],.mat-mdc-form-field-input-control[type=week],.mat-mdc-form-field-input-control[type=time]{line-height:1}.mat-mdc-form-field-input-control::-webkit-datetime-edit{line-height:1;padding:0;margin-bottom:-2px}.mat-mdc-form-field{--mat-mdc-form-field-floating-label-scale: 0.75;display:inline-flex;flex-direction:column;min-width:0;text-align:left;-moz-osx-font-smoothing:grayscale;-webkit-font-smoothing:antialiased;font-family:var(--mat-form-field-container-text-font, var(--mat-sys-body-large-font));line-height:var(--mat-form-field-container-text-line-height, var(--mat-sys-body-large-line-height));font-size:var(--mat-form-field-container-text-size, var(--mat-sys-body-large-size));letter-spacing:var(--mat-form-field-container-text-tracking, var(--mat-sys-body-large-tracking));font-weight:var(--mat-form-field-container-text-weight, var(--mat-sys-body-large-weight))}.mat-mdc-form-field .mdc-text-field--outlined .mdc-floating-label--float-above{font-size:calc(var(--mat-form-field-outlined-label-text-populated-size)*var(--mat-mdc-form-field-floating-label-scale))}.mat-mdc-form-field .mdc-text-field--outlined .mdc-notched-outline--upgraded .mdc-floating-label--float-above{font-size:var(--mat-form-field-outlined-label-text-populated-size)}[dir=rtl] .mat-mdc-form-field{text-align:right}.mat-mdc-form-field-flex{display:inline-flex;align-items:baseline;box-sizing:border-box;width:100%}.mat-mdc-text-field-wrapper{width:100%;z-index:0}.mat-mdc-form-field-icon-prefix,.mat-mdc-form-field-icon-suffix{align-self:center;line-height:0;pointer-events:auto;position:relative;z-index:1}.mat-mdc-form-field-icon-prefix>.mat-icon,.mat-mdc-form-field-icon-suffix>.mat-icon{padding:0 12px;box-sizing:content-box}.mat-mdc-form-field-icon-prefix{color:var(--mat-form-field-leading-icon-color, var(--mat-sys-on-surface-variant))}.mat-form-field-disabled .mat-mdc-form-field-icon-prefix{color:var(--mat-form-field-disabled-leading-icon-color, color-mix(in srgb, var(--mat-sys-on-surface) 38%, transparent))}.mat-mdc-form-field-icon-suffix{color:var(--mat-form-field-trailing-icon-color, var(--mat-sys-on-surface-variant))}.mat-form-field-disabled .mat-mdc-form-field-icon-suffix{color:var(--mat-form-field-disabled-trailing-icon-color, color-mix(in srgb, var(--mat-sys-on-surface) 38%, transparent))}.mat-form-field-invalid .mat-mdc-form-field-icon-suffix{color:var(--mat-form-field-error-trailing-icon-color, var(--mat-sys-error))}.mat-form-field-invalid:not(.mat-focused):not(.mat-form-field-disabled) .mat-mdc-text-field-wrapper:hover .mat-mdc-form-field-icon-suffix{color:var(--mat-form-field-error-hover-trailing-icon-color, var(--mat-sys-on-error-container))}.mat-form-field-invalid.mat-focused .mat-mdc-text-field-wrapper .mat-mdc-form-field-icon-suffix{color:var(--mat-form-field-error-focus-trailing-icon-color, var(--mat-sys-error))}.mat-mdc-form-field-icon-prefix,[dir=rtl] .mat-mdc-form-field-icon-suffix{padding:0 4px 0 0}.mat-mdc-form-field-icon-suffix,[dir=rtl] .mat-mdc-form-field-icon-prefix{padding:0 0 0 4px}.mat-mdc-form-field-subscript-wrapper .mat-icon,.mat-mdc-form-field label .mat-icon{width:1em;height:1em;font-size:inherit}.mat-mdc-form-field-infix{flex:auto;min-width:0;width:180px;position:relative;box-sizing:border-box}.mat-mdc-form-field-infix:has(textarea[cols]){width:auto}.mat-mdc-form-field .mdc-notched-outline__notch{margin-left:-1px;-webkit-clip-path:inset(-9em -999em -9em 1px);clip-path:inset(-9em -999em -9em 1px)}[dir=rtl] .mat-mdc-form-field .mdc-notched-outline__notch{margin-left:0;margin-right:-1px;-webkit-clip-path:inset(-9em 1px -9em -999em);clip-path:inset(-9em 1px -9em -999em)}.mat-mdc-form-field.mat-form-field-animations-enabled .mdc-floating-label{transition:transform 150ms cubic-bezier(0.4, 0, 0.2, 1),color 150ms cubic-bezier(0.4, 0, 0.2, 1)}.mat-mdc-form-field.mat-form-field-animations-enabled .mdc-text-field__input{transition:opacity 150ms cubic-bezier(0.4, 0, 0.2, 1)}.mat-mdc-form-field.mat-form-field-animations-enabled .mdc-text-field__input::placeholder{transition:opacity 67ms cubic-bezier(0.4, 0, 0.2, 1)}.mat-mdc-form-field.mat-form-field-animations-enabled .mdc-text-field__input::-moz-placeholder{transition:opacity 67ms cubic-bezier(0.4, 0, 0.2, 1)}.mat-mdc-form-field.mat-form-field-animations-enabled .mdc-text-field__input::-webkit-input-placeholder{transition:opacity 67ms cubic-bezier(0.4, 0, 0.2, 1)}.mat-mdc-form-field.mat-form-field-animations-enabled .mdc-text-field__input:-ms-input-placeholder{transition:opacity 67ms cubic-bezier(0.4, 0, 0.2, 1)}.mat-mdc-form-field.mat-form-field-animations-enabled.mdc-text-field--no-label .mdc-text-field__input::placeholder,.mat-mdc-form-field.mat-form-field-animations-enabled.mdc-text-field--focused .mdc-text-field__input::placeholder{transition-delay:40ms;transition-duration:110ms}.mat-mdc-form-field.mat-form-field-animations-enabled.mdc-text-field--no-label .mdc-text-field__input::-moz-placeholder,.mat-mdc-form-field.mat-form-field-animations-enabled.mdc-text-field--focused .mdc-text-field__input::-moz-placeholder{transition-delay:40ms;transition-duration:110ms}.mat-mdc-form-field.mat-form-field-animations-enabled.mdc-text-field--no-label .mdc-text-field__input::-webkit-input-placeholder,.mat-mdc-form-field.mat-form-field-animations-enabled.mdc-text-field--focused .mdc-text-field__input::-webkit-input-placeholder{transition-delay:40ms;transition-duration:110ms}.mat-mdc-form-field.mat-form-field-animations-enabled.mdc-text-field--no-label .mdc-text-field__input:-ms-input-placeholder,.mat-mdc-form-field.mat-form-field-animations-enabled.mdc-text-field--focused .mdc-text-field__input:-ms-input-placeholder{transition-delay:40ms;transition-duration:110ms}.mat-mdc-form-field.mat-form-field-animations-enabled .mdc-text-field--filled:not(.mdc-ripple-upgraded):focus .mdc-text-field__ripple::before{transition-duration:75ms}.mat-mdc-form-field.mat-form-field-animations-enabled .mdc-line-ripple::after{transition:transform 180ms cubic-bezier(0.4, 0, 0.2, 1),opacity 180ms cubic-bezier(0.4, 0, 0.2, 1)}.mat-mdc-form-field.mat-form-field-animations-enabled .mat-mdc-form-field-hint-wrapper,.mat-mdc-form-field.mat-form-field-animations-enabled .mat-mdc-form-field-error-wrapper{animation-duration:300ms}.mdc-notched-outline .mdc-floating-label{max-width:calc(100% + 1px)}.mdc-notched-outline--upgraded .mdc-floating-label--float-above{max-width:calc(133.3333333333% + 1px)}
`],encapsulation:2,changeDetection:0})}return n})();var qx=(()=>{class n{static \u0275fac=function(i){return new(i||n)};static \u0275mod=he({type:n});static \u0275inj=de({imports:[pt,lc,_f,pt]})}return n})();var Ho=class{_attachedHost;attach(e){return this._attachedHost=e,e.attach(this)}detach(){let e=this._attachedHost;e!=null&&(this._attachedHost=null,e.detach())}get isAttached(){return this._attachedHost!=null}setAttachedHost(e){this._attachedHost=e}},vf=class extends Ho{component;viewContainerRef;injector;projectableNodes;constructor(e,t,i,r){super(),this.component=e,this.viewContainerRef=t,this.injector=i,this.projectableNodes=r}},Go=class extends Ho{templateRef;viewContainerRef;context;injector;constructor(e,t,i,r){super(),this.templateRef=e,this.viewContainerRef=t,this.context=i,this.injector=r}get origin(){return this.templateRef.elementRef}attach(e,t=this.context){return this.context=t,super.attach(e)}detach(){return this.context=void 0,super.detach()}},yf=class extends Ho{element;constructor(e){super(),this.element=e instanceof ce?e.nativeElement:e}},bc=class{_attachedPortal;_disposeFn;_isDisposed=!1;hasAttached(){return!!this._attachedPortal}attach(e){if(e instanceof vf)return this._attachedPortal=e,this.attachComponentPortal(e);if(e instanceof Go)return this._attachedPortal=e,this.attachTemplatePortal(e);if(this.attachDomPortal&&e instanceof yf)return this._attachedPortal=e,this.attachDomPortal(e)}attachDomPortal=null;detach(){this._attachedPortal&&(this._attachedPortal.setAttachedHost(null),this._attachedPortal=null),this._invokeDisposeFn()}dispose(){this.hasAttached()&&this.detach(),this._invokeDisposeFn(),this._isDisposed=!0}setDisposeFn(e){this._disposeFn=e}_invokeDisposeFn(){this._disposeFn&&(this._disposeFn(),this._disposeFn=null)}},wc=class extends bc{outletElement;_appRef;_defaultInjector;constructor(e,t,i){super(),this.outletElement=e,this._appRef=t,this._defaultInjector=i}attachComponentPortal(e){let t;if(e.viewContainerRef){let i=e.injector||e.viewContainerRef.injector,r=i.get(ll,null,{optional:!0})||void 0;t=e.viewContainerRef.createComponent(e.component,{index:e.viewContainerRef.length,injector:i,ngModuleRef:r,projectableNodes:e.projectableNodes||void 0}),this.setDisposeFn(()=>t.destroy())}else{let i=this._appRef,r=e.injector||this._defaultInjector||se.NULL,o=r.get(mn,i.injector);t=Cs(e.component,{elementInjector:r,environmentInjector:o,projectableNodes:e.projectableNodes||void 0}),i.attachView(t.hostView),this.setDisposeFn(()=>{i.viewCount>0&&i.detachView(t.hostView),t.destroy()})}return this.outletElement.appendChild(this._getComponentRootNode(t)),this._attachedPortal=e,t}attachTemplatePortal(e){let t=e.viewContainerRef,i=t.createEmbeddedView(e.templateRef,e.context,{injector:e.injector});return i.rootNodes.forEach(r=>this.outletElement.appendChild(r)),i.detectChanges(),this.setDisposeFn(()=>{let r=t.indexOf(i);r!==-1&&t.remove(r)}),this._attachedPortal=e,i}attachDomPortal=e=>{let t=e.element;t.parentNode;let i=this.outletElement.ownerDocument.createComment("dom-portal");t.parentNode.insertBefore(i,t),this.outletElement.appendChild(t),this._attachedPortal=e,super.setDisposeFn(()=>{i.parentNode&&i.parentNode.replaceChild(t,i)})};dispose(){super.dispose(),this.outletElement.remove()}_getComponentRootNode(e){return e.hostView.rootNodes[0]}},LF=(()=>{class n extends Go{constructor(){let t=S(Is),i=S(Ur);super(t,i)}static \u0275fac=function(i){return new(i||n)};static \u0275dir=pe({type:n,selectors:[["","cdkPortal",""]],exportAs:["cdkPortal"],features:[gn]})}return n})();var VF=(()=>{class n extends bc{_moduleRef=S(ll,{optional:!0});_document=S(ae);_viewContainerRef=S(Ur);_isInitialized=!1;_attachedRef;constructor(){super()}get portal(){return this._attachedPortal}set portal(t){this.hasAttached()&&!t&&!this._isInitialized||(this.hasAttached()&&super.detach(),t&&super.attach(t),this._attachedPortal=t||null)}attached=new Ht;get attachedRef(){return this._attachedRef}ngOnInit(){this._isInitialized=!0}ngOnDestroy(){super.dispose(),this._attachedRef=this._attachedPortal=null}attachComponentPortal(t){t.setAttachedHost(this);let i=t.viewContainerRef!=null?t.viewContainerRef:this._viewContainerRef,r=i.createComponent(t.component,{index:i.length,injector:t.injector||i.injector,projectableNodes:t.projectableNodes||void 0,ngModuleRef:this._moduleRef||void 0});return i!==this._viewContainerRef&&this._getRootNode().appendChild(r.hostView.rootNodes[0]),super.setDisposeFn(()=>r.destroy()),this._attachedPortal=t,this._attachedRef=r,this.attached.emit(r),r}attachTemplatePortal(t){t.setAttachedHost(this);let i=this._viewContainerRef.createEmbeddedView(t.templateRef,t.context,{injector:t.injector});return super.setDisposeFn(()=>this._viewContainerRef.clear()),this._attachedPortal=t,this._attachedRef=i,this.attached.emit(i),i}attachDomPortal=t=>{let i=t.element;i.parentNode;let r=this._document.createComment("dom-portal");t.setAttachedHost(this),i.parentNode.insertBefore(r,i),this._getRootNode().appendChild(i),this._attachedPortal=t,super.setDisposeFn(()=>{r.parentNode&&r.parentNode.replaceChild(i,r)})};_getRootNode(){let t=this._viewContainerRef.element.nativeElement;return t.nodeType===t.ELEMENT_NODE?t:t.parentNode}static \u0275fac=function(i){return new(i||n)};static \u0275dir=pe({type:n,selectors:[["","cdkPortalOutlet",""]],inputs:{portal:[0,"cdkPortalOutlet","portal"]},outputs:{attached:"attached"},exportAs:["cdkPortalOutlet"],features:[gn]})}return n})();var Mb=(()=>{class n{static \u0275fac=function(i){return new(i||n)};static \u0275mod=he({type:n});static \u0275inj=de({})}return n})();var $x=20,Ec=(()=>{class n{_ngZone=S(W);_platform=S(ye);_renderer=S(vt).createRenderer(null,null);_cleanupGlobalListener;constructor(){}_scrolled=new Z;_scrolledCount=0;scrollContainers=new Map;register(t){this.scrollContainers.has(t)||this.scrollContainers.set(t,t.elementScrolled().subscribe(()=>this._scrolled.next(t)))}deregister(t){let i=this.scrollContainers.get(t);i&&(i.unsubscribe(),this.scrollContainers.delete(t))}scrolled(t=$x){return this._platform.isBrowser?new Me(i=>{this._cleanupGlobalListener||(this._cleanupGlobalListener=this._ngZone.runOutsideAngular(()=>this._renderer.listen("document","scroll",()=>this._scrolled.next())));let r=t>0?this._scrolled.pipe(ol(t)).subscribe(i):this._scrolled.subscribe(i);return this._scrolledCount++,()=>{r.unsubscribe(),this._scrolledCount--,this._scrolledCount||(this._cleanupGlobalListener?.(),this._cleanupGlobalListener=void 0)}}):_t()}ngOnDestroy(){this._cleanupGlobalListener?.(),this._cleanupGlobalListener=void 0,this.scrollContainers.forEach((t,i)=>this.deregister(i)),this._scrolled.complete()}ancestorScrolled(t,i){let r=this.getAncestorScrollContainers(t);return this.scrolled(i).pipe(rt(o=>!o||r.indexOf(o)>-1))}getAncestorScrollContainers(t){let i=[];return this.scrollContainers.forEach((r,o)=>{this._scrollableContainsElement(o,t)&&i.push(o)}),i}_scrollableContainsElement(t,i){let r=ft(i),o=t.getElementRef().nativeElement;do if(r==o)return!0;while(r=r.parentElement);return!1}static \u0275fac=function(i){return new(i||n)};static \u0275prov=$({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})(),hL=(()=>{class n{elementRef=S(ce);scrollDispatcher=S(Ec);ngZone=S(W);dir=S(vi,{optional:!0});_scrollElement=this.elementRef.nativeElement;_destroyed=new Z;_renderer=S(pn);_cleanupScroll;_elementScrolled=new Z;constructor(){}ngOnInit(){this._cleanupScroll=this.ngZone.runOutsideAngular(()=>this._renderer.listen(this._scrollElement,"scroll",t=>this._elementScrolled.next(t))),this.scrollDispatcher.register(this)}ngOnDestroy(){this._cleanupScroll?.(),this._elementScrolled.complete(),this.scrollDispatcher.deregister(this),this._destroyed.next(),this._destroyed.complete()}elementScrolled(){return this._elementScrolled}getElementRef(){return this.elementRef}scrollTo(t){let i=this.elementRef.nativeElement,r=this.dir&&this.dir.value=="rtl";t.left==null&&(t.left=r?t.end:t.start),t.right==null&&(t.right=r?t.start:t.end),t.bottom!=null&&(t.top=i.scrollHeight-i.clientHeight-t.bottom),r&&gr()!=Ct.NORMAL?(t.left!=null&&(t.right=i.scrollWidth-i.clientWidth-t.left),gr()==Ct.INVERTED?t.left=t.right:gr()==Ct.NEGATED&&(t.left=t.right?-t.right:t.right)):t.right!=null&&(t.left=i.scrollWidth-i.clientWidth-t.right),this._applyScrollToOptions(t)}_applyScrollToOptions(t){let i=this.elementRef.nativeElement;pc()?i.scrollTo(t):(t.top!=null&&(i.scrollTop=t.top),t.left!=null&&(i.scrollLeft=t.left))}measureScrollOffset(t){let i="left",r="right",o=this.elementRef.nativeElement;if(t=="top")return o.scrollTop;if(t=="bottom")return o.scrollHeight-o.clientHeight-o.scrollTop;let a=this.dir&&this.dir.value=="rtl";return t=="start"?t=a?r:i:t=="end"&&(t=a?i:r),a&&gr()==Ct.INVERTED?t==i?o.scrollWidth-o.clientWidth-o.scrollLeft:o.scrollLeft:a&&gr()==Ct.NEGATED?t==i?o.scrollLeft+o.scrollWidth-o.clientWidth:-o.scrollLeft:t==i?o.scrollLeft:o.scrollWidth-o.clientWidth-o.scrollLeft}static \u0275fac=function(i){return new(i||n)};static \u0275dir=pe({type:n,selectors:[["","cdk-scrollable",""],["","cdkScrollable",""]]})}return n})(),Wx=20,Ko=(()=>{class n{_platform=S(ye);_listeners;_viewportSize;_change=new Z;_document=S(ae);constructor(){let t=S(W),i=S(vt).createRenderer(null,null);t.runOutsideAngular(()=>{if(this._platform.isBrowser){let r=o=>this._change.next(o);this._listeners=[i.listen("window","resize",r),i.listen("window","orientationchange",r)]}this.change().subscribe(()=>this._viewportSize=null)})}ngOnDestroy(){this._listeners?.forEach(t=>t()),this._change.complete()}getViewportSize(){this._viewportSize||this._updateViewportSize();let t={width:this._viewportSize.width,height:this._viewportSize.height};return this._platform.isBrowser||(this._viewportSize=null),t}getViewportRect(){let t=this.getViewportScrollPosition(),{width:i,height:r}=this.getViewportSize();return{top:t.top,left:t.left,bottom:t.top+r,right:t.left+i,height:r,width:i}}getViewportScrollPosition(){if(!this._platform.isBrowser)return{top:0,left:0};let t=this._document,i=this._getWindow(),r=t.documentElement,o=r.getBoundingClientRect(),a=-o.top||t.body.scrollTop||i.scrollY||r.scrollTop||0,c=-o.left||t.body.scrollLeft||i.scrollX||r.scrollLeft||0;return{top:a,left:c}}change(t=Wx){return t>0?this._change.pipe(ol(t)):this._change}_getWindow(){return this._document.defaultView||window}_updateViewportSize(){let t=this._getWindow();this._viewportSize=this._platform.isBrowser?{width:t.innerWidth,height:t.innerHeight}:{width:0,height:0}}static \u0275fac=function(i){return new(i||n)};static \u0275prov=$({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();var Fb=(()=>{class n{static \u0275fac=function(i){return new(i||n)};static \u0275mod=he({type:n});static \u0275inj=de({})}return n})(),bf=(()=>{class n{static \u0275fac=function(i){return new(i||n)};static \u0275mod=he({type:n});static \u0275inj=de({imports:[jn,Fb,jn,Fb]})}return n})();var Lb=pc();function $b(n){return new Ic(n.get(Ko),n.get(ae))}var Ic=class{_viewportRuler;_previousHTMLStyles={top:"",left:""};_previousScrollPosition;_isEnabled=!1;_document;constructor(e,t){this._viewportRuler=e,this._document=t}attach(){}enable(){if(this._canBeEnabled()){let e=this._document.documentElement;this._previousScrollPosition=this._viewportRuler.getViewportScrollPosition(),this._previousHTMLStyles.left=e.style.left||"",this._previousHTMLStyles.top=e.style.top||"",e.style.left=we(-this._previousScrollPosition.left),e.style.top=we(-this._previousScrollPosition.top),e.classList.add("cdk-global-scrollblock"),this._isEnabled=!0}}disable(){if(this._isEnabled){let e=this._document.documentElement,t=this._document.body,i=e.style,r=t.style,o=i.scrollBehavior||"",a=r.scrollBehavior||"";this._isEnabled=!1,i.left=this._previousHTMLStyles.left,i.top=this._previousHTMLStyles.top,e.classList.remove("cdk-global-scrollblock"),Lb&&(i.scrollBehavior=r.scrollBehavior="auto"),window.scroll(this._previousScrollPosition.left,this._previousScrollPosition.top),Lb&&(i.scrollBehavior=o,r.scrollBehavior=a)}}_canBeEnabled(){if(this._document.documentElement.classList.contains("cdk-global-scrollblock")||this._isEnabled)return!1;let t=this._document.documentElement,i=this._viewportRuler.getViewportSize();return t.scrollHeight>i.height||t.scrollWidth>i.width}};function Wb(n,e){return new Tc(n.get(Ec),n.get(W),n.get(Ko),e)}var Tc=class{_scrollDispatcher;_ngZone;_viewportRuler;_config;_scrollSubscription=null;_overlayRef;_initialScrollPosition;constructor(e,t,i,r){this._scrollDispatcher=e,this._ngZone=t,this._viewportRuler=i,this._config=r}attach(e){this._overlayRef,this._overlayRef=e}enable(){if(this._scrollSubscription)return;let e=this._scrollDispatcher.scrolled(0).pipe(rt(t=>!t||!this._overlayRef.overlayElement.contains(t.getElementRef().nativeElement)));this._config&&this._config.threshold&&this._config.threshold>1?(this._initialScrollPosition=this._viewportRuler.getViewportScrollPosition().top,this._scrollSubscription=e.subscribe(()=>{let t=this._viewportRuler.getViewportScrollPosition().top;Math.abs(t-this._initialScrollPosition)>this._config.threshold?this._detach():this._overlayRef.updatePosition()})):this._scrollSubscription=e.subscribe(this._detach)}disable(){this._scrollSubscription&&(this._scrollSubscription.unsubscribe(),this._scrollSubscription=null)}detach(){this.disable(),this._overlayRef=null}_detach=()=>{this.disable(),this._overlayRef.hasAttached()&&this._ngZone.run(()=>this._overlayRef.detach())}};var Yo=class{enable(){}disable(){}attach(){}};function wf(n,e){return e.some(t=>{let i=n.bottom<t.top,r=n.top>t.bottom,o=n.right<t.left,a=n.left>t.right;return i||r||o||a})}function Vb(n,e){return e.some(t=>{let i=n.top<t.top,r=n.bottom>t.bottom,o=n.left<t.left,a=n.right>t.right;return i||r||o||a})}function Pc(n,e){return new Ac(n.get(Ec),n.get(Ko),n.get(W),e)}var Ac=class{_scrollDispatcher;_viewportRuler;_ngZone;_config;_scrollSubscription=null;_overlayRef;constructor(e,t,i,r){this._scrollDispatcher=e,this._viewportRuler=t,this._ngZone=i,this._config=r}attach(e){this._overlayRef,this._overlayRef=e}enable(){if(!this._scrollSubscription){let e=this._config?this._config.scrollThrottle:0;this._scrollSubscription=this._scrollDispatcher.scrolled(e).subscribe(()=>{if(this._overlayRef.updatePosition(),this._config&&this._config.autoClose){let t=this._overlayRef.overlayElement.getBoundingClientRect(),{width:i,height:r}=this._viewportRuler.getViewportSize();wf(t,[{width:i,height:r,bottom:r,right:i,top:0,left:0}])&&(this.disable(),this._ngZone.run(()=>this._overlayRef.detach()))}})}}disable(){this._scrollSubscription&&(this._scrollSubscription.unsubscribe(),this._scrollSubscription=null)}detach(){this.disable(),this._overlayRef=null}},Hb=(()=>{class n{_injector=S(se);constructor(){}noop=()=>new Yo;close=t=>Wb(this._injector,t);block=()=>$b(this._injector);reposition=t=>Pc(this._injector,t);static \u0275fac=function(i){return new(i||n)};static \u0275prov=$({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})(),Sc=class{positionStrategy;scrollStrategy=new Yo;panelClass="";hasBackdrop=!1;backdropClass="cdk-overlay-dark-backdrop";disableAnimations;width;height;minWidth;minHeight;maxWidth;maxHeight;direction;disposeOnNavigation=!1;constructor(e){if(e){let t=Object.keys(e);for(let i of t)e[i]!==void 0&&(this[i]=e[i])}}};var Cc=class{connectionPair;scrollableViewProperties;constructor(e,t){this.connectionPair=e,this.scrollableViewProperties=t}};var Gb=(()=>{class n{_attachedOverlays=[];_document=S(ae);_isAttached;constructor(){}ngOnDestroy(){this.detach()}add(t){this.remove(t),this._attachedOverlays.push(t)}remove(t){let i=this._attachedOverlays.indexOf(t);i>-1&&this._attachedOverlays.splice(i,1),this._attachedOverlays.length===0&&this.detach()}static \u0275fac=function(i){return new(i||n)};static \u0275prov=$({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})(),Kb=(()=>{class n extends Gb{_ngZone=S(W);_renderer=S(vt).createRenderer(null,null);_cleanupKeydown;add(t){super.add(t),this._isAttached||(this._ngZone.runOutsideAngular(()=>{this._cleanupKeydown=this._renderer.listen("body","keydown",this._keydownListener)}),this._isAttached=!0)}detach(){this._isAttached&&(this._cleanupKeydown?.(),this._isAttached=!1)}_keydownListener=t=>{let i=this._attachedOverlays;for(let r=i.length-1;r>-1;r--)if(i[r]._keydownEvents.observers.length>0){this._ngZone.run(()=>i[r]._keydownEvents.next(t));break}};static \u0275fac=(()=>{let t;return function(r){return(t||(t=bs(n)))(r||n)}})();static \u0275prov=$({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})(),Yb=(()=>{class n extends Gb{_platform=S(ye);_ngZone=S(W);_renderer=S(vt).createRenderer(null,null);_cursorOriginalValue;_cursorStyleIsSet=!1;_pointerDownEventTarget;_cleanups;add(t){if(super.add(t),!this._isAttached){let i=this._document.body,r={capture:!0},o=this._renderer;this._cleanups=this._ngZone.runOutsideAngular(()=>[o.listen(i,"pointerdown",this._pointerDownListener,r),o.listen(i,"click",this._clickListener,r),o.listen(i,"auxclick",this._clickListener,r),o.listen(i,"contextmenu",this._clickListener,r)]),this._platform.IOS&&!this._cursorStyleIsSet&&(this._cursorOriginalValue=i.style.cursor,i.style.cursor="pointer",this._cursorStyleIsSet=!0),this._isAttached=!0}}detach(){this._isAttached&&(this._cleanups?.forEach(t=>t()),this._cleanups=void 0,this._platform.IOS&&this._cursorStyleIsSet&&(this._document.body.style.cursor=this._cursorOriginalValue,this._cursorStyleIsSet=!1),this._isAttached=!1)}_pointerDownListener=t=>{this._pointerDownEventTarget=nt(t)};_clickListener=t=>{let i=nt(t),r=t.type==="click"&&this._pointerDownEventTarget?this._pointerDownEventTarget:i;this._pointerDownEventTarget=null;let o=this._attachedOverlays.slice();for(let a=o.length-1;a>-1;a--){let c=o[a];if(c._outsidePointerEvents.observers.length<1||!c.hasAttached())continue;if(Ub(c.overlayElement,i)||Ub(c.overlayElement,r))break;let u=c._outsidePointerEvents;this._ngZone?this._ngZone.run(()=>u.next(t)):u.next(t)}};static \u0275fac=(()=>{let t;return function(r){return(t||(t=bs(n)))(r||n)}})();static \u0275prov=$({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();function Ub(n,e){let t=typeof ShadowRoot<"u"&&ShadowRoot,i=e;for(;i;){if(i===n)return!0;i=t&&i instanceof ShadowRoot?i.host:i.parentNode}return!1}var Qb=(()=>{class n{static \u0275fac=function(i){return new(i||n)};static \u0275cmp=ke({type:n,selectors:[["ng-component"]],hostAttrs:["cdk-overlay-style-loader",""],decls:0,vars:0,template:function(i,r){},styles:[`.cdk-overlay-container,.cdk-global-overlay-wrapper{pointer-events:none;top:0;left:0;height:100%;width:100%}.cdk-overlay-container{position:fixed}@layer cdk-overlay{.cdk-overlay-container{z-index:1000}}.cdk-overlay-container:empty{display:none}.cdk-global-overlay-wrapper{display:flex;position:absolute}@layer cdk-overlay{.cdk-global-overlay-wrapper{z-index:1000}}.cdk-overlay-pane{position:absolute;pointer-events:auto;box-sizing:border-box;display:flex;max-width:100%;max-height:100%}@layer cdk-overlay{.cdk-overlay-pane{z-index:1000}}.cdk-overlay-backdrop{position:absolute;top:0;bottom:0;left:0;right:0;pointer-events:auto;-webkit-tap-highlight-color:rgba(0,0,0,0);opacity:0;touch-action:manipulation}@layer cdk-overlay{.cdk-overlay-backdrop{z-index:1000;transition:opacity 400ms cubic-bezier(0.25, 0.8, 0.25, 1)}}@media(prefers-reduced-motion){.cdk-overlay-backdrop{transition-duration:1ms}}.cdk-overlay-backdrop-showing{opacity:1}@media(forced-colors: active){.cdk-overlay-backdrop-showing{opacity:.6}}@layer cdk-overlay{.cdk-overlay-dark-backdrop{background:rgba(0,0,0,.32)}}.cdk-overlay-transparent-backdrop{transition:visibility 1ms linear,opacity 1ms linear;visibility:hidden;opacity:1}.cdk-overlay-transparent-backdrop.cdk-overlay-backdrop-showing,.cdk-high-contrast-active .cdk-overlay-transparent-backdrop{opacity:0;visibility:visible}.cdk-overlay-backdrop-noop-animation{transition:none}.cdk-overlay-connected-position-bounding-box{position:absolute;display:flex;flex-direction:column;min-width:1px;min-height:1px}@layer cdk-overlay{.cdk-overlay-connected-position-bounding-box{z-index:1000}}.cdk-global-scrollblock{position:fixed;width:100%;overflow-y:scroll}
`],encapsulation:2,changeDetection:0})}return n})(),Xb=(()=>{class n{_platform=S(ye);_containerElement;_document=S(ae);_styleLoader=S(Bt);constructor(){}ngOnDestroy(){this._containerElement?.remove()}getContainerElement(){return this._loadStyles(),this._containerElement||this._createContainer(),this._containerElement}_createContainer(){let t="cdk-overlay-container";if(this._platform.isBrowser||af()){let r=this._document.querySelectorAll(`.${t}[platform="server"], .${t}[platform="test"]`);for(let o=0;o<r.length;o++)r[o].remove()}let i=this._document.createElement("div");i.classList.add(t),af()?i.setAttribute("platform","test"):this._platform.isBrowser||i.setAttribute("platform","server"),this._document.body.appendChild(i),this._containerElement=i}_loadStyles(){this._styleLoader.load(Qb)}static \u0275fac=function(i){return new(i||n)};static \u0275prov=$({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})(),Ef=class{_renderer;_ngZone;element;_cleanupClick;_cleanupTransitionEnd;_fallbackTimeout;constructor(e,t,i,r){this._renderer=t,this._ngZone=i,this.element=e.createElement("div"),this.element.classList.add("cdk-overlay-backdrop"),this._cleanupClick=t.listen(this.element,"click",r)}detach(){this._ngZone.runOutsideAngular(()=>{let e=this.element;clearTimeout(this._fallbackTimeout),this._cleanupTransitionEnd?.(),this._cleanupTransitionEnd=this._renderer.listen(e,"transitionend",this.dispose),this._fallbackTimeout=setTimeout(this.dispose,500),e.style.pointerEvents="none",e.classList.remove("cdk-overlay-backdrop-showing")})}dispose=()=>{clearTimeout(this._fallbackTimeout),this._cleanupClick?.(),this._cleanupTransitionEnd?.(),this._cleanupClick=this._cleanupTransitionEnd=this._fallbackTimeout=void 0,this.element.remove()}},xc=class{_portalOutlet;_host;_pane;_config;_ngZone;_keyboardDispatcher;_document;_location;_outsideClickDispatcher;_animationsDisabled;_injector;_renderer;_backdropClick=new Z;_attachments=new Z;_detachments=new Z;_positionStrategy;_scrollStrategy;_locationChanges=xt.EMPTY;_backdropRef=null;_detachContentMutationObserver;_detachContentAfterRenderRef;_previousHostParent;_keydownEvents=new Z;_outsidePointerEvents=new Z;_afterNextRenderRef;constructor(e,t,i,r,o,a,c,u,h,f=!1,p,v){this._portalOutlet=e,this._host=t,this._pane=i,this._config=r,this._ngZone=o,this._keyboardDispatcher=a,this._document=c,this._location=u,this._outsideClickDispatcher=h,this._animationsDisabled=f,this._injector=p,this._renderer=v,r.scrollStrategy&&(this._scrollStrategy=r.scrollStrategy,this._scrollStrategy.attach(this)),this._positionStrategy=r.positionStrategy}get overlayElement(){return this._pane}get backdropElement(){return this._backdropRef?.element||null}get hostElement(){return this._host}attach(e){!this._host.parentElement&&this._previousHostParent&&this._previousHostParent.appendChild(this._host);let t=this._portalOutlet.attach(e);return this._positionStrategy&&this._positionStrategy.attach(this),this._updateStackingOrder(),this._updateElementSize(),this._updateElementDirection(),this._scrollStrategy&&this._scrollStrategy.enable(),this._afterNextRenderRef?.destroy(),this._afterNextRenderRef=Ri(()=>{this.hasAttached()&&this.updatePosition()},{injector:this._injector}),this._togglePointerEvents(!0),this._config.hasBackdrop&&this._attachBackdrop(),this._config.panelClass&&this._toggleClasses(this._pane,this._config.panelClass,!0),this._attachments.next(),this._completeDetachContent(),this._keyboardDispatcher.add(this),this._config.disposeOnNavigation&&(this._locationChanges=this._location.subscribe(()=>this.dispose())),this._outsideClickDispatcher.add(this),typeof t?.onDestroy=="function"&&t.onDestroy(()=>{this.hasAttached()&&this._ngZone.runOutsideAngular(()=>Promise.resolve().then(()=>this.detach()))}),t}detach(){if(!this.hasAttached())return;this.detachBackdrop(),this._togglePointerEvents(!1),this._positionStrategy&&this._positionStrategy.detach&&this._positionStrategy.detach(),this._scrollStrategy&&this._scrollStrategy.disable();let e=this._portalOutlet.detach();return this._detachments.next(),this._completeDetachContent(),this._keyboardDispatcher.remove(this),this._detachContentWhenEmpty(),this._locationChanges.unsubscribe(),this._outsideClickDispatcher.remove(this),e}dispose(){let e=this.hasAttached();this._positionStrategy&&this._positionStrategy.dispose(),this._disposeScrollStrategy(),this._backdropRef?.dispose(),this._locationChanges.unsubscribe(),this._keyboardDispatcher.remove(this),this._portalOutlet.dispose(),this._attachments.complete(),this._backdropClick.complete(),this._keydownEvents.complete(),this._outsidePointerEvents.complete(),this._outsideClickDispatcher.remove(this),this._host?.remove(),this._afterNextRenderRef?.destroy(),this._previousHostParent=this._pane=this._host=this._backdropRef=null,e&&this._detachments.next(),this._detachments.complete(),this._completeDetachContent()}hasAttached(){return this._portalOutlet.hasAttached()}backdropClick(){return this._backdropClick}attachments(){return this._attachments}detachments(){return this._detachments}keydownEvents(){return this._keydownEvents}outsidePointerEvents(){return this._outsidePointerEvents}getConfig(){return this._config}updatePosition(){this._positionStrategy&&this._positionStrategy.apply()}updatePositionStrategy(e){e!==this._positionStrategy&&(this._positionStrategy&&this._positionStrategy.dispose(),this._positionStrategy=e,this.hasAttached()&&(e.attach(this),this.updatePosition()))}updateSize(e){this._config=me(me({},this._config),e),this._updateElementSize()}setDirection(e){this._config=Fr(me({},this._config),{direction:e}),this._updateElementDirection()}addPanelClass(e){this._pane&&this._toggleClasses(this._pane,e,!0)}removePanelClass(e){this._pane&&this._toggleClasses(this._pane,e,!1)}getDirection(){let e=this._config.direction;return e?typeof e=="string"?e:e.value:"ltr"}updateScrollStrategy(e){e!==this._scrollStrategy&&(this._disposeScrollStrategy(),this._scrollStrategy=e,this.hasAttached()&&(e.attach(this),e.enable()))}_updateElementDirection(){this._host.setAttribute("dir",this.getDirection())}_updateElementSize(){if(!this._pane)return;let e=this._pane.style;e.width=we(this._config.width),e.height=we(this._config.height),e.minWidth=we(this._config.minWidth),e.minHeight=we(this._config.minHeight),e.maxWidth=we(this._config.maxWidth),e.maxHeight=we(this._config.maxHeight)}_togglePointerEvents(e){this._pane.style.pointerEvents=e?"":"none"}_attachBackdrop(){let e="cdk-overlay-backdrop-showing";this._backdropRef?.dispose(),this._backdropRef=new Ef(this._document,this._renderer,this._ngZone,t=>{this._backdropClick.next(t)}),this._animationsDisabled&&this._backdropRef.element.classList.add("cdk-overlay-backdrop-noop-animation"),this._config.backdropClass&&this._toggleClasses(this._backdropRef.element,this._config.backdropClass,!0),this._host.parentElement.insertBefore(this._backdropRef.element,this._host),!this._animationsDisabled&&typeof requestAnimationFrame<"u"?this._ngZone.runOutsideAngular(()=>{requestAnimationFrame(()=>this._backdropRef?.element.classList.add(e))}):this._backdropRef.element.classList.add(e)}_updateStackingOrder(){this._host.nextSibling&&this._host.parentNode.appendChild(this._host)}detachBackdrop(){this._animationsDisabled?(this._backdropRef?.dispose(),this._backdropRef=null):this._backdropRef?.detach()}_toggleClasses(e,t,i){let r=mr(t||[]).filter(o=>!!o);r.length&&(i?e.classList.add(...r):e.classList.remove(...r))}_detachContentWhenEmpty(){let e=!1;try{this._detachContentAfterRenderRef=Ri(()=>{e=!0,this._detachContent()},{injector:this._injector})}catch(t){if(e)throw t;this._detachContent()}globalThis.MutationObserver&&this._pane&&(this._detachContentMutationObserver||=new globalThis.MutationObserver(()=>{this._detachContent()}),this._detachContentMutationObserver.observe(this._pane,{childList:!0}))}_detachContent(){(!this._pane||!this._host||this._pane.children.length===0)&&(this._pane&&this._config.panelClass&&this._toggleClasses(this._pane,this._config.panelClass,!1),this._host&&this._host.parentElement&&(this._previousHostParent=this._host.parentElement,this._host.remove()),this._completeDetachContent())}_completeDetachContent(){this._detachContentAfterRenderRef?.destroy(),this._detachContentAfterRenderRef=void 0,this._detachContentMutationObserver?.disconnect()}_disposeScrollStrategy(){let e=this._scrollStrategy;e?.disable(),e?.detach?.()}},Bb="cdk-overlay-connected-position-bounding-box",Hx=/([A-Za-z%]+)$/;function Jb(n,e){return new Rc(e,n.get(Ko),n.get(ae),n.get(ye),n.get(Xb))}var Rc=class{_viewportRuler;_document;_platform;_overlayContainer;_overlayRef;_isInitialRender;_lastBoundingBoxSize={width:0,height:0};_isPushed=!1;_canPush=!0;_growAfterOpen=!1;_hasFlexibleDimensions=!0;_positionLocked=!1;_originRect;_overlayRect;_viewportRect;_containerRect;_viewportMargin=0;_scrollables=[];_preferredPositions=[];_origin;_pane;_isDisposed;_boundingBox;_lastPosition;_lastScrollVisibility;_positionChanges=new Z;_resizeSubscription=xt.EMPTY;_offsetX=0;_offsetY=0;_transformOriginSelector;_appliedPanelClasses=[];_previousPushAmount;positionChanges=this._positionChanges;get positions(){return this._preferredPositions}constructor(e,t,i,r,o){this._viewportRuler=t,this._document=i,this._platform=r,this._overlayContainer=o,this.setOrigin(e)}attach(e){this._overlayRef&&this._overlayRef,this._validatePositions(),e.hostElement.classList.add(Bb),this._overlayRef=e,this._boundingBox=e.hostElement,this._pane=e.overlayElement,this._isDisposed=!1,this._isInitialRender=!0,this._lastPosition=null,this._resizeSubscription.unsubscribe(),this._resizeSubscription=this._viewportRuler.change().subscribe(()=>{this._isInitialRender=!0,this.apply()})}apply(){if(this._isDisposed||!this._platform.isBrowser)return;if(!this._isInitialRender&&this._positionLocked&&this._lastPosition){this.reapplyLastPosition();return}this._clearPanelClasses(),this._resetOverlayElementStyles(),this._resetBoundingBoxStyles(),this._viewportRect=this._getNarrowedViewportRect(),this._originRect=this._getOriginRect(),this._overlayRect=this._pane.getBoundingClientRect(),this._containerRect=this._overlayContainer.getContainerElement().getBoundingClientRect();let e=this._originRect,t=this._overlayRect,i=this._viewportRect,r=this._containerRect,o=[],a;for(let c of this._preferredPositions){let u=this._getOriginPoint(e,r,c),h=this._getOverlayPoint(u,t,c),f=this._getOverlayFit(h,t,i,c);if(f.isCompletelyWithinViewport){this._isPushed=!1,this._applyPosition(c,u);return}if(this._canFitWithFlexibleDimensions(f,h,i)){o.push({position:c,origin:u,overlayRect:t,boundingBoxRect:this._calculateBoundingBoxRect(u,c)});continue}(!a||a.overlayFit.visibleArea<f.visibleArea)&&(a={overlayFit:f,overlayPoint:h,originPoint:u,position:c,overlayRect:t})}if(o.length){let c=null,u=-1;for(let h of o){let f=h.boundingBoxRect.width*h.boundingBoxRect.height*(h.position.weight||1);f>u&&(u=f,c=h)}this._isPushed=!1,this._applyPosition(c.position,c.origin);return}if(this._canPush){this._isPushed=!0,this._applyPosition(a.position,a.originPoint);return}this._applyPosition(a.position,a.originPoint)}detach(){this._clearPanelClasses(),this._lastPosition=null,this._previousPushAmount=null,this._resizeSubscription.unsubscribe()}dispose(){this._isDisposed||(this._boundingBox&&yi(this._boundingBox.style,{top:"",left:"",right:"",bottom:"",height:"",width:"",alignItems:"",justifyContent:""}),this._pane&&this._resetOverlayElementStyles(),this._overlayRef&&this._overlayRef.hostElement.classList.remove(Bb),this.detach(),this._positionChanges.complete(),this._overlayRef=this._boundingBox=null,this._isDisposed=!0)}reapplyLastPosition(){if(this._isDisposed||!this._platform.isBrowser)return;let e=this._lastPosition;if(e){this._originRect=this._getOriginRect(),this._overlayRect=this._pane.getBoundingClientRect(),this._viewportRect=this._getNarrowedViewportRect(),this._containerRect=this._overlayContainer.getContainerElement().getBoundingClientRect();let t=this._getOriginPoint(this._originRect,this._containerRect,e);this._applyPosition(e,t)}else this.apply()}withScrollableContainers(e){return this._scrollables=e,this}withPositions(e){return this._preferredPositions=e,e.indexOf(this._lastPosition)===-1&&(this._lastPosition=null),this._validatePositions(),this}withViewportMargin(e){return this._viewportMargin=e,this}withFlexibleDimensions(e=!0){return this._hasFlexibleDimensions=e,this}withGrowAfterOpen(e=!0){return this._growAfterOpen=e,this}withPush(e=!0){return this._canPush=e,this}withLockedPosition(e=!0){return this._positionLocked=e,this}setOrigin(e){return this._origin=e,this}withDefaultOffsetX(e){return this._offsetX=e,this}withDefaultOffsetY(e){return this._offsetY=e,this}withTransformOriginOn(e){return this._transformOriginSelector=e,this}_getOriginPoint(e,t,i){let r;if(i.originX=="center")r=e.left+e.width/2;else{let a=this._isRtl()?e.right:e.left,c=this._isRtl()?e.left:e.right;r=i.originX=="start"?a:c}t.left<0&&(r-=t.left);let o;return i.originY=="center"?o=e.top+e.height/2:o=i.originY=="top"?e.top:e.bottom,t.top<0&&(o-=t.top),{x:r,y:o}}_getOverlayPoint(e,t,i){let r;i.overlayX=="center"?r=-t.width/2:i.overlayX==="start"?r=this._isRtl()?-t.width:0:r=this._isRtl()?0:-t.width;let o;return i.overlayY=="center"?o=-t.height/2:o=i.overlayY=="top"?0:-t.height,{x:e.x+r,y:e.y+o}}_getOverlayFit(e,t,i,r){let o=jb(t),{x:a,y:c}=e,u=this._getOffset(r,"x"),h=this._getOffset(r,"y");u&&(a+=u),h&&(c+=h);let f=0-a,p=a+o.width-i.width,v=0-c,C=c+o.height-i.height,k=this._subtractOverflows(o.width,f,p),O=this._subtractOverflows(o.height,v,C),D=k*O;return{visibleArea:D,isCompletelyWithinViewport:o.width*o.height===D,fitsInViewportVertically:O===o.height,fitsInViewportHorizontally:k==o.width}}_canFitWithFlexibleDimensions(e,t,i){if(this._hasFlexibleDimensions){let r=i.bottom-t.y,o=i.right-t.x,a=zb(this._overlayRef.getConfig().minHeight),c=zb(this._overlayRef.getConfig().minWidth),u=e.fitsInViewportVertically||a!=null&&a<=r,h=e.fitsInViewportHorizontally||c!=null&&c<=o;return u&&h}return!1}_pushOverlayOnScreen(e,t,i){if(this._previousPushAmount&&this._positionLocked)return{x:e.x+this._previousPushAmount.x,y:e.y+this._previousPushAmount.y};let r=jb(t),o=this._viewportRect,a=Math.max(e.x+r.width-o.width,0),c=Math.max(e.y+r.height-o.height,0),u=Math.max(o.top-i.top-e.y,0),h=Math.max(o.left-i.left-e.x,0),f=0,p=0;return r.width<=o.width?f=h||-a:f=e.x<this._viewportMargin?o.left-i.left-e.x:0,r.height<=o.height?p=u||-c:p=e.y<this._viewportMargin?o.top-i.top-e.y:0,this._previousPushAmount={x:f,y:p},{x:e.x+f,y:e.y+p}}_applyPosition(e,t){if(this._setTransformOrigin(e),this._setOverlayElementStyles(t,e),this._setBoundingBoxStyles(t,e),e.panelClass&&this._addPanelClasses(e.panelClass),this._positionChanges.observers.length){let i=this._getScrollVisibility();if(e!==this._lastPosition||!this._lastScrollVisibility||!Gx(this._lastScrollVisibility,i)){let r=new Cc(e,i);this._positionChanges.next(r)}this._lastScrollVisibility=i}this._lastPosition=e,this._isInitialRender=!1}_setTransformOrigin(e){if(!this._transformOriginSelector)return;let t=this._boundingBox.querySelectorAll(this._transformOriginSelector),i,r=e.overlayY;e.overlayX==="center"?i="center":this._isRtl()?i=e.overlayX==="start"?"right":"left":i=e.overlayX==="start"?"left":"right";for(let o=0;o<t.length;o++)t[o].style.transformOrigin=`${i} ${r}`}_calculateBoundingBoxRect(e,t){let i=this._viewportRect,r=this._isRtl(),o,a,c;if(t.overlayY==="top")a=e.y,o=i.height-a+this._viewportMargin;else if(t.overlayY==="bottom")c=i.height-e.y+this._viewportMargin*2,o=i.height-c+this._viewportMargin;else{let C=Math.min(i.bottom-e.y+i.top,e.y),k=this._lastBoundingBoxSize.height;o=C*2,a=e.y-C,o>k&&!this._isInitialRender&&!this._growAfterOpen&&(a=e.y-k/2)}let u=t.overlayX==="start"&&!r||t.overlayX==="end"&&r,h=t.overlayX==="end"&&!r||t.overlayX==="start"&&r,f,p,v;if(h)v=i.width-e.x+this._viewportMargin*2,f=e.x-this._viewportMargin;else if(u)p=e.x,f=i.right-e.x;else{let C=Math.min(i.right-e.x+i.left,e.x),k=this._lastBoundingBoxSize.width;f=C*2,p=e.x-C,f>k&&!this._isInitialRender&&!this._growAfterOpen&&(p=e.x-k/2)}return{top:a,left:p,bottom:c,right:v,width:f,height:o}}_setBoundingBoxStyles(e,t){let i=this._calculateBoundingBoxRect(e,t);!this._isInitialRender&&!this._growAfterOpen&&(i.height=Math.min(i.height,this._lastBoundingBoxSize.height),i.width=Math.min(i.width,this._lastBoundingBoxSize.width));let r={};if(this._hasExactPosition())r.top=r.left="0",r.bottom=r.right=r.maxHeight=r.maxWidth="",r.width=r.height="100%";else{let o=this._overlayRef.getConfig().maxHeight,a=this._overlayRef.getConfig().maxWidth;r.height=we(i.height),r.top=we(i.top),r.bottom=we(i.bottom),r.width=we(i.width),r.left=we(i.left),r.right=we(i.right),t.overlayX==="center"?r.alignItems="center":r.alignItems=t.overlayX==="end"?"flex-end":"flex-start",t.overlayY==="center"?r.justifyContent="center":r.justifyContent=t.overlayY==="bottom"?"flex-end":"flex-start",o&&(r.maxHeight=we(o)),a&&(r.maxWidth=we(a))}this._lastBoundingBoxSize=i,yi(this._boundingBox.style,r)}_resetBoundingBoxStyles(){yi(this._boundingBox.style,{top:"0",left:"0",right:"0",bottom:"0",height:"",width:"",alignItems:"",justifyContent:""})}_resetOverlayElementStyles(){yi(this._pane.style,{top:"",left:"",bottom:"",right:"",position:"",transform:""})}_setOverlayElementStyles(e,t){let i={},r=this._hasExactPosition(),o=this._hasFlexibleDimensions,a=this._overlayRef.getConfig();if(r){let f=this._viewportRuler.getViewportScrollPosition();yi(i,this._getExactOverlayY(t,e,f)),yi(i,this._getExactOverlayX(t,e,f))}else i.position="static";let c="",u=this._getOffset(t,"x"),h=this._getOffset(t,"y");u&&(c+=`translateX(${u}px) `),h&&(c+=`translateY(${h}px)`),i.transform=c.trim(),a.maxHeight&&(r?i.maxHeight=we(a.maxHeight):o&&(i.maxHeight="")),a.maxWidth&&(r?i.maxWidth=we(a.maxWidth):o&&(i.maxWidth="")),yi(this._pane.style,i)}_getExactOverlayY(e,t,i){let r={top:"",bottom:""},o=this._getOverlayPoint(t,this._overlayRect,e);if(this._isPushed&&(o=this._pushOverlayOnScreen(o,this._overlayRect,i)),e.overlayY==="bottom"){let a=this._document.documentElement.clientHeight;r.bottom=`${a-(o.y+this._overlayRect.height)}px`}else r.top=we(o.y);return r}_getExactOverlayX(e,t,i){let r={left:"",right:""},o=this._getOverlayPoint(t,this._overlayRect,e);this._isPushed&&(o=this._pushOverlayOnScreen(o,this._overlayRect,i));let a;if(this._isRtl()?a=e.overlayX==="end"?"left":"right":a=e.overlayX==="end"?"right":"left",a==="right"){let c=this._document.documentElement.clientWidth;r.right=`${c-(o.x+this._overlayRect.width)}px`}else r.left=we(o.x);return r}_getScrollVisibility(){let e=this._getOriginRect(),t=this._pane.getBoundingClientRect(),i=this._scrollables.map(r=>r.getElementRef().nativeElement.getBoundingClientRect());return{isOriginClipped:Vb(e,i),isOriginOutsideView:wf(e,i),isOverlayClipped:Vb(t,i),isOverlayOutsideView:wf(t,i)}}_subtractOverflows(e,...t){return t.reduce((i,r)=>i-Math.max(r,0),e)}_getNarrowedViewportRect(){let e=this._document.documentElement.clientWidth,t=this._document.documentElement.clientHeight,i=this._viewportRuler.getViewportScrollPosition();return{top:i.top+this._viewportMargin,left:i.left+this._viewportMargin,right:i.left+e-this._viewportMargin,bottom:i.top+t-this._viewportMargin,width:e-2*this._viewportMargin,height:t-2*this._viewportMargin}}_isRtl(){return this._overlayRef.getDirection()==="rtl"}_hasExactPosition(){return!this._hasFlexibleDimensions||this._isPushed}_getOffset(e,t){return t==="x"?e.offsetX==null?this._offsetX:e.offsetX:e.offsetY==null?this._offsetY:e.offsetY}_validatePositions(){}_addPanelClasses(e){this._pane&&mr(e).forEach(t=>{t!==""&&this._appliedPanelClasses.indexOf(t)===-1&&(this._appliedPanelClasses.push(t),this._pane.classList.add(t))})}_clearPanelClasses(){this._pane&&(this._appliedPanelClasses.forEach(e=>{this._pane.classList.remove(e)}),this._appliedPanelClasses=[])}_getOriginRect(){let e=this._origin;if(e instanceof ce)return e.nativeElement.getBoundingClientRect();if(e instanceof Element)return e.getBoundingClientRect();let t=e.width||0,i=e.height||0;return{top:e.y,bottom:e.y+i,left:e.x,right:e.x+t,height:i,width:t}}};function yi(n,e){for(let t in e)e.hasOwnProperty(t)&&(n[t]=e[t]);return n}function zb(n){if(typeof n!="number"&&n!=null){let[e,t]=n.split(Hx);return!t||t==="px"?parseFloat(e):null}return n||null}function jb(n){return{top:Math.floor(n.top),right:Math.floor(n.right),bottom:Math.floor(n.bottom),left:Math.floor(n.left),width:Math.floor(n.width),height:Math.floor(n.height)}}function Gx(n,e){return n===e?!0:n.isOriginClipped===e.isOriginClipped&&n.isOriginOutsideView===e.isOriginOutsideView&&n.isOverlayClipped===e.isOverlayClipped&&n.isOverlayOutsideView===e.isOverlayOutsideView}var qb="cdk-global-overlay-wrapper";function Zb(n){return new kc}var kc=class{_overlayRef;_cssPosition="static";_topOffset="";_bottomOffset="";_alignItems="";_xPosition="";_xOffset="";_width="";_height="";_isDisposed=!1;attach(e){let t=e.getConfig();this._overlayRef=e,this._width&&!t.width&&e.updateSize({width:this._width}),this._height&&!t.height&&e.updateSize({height:this._height}),e.hostElement.classList.add(qb),this._isDisposed=!1}top(e=""){return this._bottomOffset="",this._topOffset=e,this._alignItems="flex-start",this}left(e=""){return this._xOffset=e,this._xPosition="left",this}bottom(e=""){return this._topOffset="",this._bottomOffset=e,this._alignItems="flex-end",this}right(e=""){return this._xOffset=e,this._xPosition="right",this}start(e=""){return this._xOffset=e,this._xPosition="start",this}end(e=""){return this._xOffset=e,this._xPosition="end",this}width(e=""){return this._overlayRef?this._overlayRef.updateSize({width:e}):this._width=e,this}height(e=""){return this._overlayRef?this._overlayRef.updateSize({height:e}):this._height=e,this}centerHorizontally(e=""){return this.left(e),this._xPosition="center",this}centerVertically(e=""){return this.top(e),this._alignItems="center",this}apply(){if(!this._overlayRef||!this._overlayRef.hasAttached())return;let e=this._overlayRef.overlayElement.style,t=this._overlayRef.hostElement.style,i=this._overlayRef.getConfig(),{width:r,height:o,maxWidth:a,maxHeight:c}=i,u=(r==="100%"||r==="100vw")&&(!a||a==="100%"||a==="100vw"),h=(o==="100%"||o==="100vh")&&(!c||c==="100%"||c==="100vh"),f=this._xPosition,p=this._xOffset,v=this._overlayRef.getConfig().direction==="rtl",C="",k="",O="";u?O="flex-start":f==="center"?(O="center",v?k=p:C=p):v?f==="left"||f==="end"?(O="flex-end",C=p):(f==="right"||f==="start")&&(O="flex-start",k=p):f==="left"||f==="start"?(O="flex-start",C=p):(f==="right"||f==="end")&&(O="flex-end",k=p),e.position=this._cssPosition,e.marginLeft=u?"0":C,e.marginTop=h?"0":this._topOffset,e.marginBottom=this._bottomOffset,e.marginRight=u?"0":k,t.justifyContent=O,t.alignItems=h?"flex-start":this._alignItems}dispose(){if(this._isDisposed||!this._overlayRef)return;let e=this._overlayRef.overlayElement.style,t=this._overlayRef.hostElement,i=t.style;t.classList.remove(qb),i.justifyContent=i.alignItems=e.marginTop=e.marginBottom=e.marginLeft=e.marginRight=e.position="",this._overlayRef=null,this._isDisposed=!0}},ew=(()=>{class n{_injector=S(se);constructor(){}global(){return Zb()}flexibleConnectedTo(t){return Jb(this._injector,t)}static \u0275fac=function(i){return new(i||n)};static \u0275prov=$({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();function tw(n,e){n.get(Bt).load(Qb);let t=n.get(Xb),i=n.get(ae),r=n.get(pr),o=n.get(Br),a=n.get(vi),c=i.createElement("div"),u=i.createElement("div");u.id=r.getId("cdk-overlay-"),u.classList.add("cdk-overlay-pane"),c.appendChild(u),t.getContainerElement().appendChild(c);let h=new wc(u,o,n),f=new Sc(e),p=n.get(pn,null,{optional:!0})||n.get(vt).createRenderer(null,null);return f.direction=f.direction||a.value,new xc(h,c,u,f,n.get(W),n.get(Kb),i,n.get(Jm),n.get(Yb),e?.disableAnimations??n.get(Es,null,{optional:!0})==="NoopAnimations",n.get(mn),p)}var nw=(()=>{class n{scrollStrategies=S(Hb);_positionBuilder=S(ew);_injector=S(se);constructor(){}create(t){return tw(this._injector,t)}position(){return this._positionBuilder}static \u0275fac=function(i){return new(i||n)};static \u0275prov=$({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();var Kx=new Q("cdk-connected-overlay-scroll-strategy",{providedIn:"root",factory:()=>{let n=S(se);return()=>Pc(n)}});function Yx(n){let e=S(se);return()=>Pc(e)}var Qx={provide:Kx,useFactory:Yx},Xx=(()=>{class n{static \u0275fac=function(i){return new(i||n)};static \u0275mod=he({type:n});static \u0275inj=de({providers:[nw,Qx],imports:[jn,Mb,bf,bf]})}return n})();export{QR as a,XR as b,_P as c,vP as d,_e as e,pi as f,tO as g,nO as h,iO as i,Sy as j,Cy as k,rO as l,oO as m,sO as n,xy as o,aO as p,cO as q,pO as r,TC as s,ye as t,rc as u,sc as v,AC as w,Bt as x,Ly as y,nf as z,fN as A,Hy as B,UC as C,zC as D,jC as E,pr as F,Xy as G,sf as H,p1 as I,zn as J,Zy as K,M1 as L,sb as M,ex as N,vi as O,pt as P,lb as Q,vM as R,yM as S,vf as T,Go as U,bc as V,LF as W,VF as X,Mb as Y,Ec as Z,hL as _,Ko as $,Fb as aa,bf as ba,$b as ca,Pc as da,Sc as ea,Xb as fa,xc as ga,Zb as ha,tw as ia,Xx as ja,BM as ka,zM as la,_b as ma,Nb as na,qx as oa};
